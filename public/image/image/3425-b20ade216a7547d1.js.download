!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="40edfcbc-926e-430f-ba32-184e33005385",e._sentryDebugIdIdentifier="sentry-dbid-40edfcbc-926e-430f-ba32-184e33005385")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3425],{2971:function(e,n,i){i.d(n,{Q:function(){return ie}});var t=i(57437),o=i(75500),l=i(8196),a=i(49911),r=i(21788),s=i(27924),d=i(16152),c=i(26262),u=i(2265),g=i(14885),h=i(60643),m=i(70996),x=i(13449),p=i(22811),v=i(97244),b=i(12199),C=i(4360),f=i(51832),j=i(60246),w=i(7409);let I=e=>"name"in e&&"urlImage"in e&&"akUUID"in e&&"weight"in e;var y=e=>{let{elements:n,userElements:i}=e,o=[...n,...i];return(0,t.jsxs)(x.k,{bgColor:"rgba(23, 23, 23, 1)",borderRadius:"lg",flexDir:"column",p:2,px:3.5,children:[(0,t.jsx)(C.x,{lineHeight:1,fontWeight:"400",color:"rgba(219, 219, 219, 0.5)",fontSize:"0.875rem",mb:2,children:"Elements"}),(0,t.jsx)(h.r,{mt:2,rowGap:"0.3125rem",columnGap:"0.9375rem",gridTemplateColumns:"repeat(2, 1fr)",children:o.map(e=>(0,t.jsxs)(x.k,{fontSize:"0.8rem",alignItems:"center",justifyContent:"space-between",children:[(0,t.jsxs)(x.k,{children:[(0,t.jsx)(j.zC,{element:e,width:"1.875rem",height:"1.875rem"}),(0,t.jsx)(x.k,{alignItems:"center",justifyContent:"space-between",ml:2,children:(0,t.jsx)(w.Z,{children:e.name})})]}),(0,t.jsx)(f.Z,{background:"#181F2F",color:"#9094A6",fontWeight:"initial",px:1,fontSize:"xs",rounded:"md",weight:e.weight})]},I(e)?e.akUUID:e.id))})]})},k=i(28104);let M=e=>{let{name:n,weight:i,strengthType:o,...l}=e;return(0,t.jsxs)(x.k,{fontSize:"calc(".concat(k.cM," * 0.8)"),alignItems:"center",justifyContent:"space-between",...l,children:[(0,t.jsx)(x.k,{children:(0,t.jsx)(x.k,{alignItems:"center",justifyContent:"space-between",children:(0,t.jsx)(w.Z,{children:n})})}),(0,t.jsx)(f.Z,{background:"#181F2F",color:"#9094A6",fontWeight:"initial",px:1,fontSize:"xs",rounded:"md",strengthType:o,weight:i})]})};var L=e=>{let{controlnets:n,initStrength:i,imagePromptStrength:o}=e;return(0,t.jsxs)(x.k,{bgColor:"rgba(23, 23, 23, 1)",borderRadius:"lg",flexDir:"column",p:2,px:3.5,children:[(0,t.jsx)(C.x,{lineHeight:1,fontWeight:"400",color:"rgba(219, 219, 219, 0.5)",fontSize:"sm",mb:2,children:"Image Guidance"}),(0,t.jsxs)(h.r,{mt:2,rowGap:"calc(".concat(k.cM," * 0.3125)"),columnGap:"calc(".concat(k.cM," * 0.9375)"),gridTemplateColumns:"repeat(2, 1fr)",children:[n.map(e=>{var n;return(0,t.jsx)(M,{name:null!==(n=e.controlnet_definition.displayName)&&void 0!==n?n:e.controlnet_definition.controlnetType,weight:e.weightApplied,strengthType:e.imageGuidanceStrengthType},e.id)}),i&&(0,t.jsx)(M,{name:"Image to Image",weight:i}),o&&(0,t.jsx)(M,{name:"Image Prompt",weight:o})]})]})},S=i(1677),_=i(48121),Z=i(30839),z=e=>{let{model:n,elements:i,userElements:o,onClose:l,isDisabled:a}=e,r=i.map(e=>({id:e.akUUID,isEnabled:!0,weight:e.weight})),s=o.map(e=>({id:String(e.id),isEnabled:!0,weight:e.weight})),{handleGenerateModelLink:d}=(0,Z.p)({generationProps:{modelId:n.id,width:768,height:768,elements:r,userElements:s,sdVersion:n.sdVersion}});return(0,t.jsx)(S.z,{leftIcon:(0,t.jsx)(_.Z,{width:k.cM,height:k.cM}),iconSpacing:1,"aria-label":"Generate with this model",onClick:async()=>{await d(),null==l||l()},variant:"gradient",fontSize:"sm",height:"unset",fontWeight:500,px:4,py:2,lineHeight:"calc(".concat(k.cM," * 0.875)"),isDisabled:a,children:"Generate with this model"})},E=i(45173),D=e=>{let{model:n,showCreatedWith:i}=e;return(0,t.jsxs)(t.Fragment,{children:[i&&(0,t.jsx)(C.x,{fontSize:"sm",textAlign:"center",fontWeight:"500",color:"white",children:"Original image created with"}),(0,t.jsx)(x.k,{bgColor:"rgba(23, 23, 23, 1)",borderRadius:"lg",justify:"space-between",p:2,children:(0,t.jsxs)(x.k,{alignItems:"stretch",gap:3.5,children:[(0,t.jsx)(m.xu,{w:"calc(".concat(k.cM," * 2.625)"),h:"calc(".concat(k.cM," * 2.625)"),rounded:"md",overflow:"hidden",children:(0,t.jsx)(E.Z,{modelId:n.id})}),(0,t.jsxs)(x.k,{flexDirection:"column",justifyContent:"space-between",children:[(0,t.jsx)(C.x,{fontWeight:"400",fontSize:"sm",color:"rgba(219, 219, 219, 0.5)",children:"Finetuned Model"}),(0,t.jsx)(C.x,{fontWeight:"400",fontSize:"sm",...n.isPrivate&&{color:"#FF8600"},children:n.name})]})]})})]})},P=i(72760),H=e=>{let{updateLoading:n,modelName:i,onClick:o}=e;return(0,t.jsxs)(S.z,{whiteSpace:"normal",fontSize:"sm",height:"unset",px:4,py:2,variant:"gradient",onClick:o,disabled:n,textAlign:"center",lineHeight:"calc(".concat(k.cM," * 0.875)"),children:[n&&(0,t.jsx)(P.$,{speed:"1s",size:"sm",mr:2}),(0,t.jsxs)(C.x,{lineHeight:"110%",textAlign:"center",children:["Use this image as the cover for"," ",(0,t.jsx)(C.x,{color:"white",as:"span",fontWeight:"bold",children:i})," ","model"]})]})},V=i(54944),A=i(53686),U=e=>{let{customModel:n,modelCreatedByUserId:i,currentUserId:o,generatedByUserId:l,imageId:a,onUpdateCoverImageCompleted:r,isPrivate:s,elements:d=[],userElements:c=[],controlnets:u=[],onClose:g,initStrength:h,imagePromptStrength:m,showGenerateWithModel:p=!0,disableGenerateWithModel:v,sdVersion:C}=e,{id:f,name:j}=n||{},w={id:f,name:s?"This model is private":j,isPrivate:s,sdVersion:C},[I,{loading:k}]=(0,b.D)(V.QzC,{variables:{pk_columns:{id:w.id},_set:{featuredImageId:a}},onCompleted:()=>{null==r||r()}}),M=!!d.length||!!c.length,S=!!u.length||h||m,_=p&&!s&&(0,A.p3)(w.sdVersion);return(0,t.jsxs)(x.k,{padding:2,bgColor:"rgba(32, 32, 32, 1)",borderRadius:"lg",flexDir:"column",gap:2,children:[(0,t.jsx)(D,{model:w,showCreatedWith:!_}),S&&(0,t.jsx)(L,{controlnets:u,initStrength:h,imagePromptStrength:m}),M&&(0,t.jsx)(y,{elements:d,userElements:c}),_&&(0,t.jsx)(z,{elements:d,userElements:c,model:w,onClose:g,isDisabled:v}),o===l&&o===i?(0,t.jsx)(H,{updateLoading:k,modelName:w.name,onClick:()=>{I()}}):null]})},O=i(58055),W=i(25730),R=i(43326);let T=e=>{let{label:n,onClick:i}=e;return(0,t.jsx)(S.z,{variant:"ModalPopoverMenu",fontSize:{base:"xs",md:"sm"},leftIcon:(0,t.jsx)(R.DNM,{style:{color:"white"}}),borderBottom:"none",onClick:i,children:n})};var F=i(1057);let B=e=>{let{label:n,onClick:i}=e;return(0,t.jsx)(S.z,{px:2,h:8,leftIcon:(0,t.jsx)(F.Z,{}),size:"sm",fontWeight:300,variant:"ModalImageButtonsStyles",onClick:i,flexGrow:1,fontSize:{base:"xs",md:"sm"},children:n})};var N=i(91271),G=i(36094),q=i(66242),J=i(26258),Y=i(67354),X=i(13856),$=e=>(0,t.jsx)(X.J,{width:3,height:3,viewBox:"0 0 12 12",fill:"currentColor",...e,children:(0,t.jsx)("path",{d:"M11.9999 0.666672V4C11.9999 4.276 11.7759 4.5 11.4999 4.5C11.2239 4.5 10.9999 4.276 10.9999 4V1.87403L5.85327 7.02068C5.75594 7.11801 5.62792 7.16732 5.49992 7.16732C5.37192 7.16732 5.2439 7.11868 5.14657 7.02068C4.95123 6.82534 4.95123 6.50865 5.14657 6.31332L10.2932 1.16667H8.16658C7.89058 1.16667 7.66658 0.942672 7.66658 0.666672C7.66658 0.390672 7.89058 0.166672 8.16658 0.166672H11.4999C11.5653 0.166672 11.63 0.180075 11.6913 0.205409C11.8133 0.256075 11.9107 0.353413 11.962 0.476079C11.9867 0.536746 11.9999 0.601338 11.9999 0.666672ZM11.4999 6.16667C11.2239 6.16667 10.9999 6.39067 10.9999 6.66667V9.33334C10.9999 10.3847 10.5513 10.8333 9.49992 10.8333H2.83325C1.78192 10.8333 1.33325 10.3847 1.33325 9.33334V2.66667C1.33325 1.61534 1.78192 1.16667 2.83325 1.16667H5.49992C5.77592 1.16667 5.99992 0.942672 5.99992 0.666672C5.99992 0.390672 5.77592 0.166672 5.49992 0.166672H2.83325C1.22125 0.166672 0.333252 1.05467 0.333252 2.66667V9.33334C0.333252 10.9453 1.22125 11.8333 2.83325 11.8333H9.49992C11.1119 11.8333 11.9999 10.9453 11.9999 9.33334V6.66667C11.9999 6.39067 11.7759 6.16667 11.4999 6.16667Z"})}),K=i(28432),Q=i(28212),ee=i(23721),en=i(7174),ei=i(76524),et=i(39954);let eo=e=>{e&&navigator.clipboard.writeText(e)},el=()=>{let{image:e}=(0,J.J)(),{handleAddCollectionImage:n,handleRemoveCollectionImage:i}=(0,Q.Z)(),{showCollectionImagesToast:o}=(0,ee.Z)(),{isHomeExact:l}=(0,en.f)(),{openCollectionPrivacyWarning:a}=(0,N.P)(),{userSelectedTeam:r}=(0,et.P)(),s=!!r(),d=[{id:String(null==e?void 0:e.id),isPublic:!1,url:"",variations:[],userId:null,collection_images:[],teamId:null}],c=null==e?void 0:e.motionGifUrl,g=null==e?void 0:e.motionMp4Url,h=(0,ei.A)(),m=(0,u.useCallback)(()=>eo(c),[c]),p=(0,u.useCallback)(()=>eo(g),[g]),v=async(t,l)=>{e&&t&&(d.find(e=>!e.isPublic)&&s&&l&&a(),l?await n(t,e,(e,n,i,t)=>o(e,n,i,t)):await i(t,e,(e,n,i,t)=>o(e,n,i,t)))};return(0,t.jsxs)(x.k,{w:"full",justifyContent:"space-between",gap:3,children:[!l&&(0,t.jsx)(G.e,{displayText:"Organize",icon:(0,t.jsx)(Y.Z,{boxSize:4.5}),w:"100%",rounded:"sm",mode:q.MC.UPDATE,onCollectionChecked:v,selectedImages:d}),(0,t.jsx)(B,{label:"Download MP4",onClick:()=>g&&h({imageUrl:g})}),(0,t.jsx)(B,{label:"Download GIF",onClick:()=>c&&h({imageUrl:c})}),(0,t.jsx)(K.Z,{placement:"bottom-start",menuButtons:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T,{label:"Copy MP4 link",onClick:p}),(0,t.jsx)(T,{label:"Copy GIF link",onClick:m})]}),children:(0,t.jsx)(W.h,{h:8,variant:"ModalImageButtonsStyles",minW:0,px:2.5,icon:(0,t.jsx)($,{color:"white"}),"aria-label":"Share"})})]})};var ea=i(68499),er=i(20765),es=i(30166),ed=i(21469),ec=i(95468),eu=i(12162),eg=i(86067),eh=i(43845);let em=e=>{let n=(0,eg.I)(),i=(0,eh.Z)();return(null==e?void 0:e.userId)===n||i};var ex=i(82030);let ep=(0,es.default)(()=>i.e(5065).then(i.bind(i,45065)),{loadableGenerated:{webpack:()=>[45065]}}),ev=e=>{e&&navigator.clipboard.writeText(e)},eb=e=>{let{onDelete:n}=e,{hasPermission:i}=(0,ex.T)(),o=!i("generation","delete"),{image:l}=(0,J.J)(),a=em(l),{isOpen:r,onClose:s,onOpen:d}=(0,ea.q)(),{isOpen:c,onClose:g,onOpen:h}=(0,ea.q)(),[m,p]=(0,u.useState)(!1),{handleAddCollectionImage:v,handleRemoveCollectionImage:C}=(0,Q.Z)(),{showCollectionImagesToast:f}=(0,ee.Z)(),{openCollectionPrivacyWarning:j}=(0,N.P)(),{userSelectedTeam:w}=(0,et.P)(),I=!!w(),{isHomeExact:y}=(0,en.f)(),k=[{id:String(null==l?void 0:l.id),isPublic:!1,url:"",variations:[],userId:null,collection_images:[],teamId:null}],[M,{loading:L}]=(0,b.D)(V.kgD,{onCompleted:()=>{null==n||n(),g()}}),S=(0,u.useCallback)(async()=>{await M({variables:{id:(null==l?void 0:l.generation.id)||""}})},[M,null==l?void 0:l.generation.id]),_=null==l?void 0:l.motionMp4Url,Z=(0,ei.A)(),z=(0,u.useCallback)(()=>ev(_),[_]),E=async(e,n)=>{l&&e&&(k.find(e=>!e.isPublic)&&I&&n&&j(),n?await v(e,l,(e,n,i,t)=>f(e,n,i,t)):await C(e,l,(e,n,i,t)=>f(e,n,i,t)))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x.k,{w:"full",justifyContent:"flex-end",gap:3,children:[!y&&(0,t.jsx)(G.e,{displayText:"Organize",rounded:"md",w:"100%",icon:(0,t.jsx)(Y.Z,{boxSize:4.5}),mode:q.MC.UPDATE,onCollectionChecked:E,selectedImages:k}),!a&&(0,t.jsx)(W.h,{h:8,variant:"ModalImageButtonsStyles",minW:0,px:2.5,icon:(0,t.jsx)(ed.BJv,{size:"0.875rem"}),"aria-label":"Report",title:"Report",onClick:()=>{p(!0),d()}}),a&&(0,t.jsx)(er.u,{hasArrow:!0,arrowSize:6,placement:"auto",fontSize:"xs",label:"Upgrade to Premium to delete videos",shouldWrapChildren:!0,isDisabled:!o,children:(0,t.jsx)(W.h,{h:8,variant:"ModalImageButtonsStyles",minW:0,px:2.5,icon:(0,t.jsx)(eu.Z,{color:"white",boxSize:3.5}),"aria-label":"Delete",title:"Delete",onClick:h,isDisabled:o})}),(0,t.jsx)(W.h,{h:8,variant:"ModalImageButtonsStyles",minW:0,px:2.5,icon:(0,t.jsx)(F.Z,{color:"white",boxSize:3.5}),"aria-label":"Download",title:"Download",onClick:()=>_&&Z({imageUrl:_})}),(0,t.jsx)(K.Z,{placement:"bottom-start",menuButtons:(0,t.jsx)(T,{label:"Copy video link",onClick:z}),children:(0,t.jsx)(W.h,{h:8,variant:"ModalImageButtonsStyles",minW:0,px:2.5,icon:(0,t.jsx)($,{color:"white",boxSize:3}),"aria-label":"Share",title:"Share"})})]}),m&&(0,t.jsx)(ep,{isOpen:r,onClose:s,modelId:(null==l?void 0:l.generation.modelId)||void 0}),(0,t.jsx)(ec.Z,{isMotion:!0,isOpen:c,onClose:g,deleteImage:S,loading:L})]})};var eC=i(22573),ef=i(60779),ej=i(99911),ew=i(3331),eI=i(12536),ey=i(24146);let ek=e=>{let{isLoading:n,onClick:i}=e,o={h:4,w:4};return(0,t.jsx)(m.xu,{children:(0,t.jsxs)(S.z,{"aria-label":"Upscale Image",rounded:"md",role:"group",leftIcon:n?(0,t.jsx)(P.$,{...o}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eI.Z,{_groupHover:{display:"none"},...o}),(0,t.jsx)(ey.Z,{display:"none",_groupHover:{display:"block"},...o})]}),fontWeight:300,variant:"ModalImageButtonsStyles",_hover:{transition:"0",filter:"none",backdropFilter:"0.125rem",background:"linear-gradient(81.02deg, rgba(250, 85, 96, 0.08) -23.47%, rgba(177, 75, 244, 0.08) 45.52%, rgba(77, 145, 255, 0.08) 114.8%)"},bg:"background.darkblue",borderStyle:"solid",borderWidth:"px",borderColor:"border.greyBlue",onClick:i,height:8,children:[(0,t.jsx)(C.x,{display:{base:"none",md:"block"},children:"Upscale Image"}),(0,t.jsx)(C.x,{display:{base:"block",md:"none"},children:"Upscale"})]})})};var eM=i(51023),eL=i(18807),eS=i(3676);let e_=e=>{e&&navigator.clipboard.writeText(e)},eZ=()=>{let{currentPlan:e}=(0,ef.m)(),{image:n,selectedImageVariation:i,loading:o}=(0,J.J)(),{alchemyRefinerLoading:l,openAlchemyRefinerModal:a,startPollingImageVariations:r,upscaleLoading:s}=(0,ej.g)(),{handleAddCollectionImage:d,handleRemoveCollectionImage:c}=(0,Q.Z)(),{showCollectionImagesToast:g}=(0,ee.Z)(),{openCollectionPrivacyWarning:h}=(0,N.P)(),{userSelectedTeam:m,selectedTeamUUID:p}=(0,et.P)(),v=!!m(),{isUltraGenerationModeEnabled:b}=(0,eM.V)(),C=em(n),f=(null==n?void 0:n.id)||"",{isOpen:j,onOpen:w,onClose:I}=(0,ea.q)(),{isHomeExact:y}=(0,en.f)(),k=(null==i?void 0:i.url)||(null==n?void 0:n.originalUrl),M=(0,ei.A)(),L=i=>{var t;(0,eL.j)(eS.sEy,{elements:null==n?void 0:n.generation.generation_elements,elements_count:null==n?void 0:n.generation.quantity,gen_opt_model:null==n?void 0:n.generation.modelId,gen_opt_preset:null==n?void 0:n.generation.presetStyle,gen_opt_sd_version:null==n?void 0:n.generation.sdVersion,image_width:null==n?void 0:n.imageWidth,image_height:null==n?void 0:n.imageHeight,modelId:null==n?void 0:n.generation.modelId,plan:e,presetId:null==n?void 0:null===(t=n.preset)||void 0===t?void 0:t.id,teamId:p,ultra:null==n?void 0:n.generation.ultra}),M({imageUrl:i})},S=(0,u.useCallback)(()=>e_(k),[k]),_=[{id:String(null==n?void 0:n.id),isPublic:!1,url:"",variations:[],userId:null,collection_images:[],teamId:null}],Z=async(e,i)=>{n&&e&&(i&&!n.public&&v&&h(),i?await d(e,n,(e,n,i,t)=>g(e,n,i,t)):await c(e,n,(e,n,i,t)=>g(e,n,i,t)))};return(0,t.jsxs)(x.k,{w:"full",justifyContent:"space-between",gap:3,children:[(0,t.jsx)(x.k,{w:"100%",children:b?(0,t.jsx)(ek,{onClick:w,isLoading:s||l}):(0,t.jsx)(ew.G,{isLoading:l,isDisabled:o,onClick:a})}),!y&&C&&(0,t.jsx)(G.e,{displayText:"Organize",w:"100%",rounded:"md",icon:(0,t.jsx)(Y.Z,{boxSize:4.5}),mode:q.MC.UPDATE,onCollectionChecked:Z,selectedImages:_}),(0,t.jsx)(W.h,{h:8,variant:"ModalImageButtonsStyles",minW:0,px:2.5,icon:(0,t.jsx)(F.Z,{color:"white"}),"aria-label":"Download",onClick:()=>k&&L(k),"data-tracking-id":eS.sEy}),(0,t.jsx)(K.Z,{placement:"bottom-start",menuButtons:(0,t.jsx)(T,{label:"Copy link",onClick:S}),children:(0,t.jsx)(W.h,{h:8,variant:"ModalImageButtonsStyles",minW:0,px:2.5,icon:(0,t.jsx)($,{color:"white"}),"aria-label":"Share"})}),(0,t.jsx)(eC.S,{imageId:f,isOpen:j,onClose:I,onUpscale:()=>r(5e3)})]})};var ez=i(99376),eE=i(68435),eD=i(74449),eP=i(19497);let eH=e=>{let{url:n}=e,i=(0,eD.T)(),o=(0,ez.useRouter)();return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(S.z,{display:{base:"none",sm_next:"flex"},variant:"ModalPopoverMenu",fontSize:{base:"xs",sm:"sm"},onClick:()=>{n&&(i((0,eP.e)(n)),o.push("/canvas"))},leftIcon:(0,t.jsx)(eE.Z,{height:15,width:15,fill:"white"}),children:"Edit in canvas"})})};var eV=i(32970),eA=i(65898),eU=e=>{let{image:n}=e,i=(0,eA.Z)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.z,{onClick:()=>{n&&(navigator.clipboard.writeText(n.id),i({title:"Copied to Clipboard",description:"Image ID '".concat(n.id,"' copied to clipboard."),type:eA.N.success}))},leftIcon:(0,t.jsx)(eV._al,{color:"rgb(189, 189, 189)",height:4,width:4}),variant:"ModalPopoverMenu",fontSize:{base:"xs",md:"sm"},borderBottom:"none",children:"(Admin) Copy Image ID"}),(0,t.jsx)(S.z,{onClick:()=>{(null==n?void 0:n.generation)&&(navigator.clipboard.writeText(null==n?void 0:n.generation.id),i({title:"Copied to Clipboard",description:"Generation ID '".concat(null==n?void 0:n.generation.id,"' copied to clipboard."),type:eA.N.success}))},leftIcon:(0,t.jsx)(eV._al,{color:"rgb(189, 189, 189)",height:4,width:4}),variant:"ModalPopoverMenu",fontSize:{base:"xs",md:"sm"},borderBottom:"none",children:"(Admin) Copy Generation ID"}),(0,t.jsx)(S.z,{onClick:()=>{var e;(null==n?void 0:n.generation)&&(navigator.clipboard.writeText(null!==(e=n.generation.modelId)&&void 0!==e?e:""),i({title:"Copied to Clipboard",description:"Model ID '".concat(n.generation.modelId,"' for generation ID '").concat(n.generation.id,"' copied to clipboard."),type:eA.N.success}))},leftIcon:(0,t.jsx)(eV._al,{color:"rgb(189, 189, 189)",height:4,width:4}),variant:"ModalPopoverMenu",fontSize:{base:"xs",md:"sm"},borderBottom:"none",children:"(Admin) Copy Model ID"}),(0,t.jsx)(S.z,{onClick:()=>{var e;(null==n?void 0:n.generation)&&(navigator.clipboard.writeText(null!==(e=n.userId)&&void 0!==e?e:""),i({title:"Copied to Clipboard",description:"User ID '".concat(n.userId,"' for generation ID '").concat(n.generation.id,"' copied to clipboard."),type:eA.N.success}))},leftIcon:(0,t.jsx)(eV._al,{color:"rgb(189, 189, 189)",height:4,width:4}),variant:"ModalPopoverMenu",fontSize:{base:"xs",md:"sm"},borderBottom:"none",children:"(Admin) Copy User ID"}),(0,t.jsx)(S.z,{onClick:()=>{(null==n?void 0:n.generation)&&(navigator.clipboard.writeText(JSON.stringify(null==n?void 0:n.generation,void 0,4)),i({title:"Copied to Clipboard",description:"Generation query data for generation ID '".concat(null==n?void 0:n.generation.id,"' copied to clipboard."),type:eA.N.success}))},leftIcon:(0,t.jsx)(eV._al,{color:"rgb(189, 189, 189)",height:4,width:4}),variant:"ModalPopoverMenu",fontSize:{base:"xs",md:"sm"},borderBottom:"none",children:"(Admin) Copy Generation Data From Query"}),(0,t.jsx)(S.z,{onClick:()=>{n&&(navigator.clipboard.writeText(JSON.stringify(n,void 0,4)),i({title:"Copied to Clipboard",description:"Image query data for image ID '".concat(null==n?void 0:n.id,"' copied to clipboard."),type:eA.N.success}))},leftIcon:(0,t.jsx)(eV._al,{color:"rgb(189, 189, 189)",height:4,width:4}),variant:"ModalPopoverMenu",fontSize:{base:"xs",md:"sm"},borderBottom:"none",children:"(Admin) Copy Image Data From Query"})]})},eO=i(93340),eW=i(77763),eR=i(64855),eT=i(69145);let eF=e=>{let{image:n,selectedImageVariation:i}=(0,J.J)(),t=(0,eR.u)(null==n?void 0:n.generated_image_variation_generics,i),o=(0,eT.B)(e);return{...t,afford:o,image:n}};var eB=i(13604),eN=i(50571),eG=i(40453);let eq="Remove background",eJ=e=>{let{loading:n,onClick:i}=e,{isDisabledNobg:o,afford:l}=eF(eN.Ye.NOBG),a=o||!l||n;return(0,t.jsx)(eB.S,{variation:eO.VARIATION_TYPE.NOBG,placement:"auto",prependLabel:"".concat(eG.dX," - "),children:(0,t.jsx)(S.z,{px:2,variant:"ModalPopoverMenu",fontSize:{base:"xs",md:"sm"},leftIcon:(0,t.jsx)(eW.dPc,{style:{color:"white"}}),fontWeight:300,isDisabled:a,isLoading:n,loadingText:eq,onClick:i,children:eq})})},eY="Unzoom image",eX=e=>{var n;let{loading:i,onClick:o}=e,{isDisabledUnzoom:l,afford:a,image:r}=eF(eN.Ye.UNZOOM),s=l||!a||i;return(0,A.dU)(null==r?void 0:null===(n=r.generation)||void 0===n?void 0:n.sdVersion)?null:(0,t.jsx)(eB.S,{prependLabel:"".concat(eG.OR," - "),placement:"auto",variation:eO.VARIATION_TYPE.UNZOOM,children:(0,t.jsx)(S.z,{variant:"ModalPopoverMenu",fontSize:{base:"xs",md:"sm"},fontWeight:300,leftIcon:(0,t.jsx)(eV.RS4,{style:{color:"white"}}),isDisabled:s,isLoading:i,loadingText:eY,onClick:o,children:eY})})};var e$=i(23836),eK=e=>(0,t.jsx)("svg",{width:"calc(".concat(k.cM," * 1.5)"),height:"calc(".concat(k.cM," * 1.4375)"),viewBox:"0 0 24 23",...e,children:(0,t.jsx)("path",{d:"M12 15V13M12 15C10.3431 15 9 16.3431 9 18M12 15C13.6569 15 15 16.3431 15 18M14.121 15.879L15.536 14.464M15 18C15 19.6569 13.6569 21 12 21M15 18H17M12 21C10.3431 21 9 19.6569 9 18M12 21V23M9 18H7M14.121 20.121L15.536 21.536M9.879 20.121L8.464 21.536M9.879 15.879L8.464 14.464M12 9V5M12 5C13.1046 5 14 4.10457 14 3C14 1.89543 13.1046 1 12 1C10.8954 1 10 1.89543 10 3C10 4.10457 10.8954 5 12 5ZM3 5C4.10457 5 5 4.10457 5 3C5 1.89543 4.10457 1 3 1C1.89543 1 1 1.89543 1 3C1 4.10457 1.89543 5 3 5ZM3 5V9L5.564 11.564M21 5C22.1046 5 23 4.10457 23 3C23 1.89543 22.1046 1 21 1C19.8954 1 19 1.89543 19 3C19 4.10457 19.8954 5 21 5ZM21 5V9L18.436 11.564"})});let eQ=e=>{var n;let{loading:i,onClick:o,isSdV3:l}=e,{tooltip:a,label:r,isDisabled:s}=(0,e$.R)(l),{isDisabledUpscaleAlternate:d,afford:c,image:u}=eF(eN.Ye.UPSCALE),g=a||er.u,h=a===eB.S?{prependLabel:eG.m_}:{label:r};return(null==u?void 0:null===(n=u.generation)||void 0===n?void 0:n.alchemy)?null:(0,t.jsx)(g,{...h,variation:eO.VARIATION_TYPE.UPSCALE,placement:"auto",children:(0,t.jsx)(S.z,{variant:"ModalPopoverMenu",fontSize:{base:"xs",md:"sm"},fontWeight:300,leftIcon:(0,t.jsx)(eK,{width:"calc(".concat(k.cM," * 0.875)"),fill:"white"}),isDisabled:d||!c||s,isLoading:i,loadingText:r,onClick:o,children:"Alternate Upscale"})})};var e0=i(26694),e1=i(96419);let e2=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.xu,{display:{xs:"block",md:"none"},children:"Upscale"}),(0,t.jsx)(m.xu,{display:{xs:"none",md:"block"},children:"Creative Upscale"})]}),e5=e=>{let{loading:n,onClick:i,isSdV3:o}=e,{tooltip:l,label:a,isDisabled:r}=(0,e1.Z)(o),{isDisabledUpscaleDefault:s,afford:d}=eF(eN.Ye.UPSCALE),c=l||er.u,u=l===eB.S?{prependLabel:"Upscales and creatively improves images during the upscaling process - "}:{label:a};return(0,t.jsx)(c,{...u,variation:eO.VARIATION_TYPE.UPSCALE,children:(0,t.jsx)(S.z,{variant:"ModalPopoverMenu",fontSize:{base:"xs",md:"sm"},fontWeight:300,leftIcon:(0,t.jsx)(e0.Z,{width:"calc(".concat(k.cM," * 0.875)"),fill:"white"}),isDisabled:s||!d||r,isLoading:n,loadingText:(0,t.jsx)(e2,{}),onClick:i,children:(0,t.jsx)(e2,{})})})};var e3=i(91850),e7=e=>(0,t.jsxs)("svg",{width:"calc(".concat(k.cM," * 1.6250)"),height:"calc(".concat(k.cM," * 1.5)"),viewBox:"0 0 26 24",fill:"none",...e,children:[(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.3373 5.38056L16.0708 3.06152L16.8105 2.30469L19.077 4.62373L18.3373 5.38056ZM10.7085 8.54825L12.9749 10.8673L12.2353 11.6241L9.96878 9.30509L10.7085 8.54825ZM5.95886 17.6893L3.69238 15.3703L4.43206 14.6134L6.69854 16.9325L5.95886 17.6893Z"}),(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.8467 0.107174C15.0861 0.284694 15.1346 0.620479 14.955 0.857172C14.4198 1.56283 14.3481 2.7015 14.5452 4.19112C14.6412 4.91627 14.7941 5.68396 14.9571 6.47068C14.9792 6.57701 15.0014 6.68375 15.0237 6.79075C15.1649 7.46887 15.3084 8.15763 15.4175 8.82009C15.5439 9.58696 15.6289 10.3435 15.6099 11.0395C15.591 11.7334 15.4681 12.4042 15.1477 12.9749C14.4656 14.1896 13.0603 14.6935 10.8522 14.4613C10.5547 14.43 10.3391 14.1661 10.3708 13.8719C10.4024 13.5777 10.6693 13.3646 10.9669 13.3958C13.0029 13.61 13.8326 13.1095 14.2003 12.4548C14.4047 12.0908 14.5104 11.6106 14.5267 11.0106C14.543 10.4127 14.47 9.73223 14.348 8.99242C14.2428 8.35373 14.1044 7.68932 13.9629 7.00943C13.9405 6.90191 13.918 6.79399 13.8956 6.68573C13.7327 5.89949 13.5723 5.09771 13.4708 4.33012C13.2728 2.83426 13.2689 1.29436 14.0881 0.214317C14.2677 -0.0223761 14.6073 -0.0703455 14.8467 0.107174ZM8.65855 15.8435C8.85042 17.272 8.86697 18.7451 8.09503 19.7819C7.91763 20.0201 7.57847 20.0711 7.33749 19.8957C7.09652 19.7203 7.04499 19.3849 7.2224 19.1466C7.71461 18.4856 7.77628 17.4134 7.58437 15.9845C7.4911 15.2902 7.34504 14.5533 7.19092 13.7928C7.17955 13.7367 7.16815 13.6805 7.15672 13.6242C7.01437 12.9229 6.86845 12.2041 6.76179 11.5081C6.53612 10.0357 6.45648 8.51216 7.07931 7.35989C7.74504 6.12827 9.09999 5.491 11.2828 5.53865C11.582 5.54518 11.8191 5.79026 11.8125 6.08606C11.8059 6.38185 11.5581 6.61635 11.2589 6.60981C9.28784 6.56678 8.43036 7.13347 8.035 7.86491C7.59675 8.67569 7.60737 9.87432 7.83317 11.3476C7.93577 12.017 8.07672 12.7116 8.2202 13.4186C8.23126 13.4731 8.24233 13.5276 8.25341 13.5823C8.40686 14.3395 8.55992 15.1092 8.65855 15.8435ZM21.2273 6.05126C21.438 6.26129 21.4367 6.60048 21.2243 6.80887L21.2238 6.80936C21.0223 7.00699 20.6843 7.33856 20.0106 7.5788C19.3541 7.81288 18.416 7.94838 17.014 7.85596C16.7154 7.83628 16.4895 7.58101 16.5094 7.2858C16.5293 6.99059 16.7875 6.76723 17.0861 6.78691C18.3931 6.87307 19.1707 6.73931 19.643 6.57091C20.0914 6.41099 20.2958 6.21042 20.4547 6.05449L20.4611 6.04829C20.6735 5.83991 21.0165 5.84124 21.2273 6.05126ZM2.92993 13.3609C2.45527 13.4511 2.00973 13.6645 1.54016 14.1288C1.32857 14.338 0.985514 14.338 0.773926 14.1288C0.562337 13.9196 0.562337 13.5804 0.773926 13.3712C1.38797 12.764 2.02604 12.4417 2.72529 12.3087C3.40263 12.1799 4.10832 12.2356 4.83628 12.3256C5.1332 12.3623 5.34382 12.63 5.3067 12.9236C5.26959 13.2172 4.9988 13.4254 4.70188 13.3887C3.98503 13.3001 3.4265 13.2665 2.92993 13.3609Z"})]});let e6=e=>{var n;let{loading:i,onClick:o}=e,{isDisabledUpscaleHd:l,afford:a,image:r}=eF(eN.Ye.UPSCALE),s=l||!a||i,d=(0,e3.Cn)(!!(null==r?void 0:null===(n=r.generation)||void 0===n?void 0:n.alchemy));return(0,t.jsx)(eB.S,{variation:eO.VARIATION_TYPE.UPSCALE,prependLabel:"".concat(eG.xj," - "),placement:"auto",children:(0,t.jsx)(S.z,{variant:"ModalPopoverMenu",fontSize:{base:"xs",md:"sm"},fontWeight:300,leftIcon:(0,t.jsx)(e7,{width:"calc(".concat(k.cM," * 0.875)"),fill:"white"}),isDisabled:s,isLoading:i,loadingText:d,onClick:o,children:d})})};var e4=e=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"calc(".concat(k.cM," * 2.0000)"),height:"calc(".concat(k.cM," * 2.0000)"),viewBox:"0 0 32 32",stroke:"currentColor",...e,children:(0,t.jsxs)("g",{strokeLinecap:"square",strokeLinejoin:"miter",strokeWidth:"1",transform:"translate(0.5 0.5)",fill:"none",strokeMiterlimit:"10",children:[(0,t.jsx)("line",{x1:"18.887",y1:"16",x2:"13.113",y2:"16","data-cap":"butt",strokeLinecap:"butt"}),(0,t.jsx)("polyline",{points:"10.226 21 13.113 26 18.887 26 21.774 21","data-cap":"butt",strokeLinecap:"butt"}),(0,t.jsx)("polyline",{points:"21.774 11 18.887 6 13.113 6 10.226 11","data-cap":"butt",strokeLinecap:"butt"}),(0,t.jsx)("line",{x1:"13.113",y1:"16",x2:"18.887",y2:"16","data-cap":"butt",strokeLinecap:"butt"}),(0,t.jsx)("line",{x1:"13.113",y1:"6",x2:"10.226",y2:"1","data-cap":"butt",strokeLinecap:"butt"}),(0,t.jsx)("line",{x1:"1.566",y1:"6",x2:"4.453",y2:"11","data-cap":"butt",strokeLinecap:"butt"}),(0,t.jsx)("line",{x1:"27.547",y1:"11",x2:"30.434",y2:"6","data-cap":"butt",strokeLinecap:"butt"}),(0,t.jsx)("line",{x1:"21.774",y1:"1",x2:"18.887",y2:"6","data-cap":"butt",strokeLinecap:"butt"}),(0,t.jsx)("line",{x1:"18.887",y1:"26",x2:"21.774",y2:"31","data-cap":"butt",strokeLinecap:"butt"}),(0,t.jsx)("line",{x1:"30.434",y1:"26",x2:"27.547",y2:"21","data-cap":"butt",strokeLinecap:"butt"}),(0,t.jsx)("line",{x1:"4.453",y1:"21",x2:"1.566",y2:"26","data-cap":"butt",strokeLinecap:"butt"}),(0,t.jsx)("line",{x1:"10.226",y1:"31",x2:"13.113",y2:"26","data-cap":"butt",strokeLinecap:"butt"}),(0,t.jsx)("polygon",{points:"21.774 21 27.547 21 30.434 16 27.547 11 21.774 11 18.887 16 21.774 21","data-cap":"butt",strokeLinecap:"butt"}),(0,t.jsx)("polygon",{points:"10.226 21 4.453 21 1.566 16 4.453 11 10.226 11 13.113 16 10.226 21","data-cap":"butt",strokeLinecap:"butt"})]})});let e9=e=>{var n;let{loading:i,onClick:o}=e,{isDisabledUpscaleSmooth:l,afford:a,image:r}=eF(eN.Ye.UPSCALE),s=l||!a||i,d=(0,e3.Al)(!!(null==r?void 0:null===(n=r.generation)||void 0===n?void 0:n.alchemy));return(0,t.jsx)(eB.S,{variation:eO.VARIATION_TYPE.UPSCALE,prependLabel:"".concat(eG.zs," - "),placement:"auto",children:(0,t.jsx)(S.z,{variant:"ModalPopoverMenu",fontSize:{base:"xs",md:"sm"},fontWeight:300,leftIcon:(0,t.jsx)(e4,{width:"calc(".concat(k.cM," * 0.875)"),fill:"white"}),isDisabled:s,isLoading:i,loadingText:d,onClick:o,children:d})})};var e8=i(298),ne=i(38448),nn=i(70957),ni=i(65355),nt=i(65705),no=i(43434);let nl=()=>{let{isUltraGenerationModeEnabled:e}=(0,eM.V)(),{image:n,selectedImageVariation:i,selectedVariation:o,loading:l}=(0,J.J)(),a=em(n),r=(0,nt.Z)(),{hasPermission:s}=(0,ex.T)(),d=!s("generation","delete"),c=(0,nn.I)(null==n?void 0:n.generation),u=(0,ni.o)(null==n?void 0:n.generation),g=(0,A.Wm)(null==n?void 0:n.generation.sdVersion),{alchemyRefinerLoading:h,handleDelete:p,handleRemoveBg:v,handleReport:b,handleUnzoom:C,handleUpscaleAlt:f,handleUpscaleDefault:j,handleUpscaleHd:w,handleUpscaleSmooth:I,openAlchemyRefinerModal:y,removeBgLoading:k,unzoomLoading:M,upscaleAltLoading:L,upscaleDefaultLoading:_,upscaleHdLoading:Z,upscaleSmoothLoading:z}=(0,ej.g)(),E="Delete ".concat((null==o?void 0:o.label.replace(/image/i,""))||"original"," Image");return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(K.Z,{placement:"bottom-end",menuButtons:(0,t.jsxs)(x.k,{flexDirection:"column",children:[(0,t.jsx)(eJ,{loading:k,onClick:v}),(0,t.jsx)(eX,{loading:M,onClick:C}),!e&&(0,t.jsx)(ew.G,{variant:"small",isLoading:h,isDisabled:l,onClick:y}),u&&(0,t.jsxs)(t.Fragment,{children:[c&&(0,t.jsx)(e5,{loading:_,onClick:j,isSdV3:g}),(0,t.jsx)(eQ,{loading:L,onClick:f,isSdV3:g}),!e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e9,{loading:z,onClick:I}),(0,t.jsx)(e6,{loading:Z,onClick:w})]})]}),a&&(0,t.jsx)(er.u,{hasArrow:!0,closeOnClick:!1,isDisabled:!d,label:"Upgrade to Premium to delete images",shouldWrapChildren:!0,children:(0,t.jsxs)(x.k,{position:"relative",justifyContent:"stretch",children:[(0,t.jsxs)(S.z,{variant:"ModalPopoverMenu",fontSize:{base:"xs",md:"sm"},leftIcon:(0,t.jsx)(ed.We9,{style:{color:no.DM.ORANGE}}),onClick:p,isDisabled:d,color:no.DM.ORANGE,width:"100%",children:[E,(0,t.jsx)(m.xu,{display:d?"block":"none",width:8,height:4})]}),(0,t.jsx)(m.xu,{display:d?"block":"none",position:"absolute",top:3,right:3,width:"fit-content",maxH:"max-content",bg:"gradient.main",borderRadius:3,px:.5,children:(0,t.jsx)(e8.Z,{display:"flex",width:4,height:4,m:"0.05rem"})})]})}),(0,t.jsx)(eH,{url:null==i?void 0:i.url}),(0,t.jsx)(S.z,{variant:"ModalPopoverMenu",fontSize:{base:"xs",md:"sm"},borderBottom:"none",onClick:b,leftIcon:(0,t.jsx)(ed.BJv,{}),color:no.DM.ORANGE,children:"Report image"}),r&&(0,t.jsx)(eU,{image:n})]}),children:e=>{let{isOpen:n}=e;return(0,t.jsx)(W.h,{h:8,variant:"ModalImageButtonsStyles",minW:0,px:2.5,icon:(0,t.jsx)(ne.Z,{color:"white"}),bg:n?"#393B45":"none","aria-label":"Share"})}})})};var na=i(86482),nr=i(68404);let ns=e=>{let{onDelete:n}=e,{image:i}=(0,J.J)(),o=(0,nr.eE)(i),l=(0,nr.Nc)(i);return(0,t.jsxs)(m.xu,{children:[!o&&(0,t.jsxs)(O.U,{my:3,gap:2,children:[(0,t.jsx)(na.a,{}),(0,t.jsx)(nl,{})]}),(0,t.jsxs)(x.k,{gap:2,justifyContent:"space-between",children:[o&&!l&&(0,t.jsx)(el,{}),l&&(0,t.jsx)(eb,{onDelete:n}),!o&&!l&&(0,t.jsx)(eZ,{})]})]})};var nd=i(37354),nc=i(99691),nu=i(78624),ng=i(80755),nh=i(73503),nm=i(96688),nx=e=>{var n;let{image:i,loading:o}=e,l=(0,eD.C)(e=>e.user.showNsfw),a=(0,nm.A3)({image:i,generation:null==i?void 0:i.generation,nsfwAllowed:l}),[r,s]=(0,u.useState)(a),{isOpen:d,onOpen:c,onClose:g}=(0,ea.q)(),h=null==i?void 0:i.motionMp4Url,p=null!==(n=null==i?void 0:i.originalUrl)&&void 0!==n?n:null==i?void 0:i.conditionalUrl;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(nd.Z,{p:0,rounded:"lg",maxW:{base:"none",md:"lg"},bg:"#202020",_hover:{textDeclaration:"none"},onClick:c,cursor:"pointer",children:[!h&&(0,t.jsx)(x.k,{justifyContent:"center",alignItems:"center",sx:{aspectRatio:"1/1"},children:(0,t.jsx)(nu.Loader,{})}),h&&(0,t.jsxs)(m.xu,{rounded:"lg",overflow:"hidden",children:[(0,t.jsx)(nh.n,{fallbackText:i.prompt,videoUrl:h,poster:p}),r&&(0,t.jsx)(ng.m,{imageLoaded:!o,withButtonAndText:!0,onClose:()=>{s(!1)}})]})]}),(0,t.jsx)(nc.Z,{image:i,isOpen:d,onClose:()=>{g()}})]})},np=i(17919);let nv=e=>{let{image:n,fallbackImage:i,loading:o,loadingSelectedVariation:l,onOpen:a}=e,r=(0,eD.C)(e=>e.user.showNsfw),{setLoadingSelectedVariation:s,selectedImageVariation:d}=(0,J.J)(),[c,g]=(0,u.useState)(!r),h=(null==n?void 0:n.url)?n:i;if(!h)return null;let p=(0,nm.A3)({image:h,generation:null==h?void 0:h.generation,nsfwAllowed:r,overlayOpen:c}),v=h.generation.imageHeight,b=h.generation.imageWidth,f=v&&b,j=(null==d?void 0:d.url)||h.url,w=(0,A.WF)(h.generation);return(0,t.jsxs)(nd.Z,{p:0,rounded:"lg",maxW:{base:"none",md:"lg"},bg:"#202020",_hover:{textDeclaration:"none"},...!p&&{role:"button",cursor:"pointer",onClick:a},children:[!j&&(0,t.jsx)(x.k,{justifyContent:"center",alignItems:"center",sx:{aspectRatio:"1/1"},children:(0,t.jsx)(nu.Loader,{})}),j&&(0,t.jsxs)(m.xu,{rounded:"lg",overflow:"hidden",...w&&no.CO,children:[(0,t.jsx)(np.E,{src:"".concat(j+eN.G3),alt:h.generation.prompt||"",fill:!0,...f&&{height:v,width:b,fill:!1},onLoad:()=>s(!1),priority:!0},h.id),(0,t.jsx)(np.E,{src:j||"",alt:"",height:0,width:0}),p&&(0,t.jsx)(ng.m,{imageLoaded:!o,withButtonAndText:!0,onClose:()=>{g(!1)}})]}),l&&(0,t.jsxs)(x.k,{position:"absolute",bottom:0,right:0,m:2,transition:"0.1s",backgroundColor:"rgba(25, 25, 25, 0.9)",rounded:"lg",py:2,px:3,zIndex:2,w:"fit-content",h:"fit-content",alignItems:"center",children:[(0,t.jsx)(C.x,{mr:1,fontWeight:400,fontSize:"xs",children:"Loading..."}),(0,t.jsx)(P.$,{size:"xs"})]})]})};var nb=i(31631),nC=i(27247),nf=i(67084),nj=i(75642);let nw=e=>{var n;return(null==e?void 0:null===(n=e.generation)||void 0===n?void 0:n.source)===nj.F8};var nI=e=>(0,t.jsx)("svg",{width:"calc(".concat(k.cM," * 0.8750)"),height:"calc(".concat(k.cM," * 0.7500)"),viewBox:"0 0 14 12",fill:"currentColor",...e,children:(0,t.jsx)("path",{d:"M13.5391 7.53138C13.2916 7.38945 12.9791 7.4787 12.841 7.73376C12.7924 7.82299 12.7268 7.88551 12.6345 7.92837L8.12826 10.0784C7.57848 10.3412 6.92273 10.3412 6.37227 10.0784L1.8599 7.92556C1.77443 7.88621 1.70879 7.82368 1.66024 7.73444C1.52143 7.48009 1.20823 7.39086 0.962065 7.53209C0.715215 7.67472 0.627009 7.99582 0.765136 8.24947C0.921041 8.53544 1.15422 8.75538 1.43457 8.88467L5.94012 11.0347C6.35655 11.2336 6.80375 11.3333 7.25095 11.3333C7.69815 11.3333 8.14466 11.2336 8.5611 11.0347L13.0612 8.88748C13.347 8.75538 13.5808 8.53544 13.7367 8.24947C13.8742 7.99442 13.786 7.67331 13.5391 7.53138ZM0.583252 4.48196C0.583252 3.88542 0.910097 3.35987 1.43662 3.10903L5.94012 0.963881C6.7723 0.567596 7.72688 0.567596 8.55974 0.963881L13.0632 3.10903C13.5897 3.35987 13.9166 3.88612 13.9166 4.48196C13.9166 5.07779 13.5897 5.60407 13.0632 5.85491L8.55974 8.00005C8.14399 8.19819 7.69678 8.29725 7.24957 8.29725C6.80237 8.29725 6.35586 8.19819 5.93943 8.00005L1.43595 5.85491C0.910113 5.60407 0.583252 5.07849 0.583252 4.48196ZM1.60895 4.48196C1.60895 4.55081 1.62741 4.78408 1.8681 4.89931L6.37158 7.04446C6.93024 7.31076 7.57096 7.31005 8.12826 7.04446L12.6317 4.89931C12.8724 4.78479 12.8909 4.55081 12.8909 4.48196C12.8909 4.4131 12.8724 4.17983 12.6317 4.0646L8.12826 1.91945C7.84927 1.78665 7.54908 1.71991 7.24957 1.71991C6.95007 1.71991 6.65057 1.78665 6.37089 1.91945L1.86741 4.0646C1.6274 4.17983 1.60895 4.4131 1.60895 4.48196Z"})});let ny=e=>{let{onClick:n,imageLoading:i}=e;return(0,t.jsx)(er.u,{hasArrow:!0,arrowSize:6,placement:"auto",fontSize:"xs",label:"Use as an image guidance input",children:(0,t.jsx)(S.z,{w:"full",fontSize:{base:"xs",md:"sm"},fontWeight:300,size:"sm",color:"white",leftIcon:(0,t.jsx)(nI,{}),variant:"black",bgColor:"rgba(23, 23, 23, 1)",py:2,px:1,isDisabled:i,iconSpacing:1.5,onClick:n,_hover:{bg:"linear-gradient(81.02deg, #FA5560 -23.47%, #B14BF4 45.52%, #4D91FF 114.8%)",color:"white"},_disabled:{opacity:"0.5",cursor:"not-allowed",_hover:{bg:"rgba(23, 23, 23, 1)"}},children:"Image2Image"})})};var nk=i(25629);let nM=e=>{let{isDisabled:n,label:i,onClick:o}=e;return(0,t.jsx)(er.u,{hasArrow:!0,arrowSize:6,placement:"auto",fontSize:"xs",label:i||"Generate video from this image",children:(0,t.jsx)(S.z,{w:"full",fontSize:{base:"xs",md:"sm"},fontWeight:300,size:"sm",color:"white",leftIcon:(0,t.jsx)(nk.Z,{}),variant:"black",bgColor:"rgba(23, 23, 23, 1)",py:2,px:1,isDisabled:n,iconSpacing:1.5,onClick:o,_hover:{bg:"linear-gradient(81.02deg, #FA5560 -23.47%, #B14BF4 45.52%, #4D91FF 114.8%)",color:"white"},_disabled:{opacity:"0.5",cursor:"not-allowed",_hover:{bg:"rgba(23, 23, 23, 1)"}},children:"Image2Motion"})})};var nL=i(27648),nS=i(74236),n_=e=>(0,t.jsx)("svg",{width:"calc(".concat(k.cM," * 0.7500)"),height:"calc(".concat(k.cM," * 0.7500)"),viewBox:"0 0 12 12",fill:"currentColor",...e,children:(0,t.jsx)("path",{d:"M5.47059 0.443955C5.49265 0.377581 5.55882 0.333332 5.64706 0.333332C5.71324 0.333332 5.77941 0.377581 5.80147 0.443955L6.11029 1.28469L6.94853 1.59444C7.01471 1.61656 7.05882 1.68293 7.05882 1.74931C7.05882 1.83781 7.01471 1.90418 6.94853 1.9263L6.11029 2.23605L5.80147 3.05466C5.77941 3.12103 5.71324 3.16528 5.64706 3.16528C5.55882 3.16528 5.49265 3.12103 5.47059 3.05466L5.16176 2.23605L4.32353 1.9263C4.25735 1.90418 4.23529 1.83781 4.23529 1.74931C4.23529 1.68293 4.25735 1.61656 4.32353 1.59444L5.16176 1.28469L5.47059 0.443955ZM10.9191 0.665201L11.6691 1.41744C12.0882 1.83781 12.0882 2.50154 11.6691 2.92191L3.26471 11.3514C2.84559 11.7718 2.18382 11.7718 1.76471 11.3514L1.01471 10.5992C0.595588 10.1788 0.595588 9.51505 1.01471 9.09468L9.41912 0.665201C9.83824 0.244834 10.5 0.244834 10.9191 0.665201ZM10.1691 1.39531L7.74265 3.82902L8.51471 4.60338L10.9191 2.16968L10.1691 1.39531ZM2.51471 10.5992L7.76471 5.35562L6.99265 4.58126L1.76471 9.84692L2.51471 10.5992ZM0.154412 2.94404L1.41176 2.45729L1.875 1.21832C1.89706 1.10769 2.00735 1.04132 2.11765 1.04132C2.20588 1.04132 2.31618 1.10769 2.33824 1.21832L2.82353 2.45729L4.05882 2.94404C4.16912 2.96616 4.23529 3.07678 4.23529 3.16528C4.23529 3.27591 4.16912 3.38653 4.05882 3.40865L2.82353 3.87327L2.33824 5.13437C2.31618 5.22287 2.20588 5.28925 2.11765 5.28925C2.00735 5.28925 1.89706 5.22287 1.875 5.13437L1.41176 3.87327L0.154412 3.40865C0.0441176 3.38653 0 3.27591 0 3.16528C0 3.07678 0.0441176 2.96616 0.154412 2.94404ZM7.91912 8.60794L9.17647 8.1212L9.63971 6.88222C9.66177 6.7716 9.77206 6.70522 9.88235 6.70522C9.97059 6.70522 10.0809 6.7716 10.1029 6.88222L10.5882 8.1212L11.8235 8.60794C11.9338 8.63006 12 8.74069 12 8.82918C12 8.93981 11.9338 9.05043 11.8235 9.07255L10.5882 9.53717L10.1029 10.7983C10.0809 10.8868 9.97059 10.9531 9.88235 10.9531C9.77206 10.9531 9.66177 10.8868 9.63971 10.7983L9.17647 9.53717L7.91912 9.07255C7.80882 9.05043 7.76471 8.93981 7.76471 8.82918C7.76471 8.74069 7.80882 8.63006 7.91912 8.60794Z"})}),nZ=i(63075);let nz=e=>{let{imageId:n,presetId:i,isPrivate:o,onClick:l,modelId:a}=e,r=(0,eM.V)(),s=(0,nS.b)()(a||""),d=(0,A.BF)(null==s?void 0:s.sdVersion),c=(0,A.L6)(null==s?void 0:s.sdVersion),u=(0,A.kb)(null==s?void 0:s.sdVersion,r),g=o||!u,h="Send this prompt and settings to the image creation tool.";g&&(h="This generation cannot be remixed as you do not have access to some of the settings that were used to make it.");let m=i||d||c||r.isRemixV2Enabled?"".concat(nZ.l.IMAGE_GENERATION,"?remix=").concat(n):"".concat(nZ.l.AI_GENERATIONS,"?imageId=").concat(n);return(0,t.jsx)(er.u,{hasArrow:!0,arrowSize:6,placement:"auto",fontSize:"xs",label:h,children:(0,t.jsx)(S.z,{as:nL.default,href:m,w:"full",size:"sm",leftIcon:(0,t.jsx)(n_,{}),color:"white",variant:"black",fontSize:{base:"xs",md:"sm"},fontWeight:300,bg:"rgba(23, 23, 23, 1)",py:2,px:1,iconSpacing:1.5,isDisabled:g,...g&&{as:"button",href:void 0},_hover:{bg:"linear-gradient(81.02deg, #FA5560 -23.47%, #B14BF4 45.52%, #4D91FF 114.8%)",color:"white"},_disabled:{opacity:"0.5",cursor:"not-allowed",_hover:{bg:"rgba(23, 23, 23, 1)"}},onClick:g?void 0:l,children:"Remix"})})};var nE=i(55599),nD=i(69715),nP=i(95525),nH=i(42104),nV=i(17174);let nA=e=>{var n,i;let{imageId:o,isPrivate:l,isMotion:a,isSvd:r,imageLoading:s,showActions:d=!0}=e,{image:c,onClose:u,selectedImageVariation:g}=(0,J.J)();nw(c);let v=null==c?void 0:null===(n=c.preset)||void 0===n?void 0:n.id,b=(null==c?void 0:c.prompt)||"Unknown prompt",f=null==c?void 0:c.negativePrompt,j=null==c?void 0:c.generation.imageHeight,w=null==c?void 0:c.generation.imageWidth,I=d&&!a,y=(null==c?void 0:c.generated_image_variation_generics)&&c.generated_image_variation_generics.length>0&&(null==g?void 0:g.transformType)===eO.VARIATION_TYPE.NOBG,k={imageInputs:[{type:nV.N.Img2Img,initImageId:o,initImageType:V.esw.Generated,weighting:(0,nE.O_)({imageInputType:nV.N.Img2Img}).default,dimensions:{width:null!=w?w:0,height:null!=j?j:0},isEnabled:!0}]},{handleImageGenV2Img2ImgLink:M}=(0,Z.p)({generationProps:{prompt:b,height:j,width:w,...k,imageToImageStrategy:nH.PB.IMG_2_IMG},imageToImage:!0}),{isOpen:L,onOpen:S,onClose:_}=(0,ea.q)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.i,{display:{base:"block",md:"none"},my:4,borderColor:"border.grey"}),(0,t.jsxs)(x.k,{justifyContent:"flex-start",w:"100%",alignItems:"center",mb:1.5,children:[(0,t.jsx)(nb.X,{size:"sm",mr:3,fontWeight:500,children:"Prompt details"}),(0,t.jsx)(nP.q,{textToCopy:b,isDisabled:s,tooltipLabel:"Copy prompt to clipboard"})]}),(0,t.jsxs)(m.xu,{display:a?"flex":"block",gap:2,mt:2,p:2,bgColor:"rgba(32, 32, 32, 1)",borderRadius:8,children:[(0,t.jsx)(m.xu,{p:2.5,fontSize:14,bgColor:"rgba(23, 23, 23, 1)",borderRadius:6,mb:I?3:0,w:"full",children:(0,t.jsx)(nC.N,{isLoaded:!s,noOfLines:1,skeletonHeight:4,startColor:"#202020",endColor:"#171717",children:(0,t.jsx)(C.x,{fontWeight:"300",wordBreak:"break-word",lineHeight:1,minH:4,children:b})})}),I&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.r,{templateRows:{base:"repeat(1, 1fr)",md:"repeat(1, 1fr)"},templateColumns:{base:"repeat(3, 1fr)",md:"repeat(3, 1fr)"},gap:2,children:[(0,t.jsx)(nf.P,{children:(0,t.jsx)(nM,{isDisabled:y||s,label:y?"Motion currently available for images with backgrounds.":void 0,onClick:()=>{S()}})}),(0,t.jsx)(nf.P,{children:(0,t.jsx)(ny,{onClick:()=>{null==u||u(),M(o)},imageLoading:s})}),(0,t.jsx)(nf.P,{colSpan:{base:2,md:1},children:(0,t.jsx)(nz,{imageId:o,presetId:v,isPrivate:l,onClick:u,modelId:null==c?void 0:null===(i=c.custom_model)||void 0===i?void 0:i.id})})]}),(0,t.jsx)(nD.B,{image:c,imageVariation:g,inputIsPrivate:l,isOpen:L,onClose:_})]})]}),a&&!r&&(0,t.jsx)(x.k,{mt:2,gap:2,children:(0,t.jsx)(nz,{imageId:o,presetId:v,isPrivate:l,onClick:u})}),!!f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x.k,{mt:4,justifyContent:"flex-start",w:"100%",alignItems:"center",children:[(0,t.jsx)(nb.X,{size:"sm",display:"inline-block",mr:3,fontWeight:500,children:"Negative Prompt"}),(0,t.jsx)(nP.q,{textToCopy:f,isDisabled:s,tooltipLabel:"Copy prompt to clipboard"})]}),(0,t.jsx)(m.xu,{display:a?"flex":"block",gap:2,mt:2,p:2,bgColor:"rgba(32, 32, 32, 1)",borderRadius:8,children:(0,t.jsx)(m.xu,{p:2.5,fontSize:14,bgColor:"rgba(23, 23, 23, 1)",borderRadius:6,w:"full",children:(0,t.jsx)(C.x,{fontWeight:300,lineHeight:1.2,wordBreak:"break-word",children:f})})})]})]})};var nU=e=>{let{spec:n,value:i,imageLoading:o,isEven:l,LeftIcon:a,RightIcon:r}=e;return(0,t.jsxs)(m.xu,{w:"48%",mb:3,pr:l?2:0,children:[(0,t.jsx)(m.xu,{fontSize:"calc(".concat(k.cM," * 0.75)"),color:"secondary.inactive",lineHeight:1.2,children:n}),(0,t.jsx)(nC.N,{isLoaded:!o,noOfLines:1,skeletonHeight:5,startColor:"#202020",endColor:"#171717",w:"100%",my:o?.5:0,children:(0,t.jsx)(x.k,{fontSize:"calc(".concat(k.cM," * 0.875)"),display:"flex",alignItems:"center",gap:1,children:(0,t.jsxs)(t.Fragment,{children:[a&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(a,{height:20,width:20})}),i,r&&(0,t.jsx)(m.xu,{ml:1,children:(0,t.jsx)(r,{height:20,width:20})})]})})})]})},nO=i(79488);let nW=e=>{let{prompt:n,loading:i}=e;return(0,t.jsx)(nC.N,{isLoaded:!i,noOfLines:1,skeletonHeight:6,startColor:"#202020",endColor:"#171717",mr:{base:8,md:0},children:(0,t.jsx)(nb.X,{fontWeight:500,wordBreak:"break-word",minH:6,mr:{base:8,md:0},isTruncated:!0,children:(0,nO.l2)(n)})})};var nR=i(19674),nT=i(35784),nF=i(58260);let nB={base:"xs",md:"sm"};k.cM,k.cM,k.cM,k.cM,k.cM,k.cM,k.cM,k.cM,k.cM,k.cM;let nN=e=>{let{userId:n,username:i,loading:o}=e,{userSelectedTeam:l}=(0,et.P)(),a=l();return(0,t.jsxs)(x.k,{gap:4,children:[(0,t.jsxs)(x.k,{gap:1,pr:4,align:"center",...i&&{as:nL.default,href:"/profile/".concat(i)},children:[(0,t.jsx)(nR.s,{isLoaded:!o,startColor:"#202020",endColor:"#171717",size:"auto",children:(0,t.jsx)(nT.q,{w:7,h:7,borderRadius:"full",bgColor:"#7258F2",mr:1,overflow:"hidden",name:i||"?"})}),(0,t.jsx)(nC.N,{isLoaded:!o,noOfLines:1,skeletonHeight:4,minW:o?"calc(".concat(k.cM," * 6.25)"):"auto",startColor:"#202020",endColor:"#171717",children:(0,t.jsx)(C.x,{fontSize:nB,color:"rgba(189, 189, 189, 1)",textAlign:"left",lineHeight:1,children:i})})]}),n&&!a.id&&(0,t.jsx)(nF.Z,{followThisUserId:n})]})};var nG=i(21457),nq=i(23415);let nJ=[],nY=["Created","Resolution"],nX=e=>{var n,i,o,l,a,r,s,d,c,u;let{imageId:g,fallbackImage:b,onUpdateCoverImageCompleted:C,onDelete:f}=e,j=(0,eM.V)(),w=(0,eg.I)(),{isUserFreePlan:I}=(0,nG.usePlan)(),{image:y,loading:k,selectedImageVariation:M,loadingSelectedVariation:L,setZoomedOpen:S,onClose:_}=(0,J.J)(),Z=(0,nq.n)(y),z=null==y?void 0:y.generation.id,E=null==y?void 0:y.userId,D=null==y?void 0:null===(n=y.custom_model)||void 0===n?void 0:n.userId,{id:P}=(null==y?void 0:y.custom_model)||{},H=(0,nr.eE)(y),V=(0,nr.Nc)(y),O=!(0,A.Wm)(null==y?void 0:null===(i=y.generation)||void 0===i?void 0:i.sdVersion)||(0,A.Wm)(null==y?void 0:null===(o=y.generation)||void 0===o?void 0:o.sdVersion)&&j.isSdV3Enabled&&!I,W=!P&&!!(null==y?void 0:null===(l=y.generation)||void 0===l?void 0:l.modelId)||!z,R=!!(null==y?void 0:null===(a=y.generation)||void 0===a?void 0:a.custom_model),T=null==y?void 0:y.generation.photoReal,F=null==y?void 0:y.generation.sdVersion,B=nw(y),N=!!F&&!(0,A.kb)(F,j),G=(null!==(d=null==y?void 0:null===(r=y.generation)||void 0===r?void 0:r.generation_elements)&&void 0!==d?d:[]).filter(e=>!!e.lora).map(e=>({akUUID:e.lora.akUUID,name:e.lora.name,weight:e.weightApplied,urlImage:e.lora.urlImage})),q=(null!==(c=null==y?void 0:null===(s=y.generation)||void 0===s?void 0:s.generation_elements)&&void 0!==c?c:[]).filter(e=>!!e.user_lora).map(e=>{var n,i;return{id:e.user_lora.id,name:e.user_lora.name,urlImage:null===(i=e.user_lora.dataset)||void 0===i?void 0:null===(n=i.dataset_images[0])||void 0===n?void 0:n.url,weight:e.weightApplied}}),Y=V?null==y?void 0:y.specs.filter(e=>nY.includes(e.spec)):H?null==y?void 0:y.specs.filter(e=>nJ.includes(e.spec)):null==y?void 0:y.specs;V&&(null==Y||Y.push({spec:"Base Model",value:"Leonardo Motion"}));let X=(e,n,i,t)=>"Preset"===e&&i?"Flow State":"Resolution"===e&&t?t:n,$=(0,e3.hH)(M,Y);return(0,t.jsxs)(h.r,{gridTemplateColumns:{base:"minmax(0, 1fr)",md:"repeat(2, minmax(0, 1fr))"},columnGap:{md:5},children:[(0,t.jsxs)(m.xu,{children:[(0,t.jsxs)(x.k,{display:{base:"flex",md:"none"},direction:"column",gap:2,children:[(0,t.jsx)(nW,{loading:k,prompt:null==y?void 0:y.prompt}),(0,t.jsx)(nN,{loading:k,userId:null==y?void 0:y.userId,username:null==y?void 0:y.username}),(0,t.jsx)(p.i,{mt:1,mb:4,borderColor:"border.grey"})]}),H||V?(0,t.jsx)(nx,{image:y,loading:k},g):(0,t.jsx)(nv,{image:Z,fallbackImage:b,loadingSelectedVariation:L,onOpen:()=>y&&S(!0),loading:k},g),(0,t.jsx)(v.O,{isLoaded:!k,startColor:"#202020",endColor:"#171717",rounded:"lg",w:"100%",my:3,h:k?"1.875rem":"auto"}),(0,t.jsx)(ns,{onDelete:()=>{null==_||_(),null==f||f()}})]}),(0,t.jsxs)(m.xu,{children:[(0,t.jsxs)(x.k,{direction:"column",gap:2,display:{base:"none",md:"flex"},children:[(0,t.jsx)(nN,{loading:k,userId:null==y?void 0:y.userId,username:null!==(u=null==y?void 0:y.username)&&void 0!==u?u:""}),(0,t.jsx)(nW,{loading:k,prompt:null==y?void 0:y.prompt}),(0,t.jsx)(p.i,{mb:3,borderColor:"border.grey"})]}),(0,t.jsx)(nA,{imageId:g,isMotion:H,isSvd:V,isPrivate:W&&!T,imageLoading:k,showActions:!V}),(0,t.jsx)(p.i,{my:5,borderColor:"border.grey"}),(0,t.jsx)(x.k,{wrap:"wrap",gap:2,children:null==Y?void 0:Y.map((e,n)=>{let{spec:i,value:o,LeftIcon:l,RightIcon:a}=e;return(0,t.jsx)(nU,{spec:i,value:X(i,o,B,$),imageLoading:k,isEven:n%2==0,LeftIcon:l,RightIcon:a},n)})}),(0,t.jsx)(v.O,{startColor:"#202020",endColor:"#171717",rounded:"lg",isLoaded:!k,w:"100%",h:k?20:"auto",children:R&&(0,t.jsx)(U,{elements:G,userElements:q,isPrivate:W,customModel:null==y?void 0:y.custom_model,modelCreatedByUserId:D,generatedByUserId:E,currentUserId:w,imageId:null==y?void 0:y.id,onUpdateCoverImageCompleted:C,onClose:_,controlnets:null==y?void 0:y.generation.generation_controlnets,imagePromptStrength:null==y?void 0:y.generation.imagePromptStrength,initStrength:(null==y?void 0:y.generation.imageToImage)?null==y?void 0:y.generation.initStrength:void 0,showGenerateWithModel:!V&&O,disableGenerateWithModel:N,sdVersion:null==y?void 0:y.generation.sdVersion})})]})]})};var n$=i(55093),nK=i(19476),nQ=i(84081),n0=e=>{let{images:n,onClick:i}=e;return(0,t.jsx)(h.r,{templateColumns:{base:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},gap:4,children:n.map(e=>(0,t.jsx)(nf.P,{children:(0,t.jsx)(n$.o,{ratio:1,borderRadius:"lg",overflow:"hidden",children:(0,t.jsxs)(m.xu,{position:"relative",as:"button",onClick:()=>i(e),children:[(0,t.jsx)(nK.E,{src:"".concat(e.url+eN.G3),alt:"Image"}),e.generation.motion&&(0,t.jsx)(nQ.Z,{position:"absolute",right:3,bottom:3,width:10,height:10,zIndex:2})]})})},e.id))})};let n1=(e,n)=>{let{data:i,loading:t}=(0,o.a)(V.dhE,{skip:!e,variables:{limit:12,order_by:[{likeCount:V.Lqo.Desc},{createdAt:V.Lqo.Desc}],where:{public:{_eq:!0},generation:{modelId:{_eq:e},status:{_eq:"COMPLETE"},...n&&{motion:{_eq:!0}},...eN.G6},...eN.Zf}}});return{modelId:e,images:(null==i?void 0:i.generated_images.map(e=>{var n;let i=null===(n=(0,e3.No)(e.generated_image_variation_generics))||void 0===n?void 0:n.url,t=(0,nq.n)(e);return t&&i&&(t.url=i),t}).filter(e=>null!==e))||[],loading:t}};var n2=i(88606);let n5=e=>{let{modelId:n,isMotion:i,onImageClick:o}=e,{images:l,loading:a}=n1(n,i);return(0,t.jsx)(m.xu,{w:"full",children:n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.i,{borderColor:"border.grey",mt:3}),(0,t.jsxs)(x.k,{justify:"space-between",w:"full",align:"center",my:{base:4,md:6},children:[(0,t.jsxs)(nb.X,{mr:3.5,fontWeight:{base:400,md:500},fontSize:{base:"calc(".concat(k.cM," * 0.875)"),md:"calc(".concat(k.cM," * 1.125)")},children:["Related ",i?"Videos":"Images"]}),(0,t.jsx)(n2.m,{modelId:n})]}),a&&(0,t.jsx)(h.r,{gridTemplateColumns:{base:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},gap:4,children:[...Array(12)].map((e,n)=>(0,t.jsx)(v.O,{height:197,rounded:8,startColor:"#202020",endColor:"#171717"},n))}),!a&&(0,t.jsx)(n0,{images:l,onClick:o})]})})};var n3=i(58552),n7=i(55675);let n6=e=>{var n;let{onDelete:i}=e,{image:o,zoomedOpen:l,setSelectedVariationId:h,setZoomedOpen:m}=(0,J.J)(),x=(0,nq.n)(o),[p,v]=(0,u.useState)(),b=(0,u.useRef)(null),{modalNavigator:C,setDisableArrowKeys:f}=(0,n3.E5)({onNavigate:()=>{v(void 0),h(void 0)}});(0,n3.OH)(n6.name);let{mainItem:j,mainItemId:w,setRelatedItemId:I,relatedItemId:y}=C,k=y||w,M=(0,nr.eE)(null!==(n=null==x?void 0:x.generation)&&void 0!==n?n:null),L=y&&y===(null==p?void 0:p.id)?p:void 0,S=(null==x?void 0:x.generation.modelId)||"";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Z,{}),(0,t.jsxs)(r.h,{ref:b,children:[(0,t.jsx)(s.o,{}),(0,t.jsx)(n7.$,{}),(0,t.jsx)(d.f,{children:(0,t.jsxs)(c.g,{children:[(0,t.jsx)(nX,{imageId:k,fallbackImage:L||j,onDelete:i},k),(0,t.jsx)(n5,{isMotion:M,modelId:S,onImageClick:e=>{var n,i;h(void 0),v(e),I(e.id),null===(i=b.current)||void 0===i||null===(n=i.parentElement)||void 0===n||n.scrollTo({top:0,behavior:"smooth"})}})]})}),(0,t.jsx)(g.L,{isOpen:l,onClose:()=>{f(!1),m(!1)},modalNavigator:C,setDisableArrowKeys:f})]})]})};var n4=i(40294),n9=i(84993),n8=i(30698);let ie=e=>{let{modalNavigator:n,isOpen:i,onClose:a,onDelete:r}=e,{mainItemId:s,relatedItemId:d}=n,c=n.mainItem,{platformPresets:u,allPresetPreferredStyles:g}=(0,n9.y)(),{data:h}=(0,o.a)(V.GSH,{skip:!g.length,variables:{where:{akUUID:{_in:g},isPublic:{_eq:!0},aesthetics:{_eq:"style"}}}}),m=(null==h?void 0:h.style)||[];return(0,t.jsx)(n4.R,{presets:u,children:(0,t.jsx)(n8.K,{styles:m,children:(0,t.jsx)(l.u_,{variant:"imageDetailModal",isOpen:i,onClose:a,autoFocus:!1,closeOnOverlayClick:!0,children:(0,t.jsx)(n3.h_,{modalNavigator:n,children:(0,t.jsx)(J.p,{imageId:d||s,onClose:a,onDelete:r,fallbackImage:c,children:(0,t.jsx)(ej.M,{children:(0,t.jsx)(n6,{onDelete:r})})})})})})})}},14885:function(e,n,i){i.d(n,{L:function(){return ev}});var t=i(57437),o=i(49911),l=i(8196),a=i(2265),r=i(81810),s=i(70996),d=i(13449),c=i(4360),u=i(72760),g=i(21788),h=i(16152),m=i(27924),x=i(20517),p=i(68499),v=i(58774),b=i(58055),C=i(20765),f=i(1677),j=i(25730),w=i(30166),I=i(99376),y=i(94773);let k=e=>{let{option:n,handleButtonClick:i,isLoading:o}=e;return(0,t.jsx)(f.z,{onClick:i,variant:"ImageGenerationPopoverMenu",_disabled:{opacity:1,color:"content.disable"},isLoading:o,loadingText:"Loading...",height:"auto",textAlign:"start",lineHeight:"inherit",minW:"12rem",minH:o?"2.5rem":"auto",children:(0,t.jsx)(y.n,{option:n,isLoading:o})})};var M=i(26258),L=i(66315),S=i(49313),_=i(59104),Z=i(28432),z=i(91850),E=i(50571);let D=e=>{var n;let{placement:i="auto"}=e,{image:o,detailedSelectOptions:l,setSelectedVariationId:r,selectedVariation:s,setLoadingSelectedVariation:u}=(0,M.J)(),g=(0,z.V5)((null==o?void 0:o.generated_image_variation_generics)||[],[E.v6.PENDING]),{isOpen:h,onClose:m,onOpen:x}=(0,p.q)(),v=null===(n=Object.values(l||{}).flat().find(e=>e.id===(null==s?void 0:s.variationId)))||void 0===n?void 0:n.name,b=(0,a.useCallback)(e=>{(e!==(null==o?void 0:o.id)||(null==s?void 0:s.variationId))&&e!==(null==s?void 0:s.variationId)&&(u(!0),r(e))},[null==o?void 0:o.id,null==s?void 0:s.variationId,u,r]);return(0,t.jsx)(Z.Z,{variant:"blurredBackground",isOpen:h,onClose:m,onOpen:x,placement:i,zIndex:99,isLazy:!0,gutter:8,closeOnBlur:!0,contentProps:{boxShadow:"0px 0px 15px 0px #8380FF4D"},menuButtons:(0,t.jsxs)(d.k,{maxW:"fit-content",flexDirection:"column",role:"group",children:[Object.values(l||{}).flat().map(e=>(0,t.jsx)(k,{handleButtonClick:()=>b(e.id),option:e},e.id)),Object.values(g||{}).flat().map(e=>(0,t.jsx)(k,{handleButtonClick:()=>b(e.id),isLoading:!0,option:e},e.id))]}),children:(0,t.jsx)(f.z,{onClick:e=>e.stopPropagation(),isActive:h,variant:"blurredBackground",iconSpacing:2,leftIcon:(0,t.jsx)(L.Z,{}),rightIcon:h?(0,t.jsx)(S.Z,{}):(0,t.jsx)(_.Z,{}),w:"fit-content",px:4,children:(0,t.jsx)(c.x,{children:v||"Original"})})})};var P=i(58552),H=i(99911),V=i(12536),A=i(25629),U=i(68435),O=i(12757),W=i(55013),R=i(12162),T=i(45741),F=i(30186),B=i(63075),N=i(30671),G=i(82030),q=i(74449),J=i(32343),Y=i(76524),X=i(65898),$=i(86067),K=i(23415),Q=i(19497),ee=i(80954);let en=(0,w.default)(()=>i.e(5648).then(i.bind(i,95648)).then(e=>e.ImageUpscalerModal),{loadableGenerated:{webpack:()=>[95648]}}),ei=(0,w.default)(()=>i.e(7393).then(i.bind(i,27393)).then(e=>e.SvdGenerateModal),{loadableGenerated:{webpack:()=>[27393]}}),et=e=>{var n;let{copyStatus:i,onCopy:o}=e,l=(0,q.T)(),a=(0,I.useRouter)(),r=(0,X.Z)(),g=(0,$.I)(),{image:h,selectedImageVariation:m}=(0,M.J)(),x=(0,Y.A)(),{alchemyRefinerLoading:w,handleDelete:y,upscaleHdLoading:k,upscaleSmoothLoading:L,upscaleUltraLoading:S,startPollingImageVariations:_}=(0,H.g)(),{modalNavigator:Z}=(0,P.E5)(),{hasPermission:z}=(0,G.T)(),E=z("generation","delete"),{open:et}=(0,N.Z)(ee.Z.UPGRADE),eo=S||k||L||w,{isOpen:el,onOpen:ea,onClose:er}=(0,p.q)(),{isOpen:es,onOpen:ed,onClose:ec}=(0,p.q)(),eu=(0,K.n)(h),{mainItem:eg}=Z,eh=(null==eu?void 0:eu.url)?eu:eg,em=(null==eh?void 0:eh.id)||"",ex=(null==eh?void 0:null===(n=eh.generation.user)||void 0===n?void 0:n.id)===g,ep=(null==m?void 0:m.url)||(null==h?void 0:h.originalUrl),ev=(0,v.S)({base:"auto",md:"top-start"});return(0,t.jsxs)(d.k,{flexDirection:{base:"column-reverse",md:"row"},gap:4,justifyContent:"space-between",alignItems:"flex-end",padding:5,w:"full",transform:{base:"translateY(4.25rem)",md:"translateY(0)"},children:[(0,t.jsx)(b.U,{gap:1.5,justifySelf:"flex-start",alignSelf:"center",children:(0,t.jsx)(D,{placement:ev})}),(0,t.jsxs)(b.U,{gap:1.5,justifySelf:"flex-start",alignSelf:"center",children:[(0,t.jsx)(C.u,{hasArrow:!0,placement:"top",shouldWrapChildren:!0,label:eo?"Upscaling...":"Upscale image",children:(0,t.jsxs)(f.z,{variant:"blurredBackground",backdropFilter:"none","aria-label":"Upscale Image",onClick:ea,w:"fit-content",px:{md:3},display:"flex",gap:2,children:[eo?(0,t.jsx)(u.$,{boxSize:{base:"1.25rem",md:"1.325rem"}}):(0,t.jsx)(V.Z,{boxSize:{base:"1.25rem",md:"1.325rem"}}),(0,t.jsx)(c.x,{display:{base:"none",md:"block"},children:"Upscale"})]})}),(0,t.jsx)(C.u,{hasArrow:!0,placement:"top",shouldWrapChildren:!0,label:"Generate motion video",children:(0,t.jsx)(j.h,{variant:"blurredBackground",backdropFilter:"none",icon:(0,t.jsx)(A.Z,{w:5,h:5}),"aria-label":"Generate Motion Video",onClick:ed})}),(0,t.jsx)(C.u,{hasArrow:!0,placement:"top",shouldWrapChildren:!0,label:"Edit in canvas",children:(0,t.jsx)(j.h,{variant:"blurredBackground",backdropFilter:"none",icon:(0,t.jsx)(U.Z,{fill:"white"}),"aria-label":"Edit in canvas",onClick:()=>{if(!ep){r({title:"Failed to edit in canvas",description:"Please try again",type:X.N.error});return}l((0,Q.e)(ep)),a.push(B.l.CANVAS)}})}),(0,t.jsx)(C.u,{hasArrow:!0,placement:"top",shouldWrapChildren:!0,label:i===J.h.COMPLETE?"Copied!":"Copy image to clipboard",children:(0,t.jsx)(j.h,{"aria-label":"Copy image to clipboard",variant:"blurredBackground",icon:i===J.h.COMPLETE?(0,t.jsx)(O.Z,{boxSize:4.5}):(0,t.jsx)(W.Z,{boxSize:5,fill:"white"}),isLoading:i===J.h.IN_PROGRESS,onClick:o,display:{base:"none",md:"flex"}})}),ex&&(0,t.jsx)(C.u,{label:E?"Delete image":"Upgrade to Premium to delete images",hasArrow:!0,placement:"top",shouldWrapChildren:!0,children:(0,t.jsxs)(s.xu,{position:"relative",children:[(0,t.jsx)(j.h,{variant:"blurredBackground",backdropFilter:"none","aria-label":E?"Delete image":"Upgrade to Premium to delete images",icon:(0,t.jsx)(R.Z,{boxSize:5}),onClick:()=>{E?y():et()}}),!E&&(0,t.jsx)(F.o,{badgePosition:"topRight",badgeSize:3,height:4,borderRadius:2,borderTopRightRadius:4})]})}),(0,t.jsx)(C.u,{hasArrow:!0,placement:"top",shouldWrapChildren:!0,label:"Download image",children:(0,t.jsx)(j.h,{variant:"blurredBackground",backdropFilter:"none",icon:(0,t.jsx)(T.Z,{boxSize:5}),"aria-label":"Download image",onClick:()=>{if(!ep){r({title:"Failed to download image",description:"Please try again",type:X.N.error});return}x({imageUrl:ep})}})})]}),h&&(0,t.jsx)(ei,{image:h,inputIsPrivate:!h.generation.public,isOpen:es,onClose:ec}),(0,t.jsx)(en,{imageId:em,isOpen:el,onClose:er,onUpscale:()=>_(5e3)})]})};var eo=i(94213),el=i(55675),ea=i(17919),er=i(74699),es=i(78624),ed=i(15407),ec=i(53686),eu=i(43434);let eg=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.xu,{position:"absolute",top:0,left:0,w:"full",h:"full",zIndex:4,children:(0,t.jsx)(d.k,{bgColor:"#202020",w:"full",minH:"20vh",h:"full",alignItems:"center",justifyContent:"center",children:(0,t.jsx)(es.Loader,{})})}),(0,t.jsxs)(d.k,{position:"absolute",bottom:20,right:0,m:2,alignItems:"center",transition:"0.1s",backgroundColor:"rgba(25, 25, 25, 0.9)",rounded:"3xl",py:2,px:3,zIndex:6,children:[(0,t.jsx)(c.x,{mr:1,fontWeight:300,children:"Loading..."})," ",(0,t.jsx)(u.$,{size:"sm"})]})]}),eh=(0,t.jsxs)(d.k,{position:"absolute",bottom:20,right:0,m:2,alignItems:"center",transition:"0.1s",backgroundColor:"rgba(25, 25, 25, 0.9)",rounded:"3xl",py:2,px:3,zIndex:6,children:[(0,t.jsx)(c.x,{mr:1,fontWeight:300,children:"Loading..."})," ",(0,t.jsx)(u.$,{size:"sm"})]}),em=e=>{var n;let{showCollectionDropdown:i}=e,{image:o,loadingSelectedVariation:l,setLoadingSelectedVariation:r,selectedImageVariation:c,setSelectedVariationId:u}=(0,M.J)(),{modalNavigator:p}=(0,P.E5)({onNavigate:()=>u(void 0)}),{zoomToMouseClickLocation:v,isZoomed:b}=(0,eo.a)();(0,P.OH)(em.name);let{mainItem:C,prevItem:f,nextItem:j}=p,[w,I,y]=(0,J.d)(null==c?void 0:c.url,l),k=(0,a.useRef)(null),L=(0,a.useRef)(null),S=(0,a.useRef)(null),_=(0,K.n)(o),Z=(null==_?void 0:_.url)?_:C,{width:z,height:D}=(0,ed.q)(null!==(n=null==Z?void 0:Z.generation)&&void 0!==n?n:null),H="number"==typeof z&&"number"==typeof D,V=(null==c?void 0:c.url)||(null==Z?void 0:Z.url),[A,U]=(0,a.useState)(!1);(0,a.useLayoutEffect)(()=>{U(!1)},[]);let O=e=>{A&&v(e,I.current)},W=(0,ec.WF)(null==Z?void 0:Z.generation);return(0,t.jsx)(s.xu,{pointerEvents:"none",display:b?"none":"block",children:(0,t.jsxs)(g.h,{ref:L,w:{base:"inherit",md:"auto"},maxH:{base:"100vh"},maxW:{base:"none",md:"85vw",lg:"90vw"},mt:0,mb:0,mx:{base:0,md:4},position:"relative",children:[(0,t.jsx)(el.$,{pointerEvents:"auto"}),(0,t.jsxs)(h.f,{bg:"gradient.background",p:"0",rounded:"lg",minW:"100%",minH:{base:"100%",md:"auto"},pointerEvents:"auto",overflow:"hidden",children:[(0,t.jsx)(m.o,{zIndex:7}),(0,t.jsx)(d.k,{ref:k,justifyContent:"center",m:"auto",minH:{base:32,md:64},minW:{base:32,md:"xl",lg:"2xl"},maxH:"100vh",maxW:{base:"100vw",md:"90vw"},position:"relative",sx:{aspectRatio:"auto ".concat(z," / ").concat(D),_before:{content:'""',bg:"linear-gradient(180deg, rgba(0, 0, 0, 0.00) 85%, rgba(0, 0, 0, 0.70) 100%)",position:"absolute",bottom:0,left:0,right:0,top:0,pointerEvents:"none",zIndex:6}},children:(0,t.jsxs)(d.k,{justifyContent:"center",w:"full",position:"relative",onClick:O,sx:{aspectRatio:"inherit","&:hover":{cursor:A?"zoom-in":"default"}},...!V&&{w:"100%"},...W&&eu.CO,zIndex:5,children:[(0,t.jsx)(er.J,{src:V||"Unknown image",fallbackSrc:"".concat(V+E.G3),...H&&{fill:!1,height:D,width:z},style:{objectFit:"contain"},alt:(null==o?void 0:o.prompt)||"",onClick:O,customLoader:eg,fallbackLoader:eh,onLoad:()=>{r(!1),U(!0)}},V),(0,t.jsx)(ea.E,{ref:I,src:V||"Unknown image",alt:"",crossOrigin:"anonymous",fill:!0,style:{opacity:0,pointerEvents:"none",objectFit:"contain"}},V+"imageRef"),f&&(0,t.jsx)(ea.E,{src:f.url||"",alt:"",height:0,width:0}),j&&(0,t.jsx)(ea.E,{src:j.url||"",alt:"",height:0,width:0})]})})]}),(0,t.jsx)(x.m,{ref:S,p:0,pointerEvents:"auto",position:"absolute",bottom:0,left:0,right:0,zIndex:7,children:(0,t.jsx)(et,{copyStatus:w,onCopy:y})})]})})};var ex=i(5628),ep=i(51023);let ev=e=>{let{modalNavigator:n,isOpen:i,onClose:s,showCollectionDropdown:d}=e,{mainItemId:c,relatedItemId:u}=n,g=n.mainItem,{isFocusModalRedesignEnabled:h}=(0,ep.V)(),m=!(0,M.J)().contextExists,x=(0,a.useRef)(null),p=(0,t.jsx)(H.M,{children:(0,t.jsx)(P.h_,{modalNavigator:n,children:(0,t.jsxs)(eo.Z,{children:[(0,t.jsx)(o.Z,{onClick:s,ref:x}),h?(0,t.jsx)(em,{showCollectionDropdown:d}):(0,t.jsx)(r.u,{showCollectionDropdown:d}),(0,t.jsx)(ex.$,{})]})})});return(0,t.jsx)(l.u_,{variant:"imageDetailModal",isCentered:!0,isOpen:i,onClose:s,children:m?(0,t.jsx)(M.p,{imageId:u||c,onClose:s,fallbackImage:g,children:p}):p})}},99691:function(e,n,i){var t=i(57437),o=i(68499),l=i(8196),a=i(49911),r=i(70996),s=i(20517),d=i(13449),c=i(20765),u=i(25730),g=i(4360),h=i(2265),m=i(95468),x=i(26989),p=i(47720),v=i(61400),b=i(91271),C=i(36094),f=i(66242),j=i(7015),w=i(26258),I=i(67354),y=i(12162),k=i(73503),M=i(28212),L=i(23721),S=i(45660),_=i(7174),Z=i(51023),z=i(39954),E=i(21457),D=i(86067),P=i(43845),H=i(50571),V=i(43434);n.Z=e=>{var n,i;let{generation:A,image:U,isOpen:O,onClose:W}=e,{isUserFreePlan:R}=(0,E.usePlan)(),{isFreeTierRestrictingEnabled:T}=(0,Z.V)(),{isHomeExact:F}=(0,_.f)(),B=R&&T,{onDelete:N}=(0,w.J)(),{openCollectionPrivacyWarning:G}=(0,b.P)(),{handleAddCollectionImage:q,handleRemoveCollectionImage:J}=(0,M.Z)(),{showCollectionImagesToast:Y}=(0,L.Z)(),X={intrinsicWidth:(null==A?void 0:A.imageWidth)||(null==U?void 0:U.generation.imageWidth)||"auto",intrinsicHeight:(null==A?void 0:A.imageHeight)||(null==U?void 0:U.generation.imageHeight)||"auto",isLoading:!1,isZoomed:!1},$=null==A?void 0:null===(n=A.generated_images)||void 0===n?void 0:n[0],K=(null==$?void 0:$.motionMP4URL)||(null==U?void 0:U.motionMp4Url),Q=(null==$?void 0:$.url)||(null==U?void 0:U.originalUrl)||(null==U?void 0:U.conditionalUrl),ee=(0,D.I)(),en=(0,P.Z)(),ei=(null==A?void 0:null===(i=A.user)||void 0===i?void 0:i.id)===ee||(null==U?void 0:U.userId)===ee||en,{userSelectedTeam:et}=(0,z.P)(),eo=!!et(),{isOpen:el,onClose:ea,onOpen:er}=(0,o.q)(),[es,{loading:ed}]=(0,S.d)({onCompleted:()=>{null==N||N(),ea(),W(),(0,j.v)()}}),ec=(0,h.useCallback)(async()=>{await es((null==A?void 0:A.id)||(null==U?void 0:U.generation.id)||""),await (null==N?void 0:N())},[es,N,null==A?void 0:A.id,null==U?void 0:U.generation.id]);if(!$&&!U||!K||!Q)return null;let eu=$||U,eg=[{id:String(null==eu?void 0:eu.id),isPublic:!1,url:"",variations:[],userId:null,collection_images:[],teamId:null}],eh=async(e,n)=>{eu&&e&&(!eu.public&&eo&&n&&G(),n?await q(e,eu,(e,n,i,t)=>Y(e,n,i,t)):await J(e,eu,(e,n,i,t)=>Y(e,n,i,t)))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.u_,{variant:"imageDetailModal",isOpen:O,isCentered:!0,onClose:W,children:[(0,t.jsx)(a.Z,{}),(0,t.jsxs)(x.Z.Content,{...X,children:[(0,t.jsx)(x.Z.Body,{...X,children:(0,t.jsx)(r.xu,{zIndex:5,position:"relative",borderTopRadius:"lg",children:(0,t.jsx)(k.n,{controls:!0,fallbackText:(null==A?void 0:A.prompt)||"",videoUrl:K,poster:Q+H.G3,style:{borderRadius:"var(--leonardo-ai-radii-lg)",cursor:"pointer"}})})}),(0,t.jsx)(s.m,{p:0,children:(0,t.jsxs)(d.k,{w:"full",justify:"flex-end",align:"center",gap:2,p:4,flexDir:{base:"column",md:"row"},zIndex:10,children:[!F&&(0,t.jsx)(d.k,{w:"fit-content",children:(0,t.jsx)(C.e,{displayText:"Organize",rounded:"md",icon:(0,t.jsx)(I.Z,{boxSize:4.5}),mode:f.MC.UPDATE,onCollectionChecked:eh,selectedImages:eg})}),((null==$?void 0:$.motionGIFURL)||(null==U?void 0:U.motionGifUrl))&&(0,t.jsx)(p.Z,{shape:"default",image:eu,generationType:v.F.GIF}),((null==$?void 0:$.motionMP4URL)||(null==U?void 0:U.motionMp4Url))&&(0,t.jsx)(p.Z,{shape:"default",image:eu,generationType:v.F.MP4}),ei&&(0,t.jsx)(c.u,{hasArrow:!0,arrowSize:6,placement:"auto",fontSize:"xs",label:B?"Upgrade to Premium to delete videos":"Delete video",shouldWrapChildren:!0,children:(0,t.jsxs)(r.xu,{position:"relative",children:[(0,t.jsx)(u.h,{onClick:er,variant:"solid",rounded:"full",icon:(0,t.jsx)(y.Z,{width:4,height:4}),background:"#00000057","aria-label":"Delete",justifyContent:"center",alignItems:"center",isDisabled:B}),(0,t.jsx)(g.x,{display:B?"block":"none",position:"absolute",top:"-4px",fontSize:8,color:"white",bg:V.HW.PURPLE_TWO,borderRadius:7,px:1.5,right:0,left:-.5,minWidth:"fit-content",children:"Premium"})]})})]})})]})]}),(0,t.jsx)(m.Z,{isMotion:!0,isOpen:el,onClose:ea,deleteImage:ec,loading:ed})]})}},26989:function(e,n,i){i.d(n,{Z:function(){return j}});var t=i(57437),o=i(73311),l=i(16152),a=i(13449),r=i(27924),s=i(4360),d=i(72760),c=i(70996),u=i(21788),g=i(14885),h=i(99691),m=i(92978);let x=function(e){var n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=null!==(n=null==e?void 0:e.generated_images)&&void 0!==n?n:[],o=e?t.map(n=>{var i;return{id:n.id,url:n.url,generated_image_variation_generics:null===(i=n.generated_image_variation_generics)||void 0===i?void 0:i.map(e=>({__typename:"generated_image_variation_generic",...e})),generation:e,nsfw:n.nsfw,generated_image_moderation:n.generated_image_moderation}}):[];return(0,m.T)(o,{loopAround:!0,...i})};var p=i(58552),v=i(28104),b=i(43434),C=i(78624);let f=e=>{var n;let{generation:i}=e,o=(null==i?void 0:null===(n=i.generated_images)||void 0===n?void 0:n.length)||0,l=x(i,{initialIndex:e.imageIndex}),{setDisableArrowKeys:a}=(0,p.E5)();return o?(null==i?void 0:i.motion)?(0,t.jsx)(h.Z,{...e}):(0,t.jsx)(g.L,{modalNavigator:l,isOpen:e.isOpen,onClose:e.onClose,showCollectionDropdown:!0,setDisableArrowKeys:a}):null};f.Content=e=>{let{isZoomed:n,children:i}=e;return(0,t.jsx)(u.h,{mt:{base:"2vh",sm:10},mb:10,mx:{base:2,md:4},rounded:"lg",maxW:{md:"85vw",lg:"90vw"},...n&&{w:"inherit",maxH:"100vh",maxW:"none",mt:0,mb:0,bg:"transparent",pointerEvents:"none",rounded:"none",boxShadow:"none"},children:i})},f.Body=e=>{let{isTransparent:n,isZoomed:i,intrinsicHeight:u,intrinsicWidth:g,isLoading:h,children:m}=e,x=(0,o.useTheme)(),p=i?"none":"calc(100vh - ".concat(x.space["40"],")");return(0,t.jsx)(l.f,{rounded:"lg",minW:"100%",p:"0",children:(0,t.jsx)(a.k,{justifyContent:"center",m:"auto",minH:{base:38,md:64,xl:"calc(".concat(v.cM," * 32)")},minW:{base:38,md:64,xl:"calc(".concat(v.cM," * 32)")},maxH:{base:"100vh",md:p},maxW:"90vw",position:"relative",sx:{aspectRatio:"auto ".concat(g," / ").concat(u)},...i&&{w:"fit-content",h:"fit-content",maxH:"none",maxW:"none",pointerEvents:"all"},children:(0,t.jsxs)(a.k,{justifyContent:"center",h:"auto",w:g,minW:"fit-content",maxH:"100%",position:"relative",sx:{aspectRatio:"inherit"},...i&&{w:"fit-content",h:"fit-content",maxH:"150vh",maxW:"none"},...n&&!i&&b.CO,children:[(0,t.jsx)(r.o,{size:{base:"lg",md:"md"},zIndex:7}),h&&(0,t.jsxs)(a.k,{position:"absolute",bottom:0,right:0,m:2,alignItems:"center",transition:"0.1s",backgroundColor:"rgba(25, 25, 25, 0.9)",rounded:"3xl",py:2,px:3,zIndex:6,children:[(0,t.jsx)(s.x,{mr:1,fontWeight:300,children:"Loading..."})," ",(0,t.jsx)(d.$,{size:"sm"})]}),m,h&&(0,t.jsx)(c.xu,{position:"absolute",top:0,left:0,w:"full",h:"full",zIndex:4,children:(0,t.jsx)(a.k,{bgColor:"#202020",w:"full",minH:"20vh",h:"full",alignItems:"center",justifyContent:"center",children:(0,t.jsx)(C.Loader,{})})})]})})})};var j=f},47720:function(e,n,i){i.d(n,{Z:function(){return p}});var t=i(57437),o=i(20765),l=i(61400),a=i(60779),r=i(13856),s=i(2265),d=e=>{let n=(0,s.useId)();return(0,t.jsxs)(r.J,{width:4,height:4,viewBox:"0 0 14 18",...e,children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"arrow-down-to-line-icon-linear-gradient-".concat(n),x1:"-5.94833",y1:"0.0820286",x2:"15.6652",y2:"-3.33331",gradientUnits:"userSpaceOnUse",children:[(0,t.jsx)("stop",{offset:"0.0001",stopColor:"#FA5560"}),(0,t.jsx)("stop",{offset:"0.499028",stopColor:"#B14BF4"}),(0,t.jsx)("stop",{offset:"1",stopColor:"#4D91FF"})]})}),(0,t.jsx)("path",{fill:"url(#arrow-down-to-line-icon-linear-gradient-".concat(n,")"),stroke:"url(#arrow-down-to-line-icon-linear-gradient-".concat(n,")"),d:"M1.9308 9.4859a.6877.6877 0 1 1 .9726-.9727l3.41 3.41V.75c0-.3795.308-.6875.6875-.6875s.6875.308.6875.6875v11.1732l3.41-3.41a.6877.6877 0 1 1 .9726.9727l-4.5833 4.5833a.6937.6937 0 0 1-.2227.1484.6858.6858 0 0 1-.2632.0532.6882.6882 0 0 1-.263-.0532.6849.6849 0 0 1-.2229-.1484L1.931 9.4859ZM12.5 16.5625h-11a.6878.6878 0 0 0-.6875.6875c0 .3795.308.6875.6875.6875h11a.6878.6878 0 0 0 .6875-.6875.6878.6878 0 0 0-.6875-.6875Z"})]})},c=i(67447),u=i(76524),g=i(39954),h=i(68404),m=i(18807),x=i(3676),p=e=>{let{image:n,generationType:i,...r}=e,{currentPlan:s}=(0,a.m)(),{selectedTeamUUID:p}=(0,g.P)(),v=(0,h.u5)(n,i),b=(0,u.A)(),C=i===l.F.IMAGE,f="Download ".concat(i);return(0,t.jsx)(o.u,{label:f,hasArrow:!0,children:(0,t.jsx)(c.s,{"aria-label":f,w:C?10:16,h:10,p:0,rounded:"full",background:"rgba(25, 25, 25, 0.5)",iconSpacing:C?0:1,rightIcon:(0,t.jsx)(d,{width:3.5,height:3.5,color:"whiteAlpha.500"}),fontSize:"xs",fontWeight:"normal",filter:"grayscale(100%) contrast(1) brightness(1.5)",_hover:{transition:0,filter:"none",backdropFilter:"blur(0.5)",background:"linear-gradient(81.02deg, rgba(250, 85, 96, 0.08) -23.47%, rgba(177, 75, 244, 0.08) 45.52%, rgba(77, 145, 255, 0.08) 114.8%)"},_active:{},onClick:e=>{e.stopPropagation(),(0,m.j)(x.git,{trackingData:JSON.stringify(n),plan:s,teamId:p}),v&&b({imageUrl:v})},dataTrackingId:x.git,...r,children:C?"":i})})}},51832:function(e,n,i){var t=i(57437),o=i(13449);n.Z=e=>{let{weight:n,strengthType:i,...l}=e;return(0,t.jsx)(o.k,{p:.5,px:3,bg:"rgba(11, 15, 23, 1)",fontWeight:"bold",rounded:"xl",fontSize:"sm",ml:2,...l,children:i||n.toFixed(2)})}},74236:function(e,n,i){i.d(n,{b:function(){return a}});var t=i(2265),o=i(74449),l=i(42104);let a=()=>{let e=(0,o.C)(e=>e.generation.modelInfo.modelInfoMap);return(0,t.useCallback)(n=>e[n]||e[l.Oz.modelId]||{},[e])}},84993:function(e,n,i){i.d(n,{y:function(){return h}});var t=i(75500),o=i(2265),l=i(32680),a=i(75642),r=i(54944),s=i(74449),d=i(51023),c=i(39954),u=i(53686);let g=(e,n,i)=>e.filter(e=>{let t=e.modelId&&n[e.modelId];return!t||!!((0,u.kb)(t.sdVersion,i)&&(0,u.Oy)(t.id,i))}),h=()=>{let{userSelectedTeam:e}=(0,c.P)(),n=e(),i={isPublic:{_eq:!0},ownerType:{_eq:"LEONARDO"}},u={teamId:{_eq:n.id},ownerType:{_eq:"TEAM"}},h=n.id?{_or:[i,u]}:i,m={akUUID:{_neq:a.mL}},{data:x}=(0,t.a)(r.Jqt,{variables:{where:{...h,...m,payload:{_is_null:!1}},order_by:{name:r.Lqo.Asc}}}),p=(0,o.useMemo)(()=>(null==x?void 0:x.preset)||[],[null==x?void 0:x.preset]),v=(0,s.C)(e=>e.generation.modelInfo.modelInfoMap),b=(0,d.V)(),C=(0,o.useMemo)(()=>g(p,v,b),[b,v,p]),f=C.map(e=>e.payload.preferredStyles).flat(),j="flow-state"!==b.isDefaultPresetSplitEnabled&&b.isDefaultPresetSplitEnabled||l.XF,w=C.find(e=>e.akUUID===j);return{platformPresets:C,allPresetPreferredStyles:f,defaultPreset:w}}},51283:function(e,n,i){var t=i(57437),o=i(20765),l=i(1677),a=i(91325);n.Z=e=>{let{label:n,tooltip:i}=e;return(0,t.jsx)(o.u,{hasArrow:!0,shouldWrapChildren:!0,label:i||"Add a new image, replacing the current one",placement:"bottom-end",fontSize:"xs",arrowSize:6,children:(0,t.jsx)(l.z,{variant:"solid","aria-label":"Add input image",rounded:"lg",leftIcon:(0,t.jsx)(a.Z,{height:6,width:6}),borderWidth:"px",borderStyle:"solid",borderColor:"#202125",background:"old.grey",paddingInlineStart:2,paddingInlineEnd:2,_hover:{background:"old.greystroke"},...e,children:n||"Add"})})}},25392:function(e,n,i){i.d(n,{f:function(){return c}});var t=i(57437),o=i(13449),l=i(86827),a=i(29360),r=i(31631),s=i(4360),d=i(70996);let c=e=>{let{icon:n,heading:i,text:c,button:u,bannerBackground:g="surface.free",iconBackground:h="transparent",...m}=e;return(0,t.jsxs)(o.k,{alignItems:"center",justifyContent:"space-between",bg:g,p:2.5,gap:3,width:"full",...m,children:[(0,t.jsxs)(o.k,{alignItems:"center",gap:3,children:[(0,t.jsx)(l.M,{bg:h,borderRadius:"xl",children:n}),(0,t.jsxs)(a.K,{gap:0,justifyContent:"center",children:[(0,t.jsx)(r.X,{fontSize:"sm",fontWeight:"600",children:i}),c&&(0,t.jsx)(s.x,{fontSize:"xs",fontWeight:"500",color:"lightbluegrey",lineHeight:"normal",children:c})]})]}),u&&(0,t.jsx)(d.xu,{children:u})]})}},60246:function(e,n,i){i.d(n,{zC:function(){return d}});var t=i(57437),o=i(70996),l=i(19476),a=i(50571),r=i(28104);let s="2.125",d=e=>{let{element:n,imageProps:i,...d}=e;return(0,t.jsx)(o.xu,{height:"calc(".concat(r.cM," * ").concat(s,")"),width:"calc(".concat(r.cM," * ").concat(s,")"),minHeight:"calc(".concat(r.cM," * ").concat(s,")"),minWidth:"calc(".concat(r.cM," * ").concat(s,")"),borderWidth:"sm",borderColor:"#B14BF4",borderStyle:"solid",rounded:"50%",overflow:"hidden",bg:"rgba(19, 25, 38, 1)",...d,children:(0,t.jsx)(l.E,{src:n.urlImage?"".concat(n.urlImage+a.n9):a.r0,alt:n.name,objectFit:"cover",rounded:"50%",w:"calc(".concat(r.cM," * ").concat(s,")"),h:"calc(".concat(r.cM," * ").concat(s,")"),...i||{}})})};n.ZP=e=>{let{elements:n,...i}=e;return(0,t.jsx)(o.xu,{height:"calc(".concat(r.cM," * ").concat(s,")"),width:"calc(".concat(r.cM," * ").concat(s," * ").concat((n.length+1)*.5,")"),position:"relative",...i,children:n.map((e,n)=>e?(0,t.jsx)(d,{element:e,position:"absolute",left:"calc(".concat(r.cM," * ").concat(s," * ").concat(.5*n,")")},n):(0,t.jsx)(t.Fragment,{}))})}},58260:function(e,n,i){var t=i(57437),o=i(75500),l=i(12199),a=i(1677),r=i(72760),s=i(2265),d=i(48053),c=i(86067),u=i(54944),g=i(28104);n.Z=e=>{let{followThisUserId:n}=e,i=(0,c.I)(),h={userId:i,followThisUserId:n},m={refetchQueries:[{query:u.ckv,variables:h}],awaitRefetchQueries:!0},{data:x,loading:p}=(0,o.a)(u.ckv,{variables:h,skip:!n}),[v,{loading:b}]=(0,l.D)(u.PDy,{...m,variables:{object:{followingId:n}}}),[C,{loading:f}]=(0,l.D)(u.oMi,{...m,variables:{followerId:i,followingId:n}}),j=(0,s.useMemo)(()=>!!(null==x?void 0:x.follows.length),[null==x?void 0:x.follows.length]),w=(0,s.useMemo)(()=>n===i,[n,i]),I=(0,s.useMemo)(()=>b||f||p,[b,p,f]),y=async()=>{j?await C():await v()},k=!!i;return n&&!w&&k?(0,t.jsxs)(a.z,{variant:"outline",bg:"none",borderRadius:"624.938rem",size:"sm",h:7,onClick:y,px:3,color:"rgba(189, 189, 189, 1)",...!I&&(j?{leftIcon:(0,t.jsx)(d.pHD,{fontSize:"calc(".concat(g.cM," * 1.000)"),color:"yellow"})}:{leftIcon:(0,t.jsx)(d.y5j,{fontSize:"calc(".concat(g.cM," * 1.000)"),color:"white"})}),iconSpacing:"calc(".concat(g.cM," * 0.125)"),_active:{"&:before":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:"-1",margin:"calc(".concat(g.cM," * -0.062)"),borderRadius:"calc(".concat(g.cM," * 624.938)"),backgroundClip:"padding-box",background:"linear-gradient(81.02deg, #FA5560 -23.47%, #B14BF4 45.52%, #4D91FF 114.8%)"}},children:[I&&(0,t.jsx)(r.$,{speed:"1s",size:"sm"}),!I&&(j?"Unfollow":"Follow")]}):null}},68435:function(e,n,i){var t=i(57437),o=i(13856),l=i(28104);n.Z=e=>(0,t.jsx)(o.J,{width:"calc(".concat(l.cM," * 1.3750)"),height:"calc(".concat(l.cM," * 1.3750)"),viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,t.jsx)("path",{d:"M19.7083 5.04297V4.1263C19.7083 2.96122 19.04 2.29297 17.8749 2.29297H16.9583C15.8738 2.29297 15.2276 2.8778 15.1423 3.89714H6.85841C6.77316 2.8778 6.1269 2.29297 5.04248 2.29297H4.12581C2.96073 2.29297 2.29248 2.96122 2.29248 4.1263V5.04297C2.29248 6.12739 2.87731 6.77362 3.89665 6.85887V15.1428C2.87731 15.2281 2.29248 15.8743 2.29248 16.9587V17.8754C2.29248 19.0405 2.96073 19.7087 4.12581 19.7087H5.04248C6.1269 19.7087 6.77316 19.1239 6.85841 18.1045H15.1423C15.2276 19.1239 15.8738 19.7087 16.9583 19.7087H17.8749C19.04 19.7087 19.7083 19.0405 19.7083 17.8754V16.9587C19.7083 15.8743 19.1234 15.2281 18.1041 15.1428V6.85887C19.1234 6.77362 19.7083 6.12739 19.7083 5.04297ZM15.1423 16.7305H6.85841C6.77958 15.7872 6.2149 15.2226 5.27165 15.1437V6.8598C6.2149 6.78096 6.77958 6.21631 6.85841 5.27306H15.1423C15.2212 6.21631 15.7858 6.78096 16.7291 6.8598V15.1437C15.7858 15.2226 15.2212 15.7872 15.1423 16.7305Z"})})},53337:function(e,n,i){var t=i(57437),o=i(13856);n.Z=e=>(0,t.jsx)(o.J,{width:4,height:4,viewBox:"0 0 24 24",fill:"currentcolor",...e,children:(0,t.jsx)("path",{d:"M12 10.75a4.25 4.25 0 1 1 .02-8.51 4.25 4.25 0 0 1-.01 8.51Zm0-7a2.75 2.75 0 1 0 .01 5.5 2.75 2.75 0 0 0 0-5.5Zm4 18H8c-2.42 0-3.75-1.32-3.75-3.73 0-2.66 1.5-5.77 5.75-5.77h4c4.24 0 5.75 3.1 5.75 5.77 0 2.4-1.33 3.73-3.75 3.73Zm-6-8c-3.94 0-4.25 3.27-4.25 4.27 0 1.56.67 2.23 2.25 2.23h8c1.58 0 2.25-.67 2.25-2.23 0-1-.3-4.27-4.25-4.27h-4Z"})})},1057:function(e,n,i){var t=i(57437),o=i(13856);n.Z=e=>(0,t.jsx)(o.J,{viewBox:"0 0 13 14",fill:"currentcolor",...e,children:(0,t.jsx)("path",{d:"M4.14665 8.02002C3.95131 7.82469 3.95131 7.508 4.14665 7.31266C4.34198 7.11733 4.65867 7.11733 4.854 7.31266L6.00065 8.45935V1C6.00065 0.724 6.22465 0.5 6.50065 0.5C6.77665 0.5 7.00065 0.724 7.00065 1V8.45935L8.1473 7.31266C8.34263 7.11733 8.65932 7.11733 8.85466 7.31266C9.04999 7.508 9.04999 7.82469 8.85466 8.02002L6.85466 10.02C6.80866 10.066 6.75339 10.1027 6.69206 10.128C6.63072 10.1533 6.56598 10.1667 6.50065 10.1667C6.43532 10.1667 6.37074 10.1533 6.30941 10.128C6.24807 10.1027 6.19265 10.066 6.14665 10.02L4.14665 8.02002ZM10.5 5.16667C10.224 5.16667 10 5.39067 10 5.66667C10 5.94267 10.224 6.16667 10.5 6.16667C11.5513 6.16667 12 6.61533 12 7.66667V11C12 12.0513 11.5513 12.5 10.5 12.5H2.5C1.44867 12.5 1 12.0513 1 11V7.66667C1 6.61533 1.44867 6.16667 2.5 6.16667C2.776 6.16667 3 5.94267 3 5.66667C3 5.39067 2.776 5.16667 2.5 5.16667C0.888 5.16667 0 6.05467 0 7.66667V11C0 12.612 0.888 13.5 2.5 13.5H10.5C12.112 13.5 13 12.612 13 11V7.66667C13 6.05467 12.112 5.16667 10.5 5.16667Z",fill:"currentcolor"})})},57211:function(e,n,i){var t=i(57437),o=i(13856);let l=e=>(0,t.jsx)(o.J,{width:5,height:5,viewBox:"0 0 18 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,t.jsx)("path",{d:"M11.5209 6.99967C11.5209 8.39026 10.3906 9.52051 9.00004 9.52051C7.60945 9.52051 6.4792 8.39026 6.4792 6.99967C6.4792 6.67976 6.54513 6.37631 6.65421 6.09397C6.83205 6.23514 7.04661 6.33232 7.29136 6.33232C7.86611 6.33232 8.33268 5.86574 8.33268 5.29099C8.33268 5.04624 8.2355 4.83168 8.09434 4.65385C8.37667 4.54477 8.68012 4.47884 9.00004 4.47884C10.3906 4.47884 11.5209 5.60909 11.5209 6.99967ZM16.8761 8.35364C15.7513 10.2365 13.225 13.4163 9.00004 13.4163C4.77512 13.4163 2.24875 10.2365 1.124 8.35364C0.625333 7.51947 0.625333 6.47988 1.124 5.64571C2.24875 3.76288 4.77512 0.583008 9.00004 0.583008C13.225 0.583008 15.7513 3.76288 16.8761 5.64571C17.3747 6.47988 17.3747 7.51947 16.8761 8.35364ZM12.8959 6.99967C12.8959 4.85192 11.1487 3.10384 9.00004 3.10384C6.85137 3.10384 5.1042 4.85192 5.1042 6.99967C5.1042 9.14742 6.85137 10.8955 9.00004 10.8955C11.1487 10.8955 12.8959 9.14742 12.8959 6.99967Z",fill:"currentColor"})});l.displayName="EyeIcon",n.Z=l},26694:function(e,n,i){var t=i(57437),o=i(28104);n.Z=e=>(0,t.jsx)("svg",{width:"calc(".concat(o.cM," * 0.8750)"),height:"calc(".concat(o.cM," * 0.8750)"),viewBox:"0 0 14 14",fill:"white",...e,children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0.495575C0 0.221877 0.221877 0 0.495575 0H3.09735C3.37104 0 3.59292 0.221877 3.59292 0.495575V2.60156H5.20354V0.495575C5.20354 0.221877 5.42542 0 5.69912 0H8.30089C8.57458 0 8.79646 0.221877 8.79646 0.495575V3.09735C8.79646 3.37104 8.57458 3.59292 8.30089 3.59292H6.19469V5.20312H8.30089C8.57458 5.20312 8.79646 5.425 8.79646 5.6987V7.80469H10.4071V5.6987C10.4071 5.425 10.629 5.20312 10.9027 5.20312H13.5044C13.7781 5.20312 14 5.425 14 5.6987V8.30047C14 8.57417 13.7781 8.79605 13.5044 8.79605H11.3982V10.4062H13.5044C13.7781 10.4062 14 10.6281 14 10.9018V13.5036C14 13.7773 13.7781 13.9992 13.5044 13.9992H10.9027C10.629 13.9992 10.4071 13.7773 10.4071 13.5036V11.3976H8.30089C8.02719 11.3976 7.80531 11.1757 7.80531 10.902V8.79605H6.19469V10.902C6.19469 11.1757 5.97281 11.3976 5.69912 11.3976H3.59292V13.5036C3.59292 13.7773 3.37104 13.9992 3.09735 13.9992H0.495575C0.221877 13.9992 0 13.7773 0 13.5036V10.9018C0 10.6281 0.221877 10.4062 0.495575 10.4062H2.60177V8.79605H0.495575C0.221877 8.79605 0 8.57417 0 8.30047V5.6987C0 5.425 0.221877 5.20312 0.495575 5.20312H2.60177V3.59292H0.495575C0.221877 3.59292 0 3.37104 0 3.09735V0.495575ZM6.19469 7.80489V6.19428H7.80531V7.80489H6.19469ZM3.59292 6.19448H5.20354V7.80469H3.59292V6.19448ZM5.20354 5.20312H3.59292V3.59271H5.20354V5.20312ZM0.99115 0.99115V2.60177H2.60177V0.99115H0.99115ZM3.59292 10.4065V8.79605H5.20354V10.4065H3.59292ZM2.60177 6.19428H0.99115V7.80489H2.60177V6.19428ZM0.99115 13.008V11.3974H2.60177V13.008H0.99115ZM6.19469 2.60177V0.99115H7.80531V2.60177H6.19469ZM8.79646 8.79584V10.4065H10.4071V8.79584H8.79646ZM11.3982 7.80489V6.19428H13.0088V7.80489H11.3982ZM11.3982 11.3974V13.008H13.0088V11.3974H11.3982ZM10.9027 0C10.629 0 10.4071 0.221877 10.4071 0.495575V3.09735C10.4071 3.37104 10.629 3.59292 10.9027 3.59292H13.5044C13.7781 3.59292 14 3.37104 14 3.09735V0.495575C14 0.221877 13.7781 0 13.5044 0H10.9027ZM11.3982 2.60177V0.99115H13.0088V2.60177H11.3982Z",fill:"white"})})},78946:function(e,n,i){var t=i(57437),o=i(70996),l=i(1012);n.Z=e=>{let{children:n,backgroundSize:i,...a}=e;return(0,t.jsx)(o.xu,{width:"100%",height:"100%",position:"relative",_before:{backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:i||"100%",backgroundImage:"url(".concat(l.ze,")"),content:"''",position:"absolute",width:"100%",height:"100%",display:"block",filter:"grayscale(100%)"},...a,children:n})}},84081:function(e,n,i){var t=i(57437),o=i(13856),l=i(2265),a=i(28104);n.Z=e=>{let n=(0,l.useId)();return(0,t.jsxs)(o.J,{width:a.cM,height:a.cM,viewBox:"0 0 41 41",fill:"currentcolor",...e,children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"play-linear-gradient-".concat(n),x1:"1.75",x2:"33.97",y1:"8.98",y2:"4.01",gradientUnits:"userSpaceOnUse",children:[(0,t.jsx)("stop",{stopColor:"#DB519E"}),(0,t.jsx)("stop",{offset:".5",stopColor:"#B14BF4"}),(0,t.jsx)("stop",{offset:"1",stopColor:"#666BD1"})]})}),(0,t.jsx)("circle",{cx:"20.23",cy:"20.55",r:"18.99",fill:"#242C3E",stroke:"url(#play-linear-gradient-".concat(n,")"),strokeWidth:"2"}),(0,t.jsx)("path",{fill:"#242C3E",d:"M12.18 12.5h16.1v16.1h-16.1z"}),(0,t.jsx)("path",{fill:"white",d:"m24.7 22.15-6.76 4.14a2.02 2.02 0 0 1-3.08-1.72v-8.04a2.02 2.02 0 0 1 3.08-1.71l6.76 4.13c1.2.73 1.2 2.47 0 3.2Z"})]})}},48121:function(e,n,i){var t=i(57437),o=i(13856),l=i(28104);n.Z=e=>(0,t.jsx)(o.J,{width:"calc(".concat(l.cM," * 1)"),height:"calc(".concat(l.cM," * 1.0625)"),viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,t.jsx)("path",{d:"M7.47059 2.94461C7.49265 2.87823 7.55882 2.83398 7.64706 2.83398C7.71324 2.83398 7.77941 2.87823 7.80147 2.94461L8.11029 3.78534L8.94853 4.09509C9.01471 4.11721 9.05882 4.18359 9.05882 4.24996C9.05882 4.33846 9.01471 4.40483 8.94853 4.42696L8.11029 4.7367L7.80147 5.55531C7.77941 5.62169 7.71324 5.66594 7.64706 5.66594C7.55882 5.66594 7.49265 5.62169 7.47059 5.55531L7.16176 4.7367L6.32353 4.42696C6.25735 4.40483 6.23529 4.33846 6.23529 4.24996C6.23529 4.18359 6.25735 4.11721 6.32353 4.09509L7.16176 3.78534L7.47059 2.94461ZM12.9191 3.16585L13.6691 3.91809C14.0882 4.33846 14.0882 5.0022 13.6691 5.42256L5.26471 13.852C4.84559 14.2724 4.18382 14.2724 3.76471 13.852L3.01471 13.0998C2.59559 12.6794 2.59559 12.0157 3.01471 11.5953L11.4191 3.16585C11.8382 2.74549 12.5 2.74549 12.9191 3.16585ZM12.1691 3.89597L9.74265 6.32967L10.5147 7.10403L12.9191 4.67033L12.1691 3.89597ZM4.51471 13.0998L9.76471 7.85627L8.99265 7.08191L3.76471 12.3476L4.51471 13.0998ZM2.15441 5.44469L3.41176 4.95795L3.875 3.71897C3.89706 3.60835 4.00735 3.54197 4.11765 3.54197C4.20588 3.54197 4.31618 3.60835 4.33824 3.71897L4.82353 4.95795L6.05882 5.44469C6.16912 5.46681 6.23529 5.57744 6.23529 5.66594C6.23529 5.77656 6.16912 5.88718 6.05882 5.90931L4.82353 6.37392L4.33824 7.63503C4.31618 7.72352 4.20588 7.7899 4.11765 7.7899C4.00735 7.7899 3.89706 7.72352 3.875 7.63503L3.41176 6.37392L2.15441 5.90931C2.04412 5.88718 2 5.77656 2 5.66594C2 5.57744 2.04412 5.46681 2.15441 5.44469ZM9.91912 11.1086L11.1765 10.6218L11.6397 9.38287C11.6618 9.27225 11.7721 9.20587 11.8824 9.20587C11.9706 9.20587 12.0809 9.27225 12.1029 9.38287L12.5882 10.6218L13.8235 11.1086C13.9338 11.1307 14 11.2413 14 11.3298C14 11.4405 13.9338 11.5511 13.8235 11.5732L12.5882 12.0378L12.1029 13.2989C12.0809 13.3874 11.9706 13.4538 11.8824 13.4538C11.7721 13.4538 11.6618 13.3874 11.6397 13.2989L11.1765 12.0378L9.91912 11.5732C9.80882 11.5511 9.76471 11.4405 9.76471 11.3298C9.76471 11.2413 9.80882 11.1307 9.91912 11.1086Z",fill:"currentColor"})})},7409:function(e,n,i){var t=i(57437),o=i(79488);n.Z=e=>{let{children:n,limit:i=50}=e;return(0,t.jsx)(t.Fragment,{children:(0,o.io)(n,i)})}},45173:function(e,n,i){var t=i(57437),o=i(75500),l=i(19476),a=i(93340),r=i(2265),s=i(78946),d=i(54944),c=i(50571);let u=(0,r.memo)(function(e){var n;let{modelId:i}=e,{data:r,loading:u}=(0,o.a)(d.ZdY,{variables:{id:i},skip:!i||a.sd_versions.hasOwnProperty(i)});if(u||!(null==r?void 0:r.custom_models_by_pk))return(0,t.jsx)(s.Z,{});let g=r.custom_models_by_pk,h=null===(n=g.generated_image)||void 0===n?void 0:n.url,m=g.name;return h?(0,t.jsx)(l.E,{alt:m,src:"".concat(h+c.n9),objectFit:"cover",w:"100%",h:"100%"}):(0,t.jsx)(s.Z,{})});n.Z=u},80755:function(e,n,i){i.d(n,{m:function(){return g}});var t=i(57437),o=i(70996),l=i(13449),a=i(29360),r=i(4360),s=i(1677),d=i(13856);i(2265);var c=e=>(0,t.jsx)(d.J,{width:6,height:6,viewBox:"0 0 24 24",fill:"currentColor",...e,children:(0,t.jsx)("path",{d:"M12.0181 2C9.77807 3.111 8 4 3 5C3 6.137 3 9.70192 3 10.8889C3 17.5559 8.667 20.889 12 22C15.333 20.889 21 17.5559 21 10.8889C21 9.66392 21 6.194 21 5C16 4 14.2221 3.111 12.0181 2ZM11.25 8.5C11.25 8.086 11.586 7.75 12 7.75C12.414 7.75 12.75 8.086 12.75 8.5V11.5C12.75 11.914 12.414 12.25 12 12.25C11.586 12.25 11.25 11.914 11.25 11.5V8.5ZM12.02 15.5C11.468 15.5 11.0149 15.052 11.0149 14.5C11.0149 13.948 11.458 13.5 12.01 13.5H12.02C12.573 13.5 13.02 13.948 13.02 14.5C13.02 15.052 12.572 15.5 12.02 15.5Z"})}),u=i(57211);let g=e=>{let{imageLoaded:n,onClose:i,withButtonAndText:d}=e;return(0,t.jsx)(o.xu,{role:"presentation",rounded:"lg",position:"absolute",zIndex:2,bottom:0,left:0,height:"100%",width:"100%",background:"rgba(0, 0, 0, 0.17)",backdropFilter:"blur(1.5rem)",onClick:d?void 0:e=>{e.stopPropagation(),i()},children:(0,t.jsx)(l.k,{height:"100%",width:"100%",padding:6,direction:"column",justifyContent:d?"flex-end ":"center",position:"absolute",background:"linear-gradient(180deg, rgba(0, 0, 0, 0.00) 6.19%, rgba(0, 0, 0, 0.89) 59.62%)",children:n?(0,t.jsxs)(a.K,{direction:"column",gap:2,transition:".5s",children:[(0,t.jsxs)(a.K,{direction:"column",alignItems:"center",children:[(0,t.jsxs)(l.k,{justifyContent:"center",alignItems:"center",gap:1,children:[(0,t.jsx)(c,{fill:"secondary.inactive"}),(0,t.jsx)(r.x,{textAlign:"center",fontSize:"md",fontWeight:500,children:"This image might be explicit"})]}),d&&(0,t.jsx)(r.x,{color:"secondary.inactive",textAlign:"center",fontSize:"sm",fontWeight:"normal",lineHeight:5,children:"This image may contain explicit content. To view the image click on the button below. You can disable this message in user settings."})]}),d&&(0,t.jsx)(s.z,{mt:2,variant:"glow",onClick:i,fontWeight:"medium",fontSize:"md",leftIcon:(0,t.jsx)(u.Z,{fill:"white"}),children:"Click to view"})]}):(0,t.jsx)(t.Fragment,{})})})}},10689:function(e,n,i){i.d(n,{D:function(){return Z}});var t=i(57437),o=i(4360),l=i(13449),a=i(98615),r=i(60643),s=i(97244),d=i(74015),c=i(70996),u=i(24890),g=i(2265),h=i(61375),m=i(17919),x=i(54944),p=i(43434);let v=e=>{var n;let{image:i,onSelect:o,isUpload:l}=e,[a,r]=(0,g.useState)(!1),s=(0,g.useRef)(null),d=(null===(n=i.generation)||void 0===n?void 0:n.transparency)!==x.T7i.Disabled,v=e=>{var n,i;o({...e,...!e.dimensions&&{dimensions:{height:(null===(n=s.current)||void 0===n?void 0:n.naturalHeight)||1,width:(null===(i=s.current)||void 0===i?void 0:i.naturalWidth)||1}}})};return a&&l?null:(0,t.jsx)(h.h,{minW:75,h:75,p:0,justifyContent:"center",bgColor:"transparent",_hover:{bgColor:"transparent"},onClick:()=>v(i),children:(0,t.jsx)(c.xu,{as:u.E.div,position:"relative",rounded:"lg",overflow:"hidden",h:"100%",w:"100%",transition:"opacity 100ms linear",...d&&p.CO,whileHover:{filter:"brightness(0.9)"},children:(0,t.jsx)(m.E,{fill:!0,ref:s,alt:"recent image",src:i.url||"",style:{objectFit:"cover"},onError:()=>{r(!0)}},i.url)})})};var b=i(75500),C=i(69557),f=i(39954),j=i(86067),w=i(50571),I=i(68404),y=i(82120),k=i(79488);let M=()=>{let e=(0,j.I)(),{userSelectedTeam:n}=(0,f.P)(),i=n(),{data:t,loading:o}=(0,b.a)(x.WIj,{variables:{where:{userId:{_eq:e},...(0,k.mQ)(i.id)},limit:8},fetchPolicy:"cache-and-network"}),{data:l,loading:a}=(0,b.a)(x.IKL,{variables:{where:{generation:{status:{_eq:C.j.COMPLETE},canvasRequest:{_eq:!1},...(0,k.GU)(i.akUUID)},...w.FN,userId:{_eq:e}},limit:8,order_by:[{createdAt:x.Lqo.Desc}]},fetchPolicy:"cache-and-network"});return{uploads:((null==t?void 0:t.init_images)||[]).map(e=>({initImageId:e.id,initImageType:x.esw.Uploaded,url:e.url+w.G3,alt:"Uploaded image"})),generations:((null==l?void 0:l.generated_images)||[]).slice(0,8).map(e=>{var n,i;let t=e.generation,{width:o,height:l}=t?(0,y.I)(t):{width:0,height:0};return{initImageId:e.id,initImageType:x.esw.Generated,url:e.url+w.G3,motionGifUrl:(0,I.mx)(e),motionMp4Url:(0,I.Xw)(e),alt:null!==(i=null==t?void 0:t.prompt)&&void 0!==i?i:"Generation by ".concat((null===(n=e.user)||void 0===n?void 0:n.username)||"Leonardo User"),aspectRatio:"".concat(o," / ").concat(l),dimensions:{width:o,height:l}}}),isLoading:o||a}};var L=i(76959);let S=e=>{let{onSelect:n,onShowMore:i,uploadsDisabled:c,menuProps:u,gridProps:g}=e,{uploads:h,generations:m,isLoading:x}=M(),p=[...c?[]:[{label:"Uploads",images:h}],{label:"Generations",images:m}],b=!x&&p.every(e=>0===e.images.length);return(0,t.jsxs)(t.Fragment,{children:[b&&(0,t.jsx)(o.x,{px:2,py:4,children:"No images are available."}),(0,t.jsx)(l.k,{flexDirection:"column",maxHeight:"18rem",overflowY:"auto",w:"100%",children:p.map(e=>(0,t.jsx)(a.k,{title:e.label,bgColor:"darkbluealt",color:"secondary.inactive",fontSize:"xs",fontWeight:400,m:0,py:1.5,px:2.5,w:"100%",...!x&&!e.images.length&&{display:"none"},...u,children:(0,t.jsxs)(r.r,{gridTemplateColumns:{base:"repeat(2, 1fr)",sm:"repeat(auto-fill, minmax(75px, 1fr))"},gap:2.5,px:2.5,pb:2.5,bgColor:"darkbluealt",...g,children:[x&&!e.images.length&&Array.from({length:8},(e,n)=>(0,t.jsx)(s.O,{h:75,w:"100%",minW:20,rounded:"lg"},n)),e.images.map(i=>(0,t.jsx)(v,{image:i,onSelect:n,isUpload:"Uploads"===e.label},i.initImageId))]})},e.label))}),(0,t.jsxs)(d.s,{display:"flex",justifyContent:"center",alignItems:"center",fontSize:"md",fontWeight:700,px:2.5,py:1.5,h:8,bgColor:"#181F2F",_hover:{bgColor:"#263149"},onClick:i,children:["Show More",(0,t.jsx)(L.Z,{color:"white",fontSize:"md",w:3,ml:1.5})]})]})};var _=i(98230);let Z=e=>{let{compact:n,dropdownProps:i,gridProps:o,menuProps:l,isDisabled:a,onSelect:r,onShowMore:s,uploadsDisabled:d}=e;return(0,t.jsx)(_.L,{type:"button",isDisabled:a,label:(0,t.jsxs)("div",{children:[n?"":"Select from ",(0,t.jsx)("b",{children:"Recent Images"})]}),borderWidth:"px",borderStyle:"solid",borderColor:"borderNew.primary",matchWidth:!0,...i,children:(0,t.jsx)(S,{gridProps:o,menuProps:l,onShowMore:s,onSelect:r,uploadsDisabled:d})})}},34477:function(e,n,i){var t=i(57437),o=i(13449),l=i(12125),a=i(68193),r=i(10883),s=i(1677),d=i(2265),c=i(83674);n.Z=e=>{let{placeholderText:n="Search gallery",onChange:i,onSubmit:u,hideButton:g,disableHotkeys:h,isDisabled:m,fullWidth:x=!1,...p}=e,[v,b]=(0,d.useState)(""),C=()=>{null==u||u(v)};return(0,t.jsxs)(o.k,{w:x?"100%":"auto",alignItems:"center",children:[(0,t.jsxs)(l.B,{height:"2.0625rem",rounded:"lg",bg:"surface.inputDefault",boxShadow:"0 2px 4px -1px #0000001F",w:"100%",alignItems:"center",_placeholder:{color:"content.tertiary",fontWeight:500},_hover:{background:"old.darkblue"},...p,children:[(0,t.jsx)(a.Z,{pointerEvents:"none",height:"2.0625rem",children:(0,t.jsx)(c.Z,{viewBox:"0 0 20 20",w:5,h:5})}),(0,t.jsx)(r.I,{onChange:e=>{let n=e.target.value.slice(0,50);b(n),null==i||i({...e,target:{...e.target,value:n}})},onKeyDown:e=>{"Enter"!==e.key||h||C()},placeholder:n,value:v,variant:"searchInput","aria-label":"Search gallery",isDisabled:m})]}),!g&&(0,t.jsx)(s.z,{ml:2,height:"2.0625rem",w:"4.95rem",variant:"primary",px:2,py:2,onClick:C,isDisabled:m,"aria-label":"Search gallery",fontWeight:500,children:"Search"})]})}},73503:function(e,n,i){i.d(n,{n:function(){return c}});var t=i(57437),o=i(68973),l=i(31574),a=i(2265),r=e=>{let[n,i]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!e)return;let n=new Image;n.onload=()=>i(!0),n.src=e,n.complete&&i(!0)},[e]),n},s=i(10943),d=i(37047);let c=(0,o.forwardRef)((e,n)=>{let{autoPlay:i=!0,controls:o=!1,disableRemotePlayback:c=!0,loop:u=!0,muted:g=!0,playsInline:h=!0,fallbackText:m,lazyLoad:x=!1,pauseOnIntersectLeave:p=!0,playOnIntersectEnter:v=!1,onPosterLoad:b,posterUrl:C,startLoad:f=!0,videoUrl:j,videoType:w="video/mp4",...I}=e,y=(0,a.useRef)(null),k=(0,a.useRef)(null),M=n||y,[L,S]=(0,a.useState)(null),[_,Z]=(0,a.useState)(null),z=r(C),E=(0,s.i)(()=>b&&b());return(0,a.useEffect)(()=>{z&&E()},[E,z]),(0,a.useEffect)(()=>{M&&"function"!=typeof M&&S(M.current),k.current&&Z(k.current)},[M]),(0,d.S)({target:M,onIntersectEnter:()=>{if(L&&_){x&&!_.src&&(_.src=j,L.load());try{i&&v&&L.play()}catch(e){console.error(e),(0,l.Tb)(e)}}},onIntersectLeave:()=>{L&&p&&L.pause()}}),L&&i&&!1!==g&&(L.muted=!0,L.defaultMuted=!0,L.playsInline=!0),(0,t.jsxs)("video",{ref:M,width:"100%",height:"100%",autoPlay:i,controls:o,disableRemotePlayback:c,loop:u,muted:g,poster:C,playsInline:h,...I,children:[(0,t.jsx)("source",{ref:k,src:f&&!x?j:void 0,type:w}),m]})})},88606:function(e,n,i){i.d(n,{m:function(){return g}});var t=i(57437),o=i(13449),l=i(4360),a=i(25730),r=i(27648),s=i(99376),d=i(2265),c=i(13856),u=e=>(0,t.jsx)(c.J,{width:4,height:4,viewBox:"0 0 14 12",...e,children:(0,t.jsx)("path",{fill:"currentcolor",d:"M13.4706 6.47203L8.80461 11.138C8.67461 11.268 8.50392 11.3334 8.33325 11.3334C8.16259 11.3334 7.9919 11.268 7.8619 11.138C7.60123 10.8774 7.60123 10.456 7.8619 10.1953L11.3905 6.66669H0.999919C0.631252 6.66669 0.333252 6.36802 0.333252 6.00002C0.333252 5.63202 0.631252 5.33336 0.999919 5.33336H11.3905L7.8619 1.80471C7.60123 1.54405 7.60123 1.12267 7.8619 0.862004C8.12256 0.601337 8.54394 0.601337 8.80461 0.862004L13.4706 5.52802C13.5326 5.59002 13.5813 5.6633 13.6153 5.74531C13.6826 5.90797 13.6826 6.09208 13.6153 6.25475C13.5813 6.33674 13.5326 6.41003 13.4706 6.47203Z"})});let g=e=>{let{modelId:n}=e,i=(0,s.usePathname)();return(0,d.useMemo)(()=>null==i?void 0:i.includes("/models/[id]"),[i])?null:(0,t.jsxs)(o.k,{as:r.default,href:"/models/".concat(n),alignItems:"center",gap:2,children:[(0,t.jsx)(l.x,{as:"span",fontSize:"sm",fontWeight:400,lineHeight:1,children:"View More"}),(0,t.jsx)(a.h,{as:"span",icon:(0,t.jsx)(u,{}),"aria-label":"View more",variant:"none",minW:3,h:"auto"})]})}},26089:function(e,n,i){i.d(n,{L:function(){return o},Q:function(){return l}});var t=i(54944);let o=e=>Object.values(e.extract()).filter(e=>"generated_images"===e.__typename),l=(e,n,i)=>{let o=!1;return n.forEach(n=>{var l;let a=e.identify({id:n.id,__typename:"generated_images"}),r=e.readFragment({id:a,fragment:t.KcR});if((null==r?void 0:null===(l=r.generation)||void 0===l?void 0:l.id)===i){let n=e.evict({id:a});o||(o=n)}}),o}},45660:function(e,n,i){i.d(n,{d:function(){return r}});var t=i(12199),o=i(2265),l=i(26089),a=i(54944);let r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{update:n,...i}=e,[r,s]=(0,t.D)(a.kgD,{...i,update(e,i,t){var o,a;let r=null===(a=i.data)||void 0===a?void 0:null===(o=a.delete_generations_by_pk)||void 0===o?void 0:o.id;if(r){let n=(0,l.L)(e),i=(0,l.Q)(e,n,r),t=e.identify({id:r,__typename:"generations"}),o=e.evict({id:t});i||(i=o),i&&e.gc()}null==n||n(e,i,t)}});return[(0,o.useCallback)((e,n)=>r({variables:{id:e},...n}),[r]),s]}},92978:function(e,n,i){i.d(n,{T:function(){return o}});var t=i(2265);let o=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{loopAround:i=!1,initialIndex:o}=n,l=e.length,[a,r]=(0,t.useState)(void 0!==o&&e[o]?e[o].id:""),[s,d]=(0,t.useState)(""),c=(0,t.useMemo)(()=>e.find(e=>e.id===a),[e,a]),u=(0,t.useCallback)(()=>d(""),[]),g=(0,t.useCallback)(e=>{u(),r(e)},[u]),[h,m]=(0,t.useState)(null!=o?o:0);(0,t.useLayoutEffect)(()=>{if(!c&&e.length>0)e[h]?g(e[h].id):e[h-1]?g(e[h-1].id):g(e[0].id);else{let n=e.findIndex(e=>{let{id:n}=e;return n===a});n!==h&&m(n)}},[e,c,o,g,a,h]);let x=(0,t.useMemo)(()=>{var n;let t=l-1,o=null!==(n=e.findIndex(e=>{let{id:n}=e;return n===a}))&&void 0!==n?n:0,r=l>1&&(!!i||0!==o),s=l>1&&(!!i||o!==t);return{prevItem:r&&e[(o+l-1)%l]||void 0,nextItem:s&&e[(o+l+1)%l]||void 0,hasPrevItem:r,hasNextItem:s,handleNext:()=>{var n;if(s)return u(),g(null===(n=e[(o+l+1)%l])||void 0===n?void 0:n.id)},handlePrev:()=>{var n;if(r)return u(),g(null===(n=e[(o+l-1)%l])||void 0===n?void 0:n.id)}}},[l,e,i,a,u,g]);return(0,t.useMemo)(()=>({mainItem:c,handleSetRelatedItemId:g,mainItemId:a,setMainItemId:r,relatedItemId:s,setRelatedItemId:d,resetRelatedItemId:u,...x}),[a,u,g,c,s,x])}},7174:function(e,n,i){i.d(n,{f:function(){return a}});var t=i(99376),o=i(63075);let l=e=>e.toLowerCase().replace(/_([a-z])/g,(e,n)=>n.toUpperCase()).replace(/^[a-z]/,e=>e.toUpperCase()),a=()=>{let e=(0,t.usePathname)(),n={};return Object.entries(o.l).forEach(i=>{var t;let[o,a]=i,r=l(o);n["is".concat(r)]=null!==(t=null==e?void 0:e.startsWith(a))&&void 0!==t&&t,n["is".concat(r,"Exact")]=e===a}),n}},30839:function(e,n,i){i.d(n,{p:function(){return c}});var t=i(99376),o=i(2265),l=i(74449),a=i(63075),r=i(53686),s=i(17174),d=i(57255);let c=e=>{let{imageId:n,imageToImage:i,generationProps:c}=e,u=(0,l.T)(),g=(0,l.C)(e=>e.generation.lastModelIds),h=(0,t.useRouter)();return{handleGenerateModelLink:(0,o.useCallback)(()=>{if(c&&(u((0,d.I2)({newSettings:c})),c.modelId&&(u((0,d.I2)({newSettings:{modelId:c.modelId}})),g.includes(c.modelId)||u((0,d.XX)([c.modelId])))),(0,r.p3)(null==c?void 0:c.sdVersion)){var e,t;let n=null==c?void 0:null===(e=c.elements)||void 0===e?void 0:e.map(e=>e.id),i=null==c?void 0:null===(t=c.userElements)||void 0===t?void 0:t.map(e=>e.id),o="modelId=".concat(null==c?void 0:c.modelId).concat(n?"&elements=".concat(n):"").concat(i?"&userElements=".concat(i):"");return h.push("".concat(a.l.IMAGE_GENERATION,"?").concat(o))}return n?h.push("".concat(a.l.AI_GENERATIONS,"?imageId=").concat(n)):i?h.push("".concat(a.l.AI_GENERATIONS,"/image-guidance")):h.push(a.l.AI_GENERATIONS)},[c,n,i,h,u,g]),handleImageGenV2Img2ImgLink:(0,o.useCallback)(e=>{let n="imageId=".concat(e,"&guidanceType=").concat(s.N.Img2Img);return h.push("".concat(a.l.IMAGE_GENERATION,"?").concat(n))},[h])}}},65705:function(e,n,i){var t=i(51023);n.Z=()=>{let{developerMode:e}=(0,t.V)();return!!e}},43845:function(e,n,i){var t=i(54944),o=i(39954);n.Z=()=>{let{userSelectedTeam:e}=(0,o.P)(),{userRole:n}=e();return n===t.MBR.Owner}},96688:function(e,n,i){i.d(n,{A3:function(){return l}});let t=["NUDITY","EXTREME_VIOLENCE"];function o(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.flatMap(e=>{var n;return e?Array.isArray(e)?e.flatMap(e=>null==e?void 0:e.moderationClassification):null!==(n=null==e?void 0:e.moderationClassification)&&void 0!==n?n:[]:[]})}function l(e){let{image:n,generation:i,nsfwAllowed:l,overlayOpen:a}=e;return!!n&&!!i&&!0!==l&&!1!==a&&(!1===i.nsfw?n.nsfw:0===o(i.prompt_moderations).length?i.nsfw:o(n.generated_image_moderation,i.prompt_moderations).some(e=>t.includes(e)))}},3008:function(e,n,i){i.d(n,{i:function(){return o}});var t=i(35992);let o=e=>{let{width:n,height:i,isHighResolution:o,isUsingAlchemyV2:l,isUsingPhotoRealV2:a}=e,r=t.ALCHEMY_RESOLUTION_MULTIPLIER;return o&&(r=t.ALCHEMY_RESOLUTION_MULTIPLIER_HIGH_RESOLUTION),(l||a)&&(r=t.ALCHEMY_RESOLUTION_MULTIPLIER_V2),{finalResolutionWidth:r*n,finalResolutionHeight:r*i}}},82120:function(e,n,i){i.d(n,{I:function(){return a}});var t=i(35992),o=i(53686),l=i(3008);let a=e=>{let{imageWidth:n,imageHeight:i,alchemy:a,highResolution:r,photoReal:s,sdVersion:d,photoRealVersion:c}=e;if(a){let{finalResolutionWidth:e,finalResolutionHeight:a}=(0,l.i)({width:n,height:i,isHighResolution:!!r,isUsingAlchemyV2:(0,o.dU)(d),isUsingPhotoRealV2:!!s&&c===t.PhotoRealVersion.V2});return{width:e,height:a}}return{width:n,height:i}}}}]);