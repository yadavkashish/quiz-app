!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3a9110dc-5fb6-4c82-8d14-2fdce2e656f5",e._sentryDebugIdIdentifier="sentry-dbid-3a9110dc-5fb6-4c82-8d14-2fdce2e656f5")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{48345:function(e,t,n){var i=n(57437),r=n(60643),o=n(13449),l=n(55093),a=n(24890),s=n(48131),d=n(2265),c=n(73161),u=n(23449),m=n(37047);let g={show:{transition:{staggerChildren:.05}}};t.Z=(0,d.memo)(e=>{let{cards:t,isLoadingMore:n,columnCount:h,templateColumns:p,renderCard:x,onIntersectEnter:f,skeletonCount:b=3,skeletonCard:v,...C}=e,{columnCount:I,templateColumns:j}=(0,u.p)(),y=null!=h?h:I,w=(0,d.useRef)(null),[E,_]=(0,d.useState)([]),k=Array.from({length:b}).map((e,t)=>"card-skeleton-".concat(t));return(0,d.useEffect)(()=>{let e=Array.from({length:y||1}).map(()=>[]);_(t.reduce((e,t,n)=>(e[n%(y||1)].push(t),e),e))},[t,y]),(0,m.S)({target:w,onIntersectEnter:()=>{n||null==f||f()}}),(0,i.jsx)(r.r,{pt:4,gap:4,minH:"100vh",templateColumns:null!=p?p:j,...C,children:E.map((e,t)=>(0,i.jsx)(o.k,{gap:4,as:a.E.div,exit:"exitState",variants:g,initial:"hidden",animate:"show",direction:"column",children:(0,i.jsxs)(s.M,{children:[e.map((t,n)=>{let r=n===e.length-1;return(0,i.jsx)("div",{ref:r?w:null,children:x(t)},t.id)}),n&&k.map(e=>(0,i.jsx)(l.o,{ratio:1,children:v?(0,i.jsx)(i.Fragment,{children:v}):(0,i.jsx)(c.Z,{h:"100%",w:"100%"})},e))]})},"column-".concat(t)))})})},97507:function(e,t,n){var i=n(57437),r=n(60643),o=n(55093),l=n(73161),a=n(76432);t.Z=e=>{let{skeletonCard:t,skeletonCount:n=25,...s}=e,d=Array.from({length:n}).map((e,t)=>"card-skeleton-".concat(t));return(0,i.jsx)(r.r,{pt:4,gap:4,templateColumns:{base:"repeat(".concat(a.I.xs,", minmax(0, 1fr))"),sm:"repeat(".concat(a.I.sm,", minmax(0, 1fr))"),md:"repeat(".concat(a.I.md,", minmax(0, 1fr))"),lg:"repeat(".concat(a.I.lg,", minmax(0, 1fr))"),xl:"repeat(".concat(a.I.xl,", minmax(0, 1fr))")},...s,children:d.map(e=>(0,i.jsx)(o.o,{ratio:1,children:t?(0,i.jsx)(i.Fragment,{children:t}):(0,i.jsx)(l.Z,{})},e))})}},41886:function(e,t,n){n.d(t,{P:function(){return r}});var i,r,o=n(12199),l=n(54944),a=n(39954);(i=r||(r={})).REQUESTING_INIT_IMAGE="REQUESTING_INIT_IMAGE",i.UPLOADING="UPLOADING",i.FINISHED="FINISHED",i.ERROR="ERROR";let s=e=>new Promise(t=>{let n=new Image;n.src=window.URL.createObjectURL(e),n.onload=()=>{t({width:n.width,height:n.height})}}),d=e=>new Promise((t,n)=>{let i=new FileReader;i.onload=e=>{e.target&&e.target.result?t(e.target.result):n("Failed to read the image as a Data URI.")},i.onerror=()=>{n("An error occurred while reading the image.")},i.readAsDataURL(e)});t.Z=e=>{let[t]=(0,o.D)(l.bok),[n]=(0,o.D)(l.vDJ),{userSelectedTeam:i}=(0,a.P)(),r=i();return async i=>{var o;let l=await s(i),a=await d(i);e({state:"REQUESTING_INIT_IMAGE",dataUrl:a});let c=i.name.split(".").pop();if(!c){let t={state:"ERROR",previousState:"REQUESTING_INIT_IMAGE"};return e(t),t}let u=null===(o=(await t({variables:{arg1:{fileType:i.type,extension:c,...r.id&&{teamId:r.akUUID}}}})).data)||void 0===o?void 0:o.uploadInitImage;if(!u){let t={state:"ERROR",previousState:"REQUESTING_INIT_IMAGE",dataUrl:a};return e(t),t}let m=null==u?void 0:u.url,g=null==u?void 0:u.fields;if(!m||!g){let t={state:"ERROR",previousState:"REQUESTING_INIT_IMAGE",dataUrl:a};return e(t),t}let h=JSON.parse(g),p=new FormData;Object.entries({...h,file:i}).forEach(e=>{let[t,n]=e;p.append(t,n)}),e({state:"UPLOADING",uploadPercent:0,dataUrl:a});let x=new XMLHttpRequest,f=!1,b=t=>{if(t.loaded<=t.total){let n=Math.round(t.loaded/t.total*100);if(null==u?void 0:u.id){if(f)return;e({state:"UPLOADING",uploadPercent:n,dataUrl:a})}}},v=t=>{e({state:"ERROR",previousState:"REQUESTING_INIT_IMAGE"}),x.abort()},C=t=>{if(x.removeEventListener("loadend",C),x.removeEventListener("progress",b),x.removeEventListener("error",v),!(x.status>=200&&x.status<300)){e({state:"ERROR",previousState:"REQUESTING_INIT_IMAGE"}),(null==u?void 0:u.id)&&n({variables:{id:null==u?void 0:u.id}});return}(null==u?void 0:u.id)&&(null==u?void 0:u.key)&&(f=!0,e({state:"FINISHED",initImageId:null==u?void 0:u.id,url:"".concat("https://cdn.leonardo.ai","/").concat(null==u?void 0:u.key),dimensions:l,dataUrl:a,name:i.name}))};x.upload.addEventListener("progress",b),x.upload.addEventListener("error",v),x.addEventListener("loadend",C),x.open("POST",m),x.send(p)}}},46598:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(57437),r=n(2265),o=n(29501),l=n(35037),a=n(18040),s=n(92949),d=n(62343),c=()=>({columnCount:s.j,[a.c.YOUR_UPLOADS]:{},[a.c.YOUR_GENERATIONS]:{generationTypeFilter:d.W.All,searchQuery:""},[a.c.COMMUNITY_FEED]:{galleryMode:a.s.TRENDING,generationTypeFilter:d.W.All,searchQuery:"",showNsfw:!1},[a.c.FOLLOWER_FEED]:{galleryMode:a.s.TRENDING,generationTypeFilter:d.W.All,searchQuery:"",showNsfw:!1},selectedImage:null,selectedImages:null}),u=n(83027),m=n(51023),g=n(3676),h=e=>{let{isOpen:t,onClose:n,onSelect:a,onSelectMultiple:s,title:d,personal:h,hideUploadsTab:p,hideCommunityFeedTab:x,multipleSelection:f=!1,isImageDimensionsRequired:b=!0,includeMotion:v=!1,excludeImageIds:C=[],teamId:I,teamAkUuid:j}=e,{updatedSelectImageInput:y}=(0,m.V)(),w=c(),E=(0,r.useRef)(null),_=(0,o.cI)({defaultValues:w}),{reset:k}=_;return(0,r.useEffect)(()=>{t&&k()},[t,k]),(0,i.jsx)(u.u,{isCentered:!1,isOpen:t,size:{base:y?"full":"lg",md:y?"6xl":"lg"},onClose:n,finalFocusRef:E,blockScrollOnMount:!0,ModalContentProps:{borderStyle:y?"solid":"none",borderWidth:y?"px":"none",borderColor:y?"borderNew.primary":"none",minHeight:{base:"calc(100vh - 6rem)",md:"calc(100vh - 2.5rem)"},mx:{base:y?0:void 0,md:y?4:void 0}},ModalCloseButtonProps:{"data-tracking-id":g.CPo,_hover:{bg:"balticSea"},borderStyle:y?"solid":void 0,borderWidth:y?"px":void 0,borderColor:y?"borderNew.primary":void 0,boxSize:{base:5,md:8},bg:"rgba(0, 0, 0, 0.58)",right:{base:y?2.5:4,md:7},rounded:"full",top:{base:y?2.5:"1.125rem",md:"1.125rem"},sx:{"> svg":{boxSize:{base:2,md:3}}}},children:(0,i.jsx)(o.RV,{..._,children:(0,i.jsx)(l.EC,{title:null!=d?d:"Select Image Input",isCommunityFeedTabHidden:x,isUploadsTabHidden:p,isMultipleSelection:f,onSelect:a,onSelectMultiple:s,includeMotion:v,onClose:n,excludeImageIds:C,isImageDimensionsRequired:b,teamId:I,teamAkUuid:j})})})}},35037:function(e,t,n){n.d(t,{GB:function(){return r},EC:function(){return tQ}});var i,r,o=n(57437),l=n(13449),a=n(4360),s=n(70996),d=n(26262),c=n(58055),u=n(48131),m=n(2265),g=n(29501),h=n(8196),p=n(49911),x=n(21788),f=n(16152),b=n(86827),v=n(31631),C=n(1677),I=n(72760),j=n(43434),y=n(66896),w=n(12199),E=n(54944),_=n(74449),k=n(65898),S=n(75365),L=()=>{let e=(0,k.Z)(),t=(0,_.T)(),[n,i]=(0,w.D)(E.vDJ,{refetchQueries:["GetViewerUploads"]}),[r]=(0,w.D)(E.ISq),o=async i=>{var o;let l;try{let{data:e}=await r({variables:{input:{id:i}}});l=e}catch(t){return console.error(t),e({title:"Error",description:"We were unable to check if this image was in use by any existing generations. Please try again shortly.",type:k.N.error}),!1}if(!(null==l?void 0:null===(o=l.checkUploadForGenerations)||void 0===o?void 0:o.canDelete))return e({title:"Error",description:"It looks like this image is currently in use by a pending generation. Please try again shortly.",type:k.N.error}),!1;try{await n({variables:{id:i}})}catch(t){return console.error(t),e({title:"Error",description:"We were unable to delete this image. Please try again shortly.",type:k.N.error}),!1}return t((0,S.IS)(i)),!0};return{loading:i.loading,deleteInitImage:o}},O=n(28104),R=e=>{let{isOpen:t,onClose:n,initImageId:i}=e,{deleteInitImage:r,loading:l}=L(),s=async()=>{await r(i)&&n(!0)};return(0,o.jsxs)(h.u_,{isOpen:t,onClose:()=>n(!1),closeOnOverlayClick:!0,isCentered:!0,children:[(0,o.jsx)(p.Z,{}),(0,o.jsx)(x.h,{px:8,py:10,textAlign:"center",children:(0,o.jsx)(f.f,{children:(0,o.jsx)(b.M,{children:(0,o.jsxs)(d.g,{maxW:"calc(".concat(O.cM," * 39.125)"),children:[(0,o.jsx)(b.M,{mb:"calc(".concat(O.cM," * 0.9375)"),children:(0,o.jsx)(y.Z,{})}),(0,o.jsx)(v.X,{size:"lg",fontWeight:600,mb:"calc(".concat(O.cM," * 1.125)"),children:"Are you sure you want to delete this image?"}),(0,o.jsx)(d.g,{pt:8,mb:"calc(".concat(O.cM," * 2.75) !important"),color:"#FF8600",children:(0,o.jsx)(a.x,{children:"This image will be permanently deleted."})}),(0,o.jsxs)(c.U,{spacing:{base:"4",xs:"9"},justify:"center",width:"100%",children:[(0,o.jsx)(C.z,{py:4,width:"50%",variant:"outline",onClick:()=>n(!1),isDisabled:l,children:"Cancel"}),(0,o.jsx)(C.z,{isDisabled:l,onClick:s,py:4,width:"50%",variant:"solid",backgroundColor:j.DM.ORANGE,leftIcon:l?(0,o.jsx)(I.$,{w:4,h:4}):void 0,children:"Delete"})]})]})})})})]})},T=n(75500),N=n(85330),D=n(67084),M=n(24890),A=n(68973),U=n(19476),F=n(35998),W=n(12757),G=n(51023),P=n(62343),Z=n(50571),B=n(68404);let q=(e,t,n)=>{if(e*t<=n)return{width:e,height:t};let i=e/t,r=Math.sqrt(n*i);return{width:Math.floor(r),height:Math.floor(r/i)}},H=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=document.createElement("canvas"),i=n.getContext("2d");if(null===i)throw Error("Error In SelectImageThumbnail: Context was null when requesting canvas data URI");let r=q(e.naturalWidth,e.naturalHeight,t);return n.width=r.width,n.height=r.height,i.drawImage(e,0,0,n.width,n.height),n.toDataURL()};var z=n(99292);let V="linear-gradient(to bottom, #FA5560 -23.47%, #B14BF4 45.52%, #4D91FF 114.8%)",Y="#2D2D2D",Q=(0,A.forwardRef)((e,t)=>{let{imageUrl:n,alt:i,hasLoadedImage:r,isSelected:a,isDisabled:s,isTransparent:d,thumbnailAspectRatio:c,onThumbLoad:u,onThumbError:m,onThumbClick:g,...h}=e,{updatedSelectImageInput:p}=(0,G.V)(),{motionProps:x,flexProps:f}=Object.keys(h).reduce((e,t)=>((0,F.Z)(t)?e.motionProps[t]=h[t]:e.flexProps[t]=h[t],e),{flexProps:{},motionProps:{}}),b={background:r?"linear-gradient(transparent, transparent) padding-box, ".concat(a?V:"transparent"," border-box"):"none",...!r&&{backgroundColor:Y,backgroundImage:"url('".concat(Z.r0,"')"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"50%",filter:"grayscale(100%)",minHeight:c?void 0:64,opacity:.2,style:{aspectRatio:c?c.toString():"auto"}}};return(0,o.jsx)(M.E.div,{...x,variants:z.hW,initial:"hidden",animate:"visible",children:(0,o.jsxs)(l.k,{justifyContent:"center",borderRadius:p?"md":"2xl",borderStyle:"solid",borderWidth:"md",borderColor:r?"transparent":Y,_hover:r&&!s?{background:"linear-gradient(transparent, transparent) padding-box, ".concat(V," border-box")}:{},userSelect:"none",cursor:r?"pointer":void 0,position:"relative",transition:"opacity 100ms linear",onClick:g||void 0,...b,...f,children:[""!==n&&(0,o.jsx)(U.E,{alt:i,src:n,ref:t,onLoad:u||void 0,onError:m||void 0,backgroundColor:Y,...d&&j.CO,crossOrigin:"anonymous",borderRadius:p?"md":"2xl",style:{aspectRatio:c?c.toString():"auto"}}),(0,o.jsx)(l.k,{as:M.E.div,opacity:s?1:a?1:0,_hover:s?{opacity:1}:r?{opacity:a?1:.7}:{opacity:0},position:"absolute",top:0,left:0,right:0,bottom:0,width:"full",height:"full",borderRadius:p?"md":"2xl",transition:"opacity 100ms linear",justifyContent:"center",background:"linear-gradient(#000000A6, #000000A6) border-box",alignItems:"center",zIndex:0,children:a&&(0,o.jsx)(l.k,{background:"gradient.main",rounded:"50%",width:14,height:14,justifyContent:"center",alignItems:"center",children:(0,o.jsx)(W.Z,{width:10,height:10})})})]})})}),J=(0,A.forwardRef)((e,t)=>{var n;let{image:i,isDisabled:r,isMultipleSelection:l,selectedImages:a,onImageSelected:s,...d}=e,c=(0,m.useRef)(null);(0,m.useImperativeHandle)(t,()=>c.current);let{setValue:u,watch:h}=(0,g.Gc)(),{getValues:p}=(0,g.Gc)(),x=h("selectedImage"),f=!l&&(null==x?void 0:x.initImageId)===i.initImageId,b=!!(l&&(null==a?void 0:a.find(e=>e.initImageId===i.initImageId))),v=f||b,C=(0,B.LR)(null===(n=i.generation)||void 0===n?void 0:n.transparency),[I,j]=(0,m.useState)(!1),y=p("YOUR_GENERATIONS.generationTypeFilter")===P.W.Upscaled&&i.urlVariation||i.url,[w,E]=(0,m.useState)(y+Z.G3),_=i.url,k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={...i,...e};t&&t!==_||(u("selectedImage",n),null==s||s(n))},S=async()=>{let e=null==c?void 0:c.current;!r&&I&&e&&(v?(l||u("selectedImage",null),null==s||s(i)):k({base64ImageUri:H(e,589824)}))};return(0,o.jsx)(Q,{ref:c,imageUrl:w,alt:i.alt,hasLoadedImage:I,isDisabled:r,isSelected:v,isTransparent:C,thumbnailAspectRatio:i.aspectRatio,onThumbLoad:()=>j(!0),onThumbError:()=>E(y),onThumbClick:S,...d})});var K=n(76661),X=n(39589);let $={hidden:{opacity:0,y:"1.875rem"},show:{opacity:1,y:0,transition:{duration:.2,ease:"easeOut"}}},ee=e=>{var t;let{card:n,isSelected:i=!0,onCollectionClick:r,onImageClick:l,isTeamCollection:a=!1}=e,[s,d]=(0,m.useState)(n.imageUrl+Z.G3),[c,u]=(0,m.useState)(!1),g=(0,m.createRef)(),h=e=>{null==l||l(e)},p=(0,B.LR)(null===(t=n.generation)||void 0===t?void 0:t.transparency);return(0,o.jsx)(m.Fragment,{children:"collection"===n.type?(0,o.jsx)(K.z,{thumbnailUrls:n.thumbnailUrls,id:BigInt(n.id),name:n.title,owner:n.owner,isSelected:!1,parentCollectionId:n.parentCollectionId,isNavigating:!0,onClick:e=>{null==r||r(e)},url:null,children:(0,o.jsx)(X.u,{name:n.title,isMenuEnabled:!1,id:BigInt(n.id),owner:n.owner,onDelete:()=>{},onUpdateCollection:async()=>{},isTeamsCollection:a})}):(0,o.jsx)(D.P,{as:M.E.div,variants:$,children:(0,o.jsx)(Q,{ref:g,imageUrl:s,isSelected:i,isTransparent:p,hasLoadedImage:c,onThumbError:()=>d(n.imageUrl),onThumbLoad:()=>u(!0),onThumbClick:()=>h(n)})})},n.id)};var et=n(48345),en=n(97507),ei=n(18040),er=n(27346),eo=n(76311),el=n(28212),ea=n(72746),es=n(86067);let ed=e=>{let{title:t,subtitle:n}=e;return(0,o.jsxs)(l.k,{direction:"column",justifyContent:"center",alignItems:"center",flex:1,gap:"3",textAlign:"center",children:[t&&(0,o.jsx)(a.x,{fontSize:"2xl",color:"white",children:t}),n&&(0,o.jsx)(a.x,{fontSize:"1rem",color:"content.tertiary",maxWidth:{base:"13.75rem",md:"fit-content"},children:n})]})},ec=e=>({id:e.id.toString(),cards:e.collection_images.map(t=>{var n,i,r,o,l;let a=t.generated_image;return{id:(null==a?void 0:a.id)||"",uuid:e.akUUID,title:(null==a?void 0:null===(n=a.generation)||void 0===n?void 0:n.prompt)||e.collectionName||"",nsfw:(null==a?void 0:a.nsfw)||!1,prompts:(null==a?void 0:null===(i=a.generation)||void 0===i?void 0:i.prompt)||"",imageUrl:(null==a?void 0:a.url)||"",thumbnailUrls:e.collection_images.map(e=>{var t;return(null===(t=e.generated_image)||void 0===t?void 0:t.url)||""}),motionGifUrl:void 0,motionMp4Url:void 0,likes:0,trendingScore:0,user:{id:(null==a?void 0:a.userId)||null},generationId:(null==a?void 0:a.generationId)||"",isLiked:!1,generated_image_moderation:(null==a?void 0:a.generated_image_moderation)||null,generated_image_variation_generics:[],generation:{imageWidth:(null==a?void 0:null===(r=a.generation)||void 0===r?void 0:r.imageWidth)||0,imageHeight:(null==a?void 0:null===(o=a.generation)||void 0===o?void 0:o.imageHeight)||0,public:!1,nsfw:!1,transparency:"opaque",generation_controlnets:[],prompt_moderations:[],id:(null==a?void 0:a.generationId)||""},conditionalImageUrl:(null==a?void 0:a.url)||"",imageSelectionMode:void 0,createdAt:(null==a?void 0:a.createdAt)||"",public:null!==(l=null==a?void 0:a.public)&&void 0!==l&&l,collection_images:(null==a?void 0:a.collection_images)||[]}})}),eu=e=>{var t;let{limit:n=50,teamId:i=null,currentView:r,onImageSelected:a}=e,{updatedSelectImageInput:s}=(0,G.V)(),d=(0,es.I)(),{PERSONAL_COLLECTIONS_QUERY:c,getTeamCollectionsQuery:u,getPersonalTeamCollectionsQuery:h}=(0,el.Z)(),[p,x]=(0,m.useState)(void 0),{setValue:f,watch:b,reset:v}=(0,g.Gc)(),C=b("selectedImage"),I=(0,m.useRef)(null);(0,m.useEffect)(()=>{let e=document.getElementById("collection-browser-breadcrumbs");e instanceof HTMLDivElement&&(I.current=e)},[]),(0,m.useEffect)(()=>{x(void 0),v()},[r,v,x]);let j=function(e){switch(e){case ei.c.COLLECTIONS:return c;case ei.c.TEAM_COLLECTIONS:return u(i);case ei.c.PERSONAL_TEAM_COLLECTIONS:return h(i);default:return c}}(r),y=(0,m.useMemo)(()=>(null==p?void 0:p.id)?{where:{parentCollectionId:{_eq:String(p.id)}}}:j,[null==p?void 0:p.id,j]),{data:w,fetchMore:_}=(0,T.a)(E.M7g,{variables:{...y,limit:n},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:!p&&!j}),k=(0,m.useMemo)(()=>{var e;return null!==(e=null==w?void 0:w.collection)&&void 0!==e?e:[]},[null==w?void 0:w.collection]),S=k.length>0&&k.length%n==0,L=(0,m.useCallback)(()=>{S&&_({variables:{offset:k.length},updateQuery:(e,t)=>{let{fetchMoreResult:n}=t;return!n.collection.length||e.collection.find(e=>e.akUUID===n.collection[0].akUUID)?e:Object.assign({},e,{collection:[...e.collection,...n.collection]})}})},[S,k.length,_]),O=(0,m.useMemo)(()=>({userId:r===ei.c.PERSONAL_TEAM_COLLECTIONS?{_eq:d}:{_is_null:!1},teamId:i?{_eq:i}:{_is_null:!0},collectionId:(null==p?void 0:p.id)?{_eq:p.id}:{_is_null:!0},akUUID:{_is_null:!1}}),[null==p?void 0:p.id,r,i,d]),[R,D,{doneFirstLoad:M,loading:A}]=(0,ea.M)({query:E.eqB,queryVariables:e=>({createdAt:{_lt:e},...O,limit:n}),start:new Date,parser:ec,iteratorGetter:e=>e.id,duplicateCheckParser:e=>e.id,isKeysetPagination:!1,shouldResetOnVariablesChange:!0,preloadNextPage:!1}),U=(k||[]).map(e=>{var t;return{type:"collection",uuid:e.akUUID,id:e.id,title:e.collectionName,owner:null===(t=e.user)||void 0===t?void 0:t.username,imageUrl:e.thumbnailUrl,isBrowsingCard:!0,initImageId:e.id,thumbnailUrls:e.collection_images.map(e=>{var t;return null===(t=e.generated_image)||void 0===t?void 0:t.url})}}),F=[...null!=U?U:[],...((null==R?void 0:null===(t=R[0])||void 0===t?void 0:t.cards)||[]).map(e=>({...e,isBrowsingCard:!0,type:"image",initImageId:e.id}))],W=r===ei.c.PERSONAL_TEAM_COLLECTIONS?"Your Collections":"Team Collections",P=(0,m.useCallback)(e=>{var t,n;let i={initImageId:e.initImageId,initImageType:E.esw.Generated,url:e.imageUrl,alt:e.title,dimensions:{width:null!==(t=e.generation.imageWidth)&&void 0!==t?t:0,height:null!==(n=e.generation.imageHeight)&&void 0!==n?n:0}};f("selectedImage",i),null==a||a(i)},[a,f]),Z=(0,m.useCallback)(e=>{let{id:t}=e;x(t?k.find(e=>e.id===Number(t)):void 0),v()},[k,v]),B=e=>{x(e),v()},q=(0,m.useCallback)(e=>(0,o.jsx)(ee,{card:e,isSelected:(null==C?void 0:C.initImageId)===e.initImageId,isTeamCollection:!!i,onImageClick:e=>P(e),onCollectionClick:e=>{let{id:t}=e;return Z({id:t})}}),[Z,P,null==C?void 0:C.initImageId,i]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(N.h,{containerRef:I,children:(0,o.jsx)(er.V,{isNonNavigating:!0,navigationTitle:i?W:"Collections",onBreadcrumbClick:e=>B(e),collectionId:null==p?void 0:p.akUUID})}),(0,o.jsxs)(l.k,{id:"collection-browser",position:"relative",flexDirection:"column",h:"full",pt:{base:s?3:void 0,md:s?4:void 0},children:[A&&!M&&(0,o.jsx)(en.Z,{skeletonCount:16,templateColumns:{base:"repeat(".concat(2,", minmax(0, 1fr))"),sm:"repeat(".concat(4,", minmax(0, 1fr))")}}),0===F.length&&!p&&(0,o.jsx)(ed,{title:"Nothing to display",subtitle:"Your collections will appear here"}),M&&0===F.length&&p&&(0,o.jsx)(ed,{title:"Nothing to display",subtitle:"Your collections will appear here"}),(0,o.jsx)(eo.v,{hookProps:D,style:{overflow:"hidden",display:0===F.length?"none":"block"},children:(0,o.jsx)(et.Z,{isLoadingMore:A&&M,cards:F,onIntersectEnter:S?L:void 0,renderCard:q,pt:s?void 0:2,skeletonCount:4,columnCount:4,minHeight:{base:s?"none":void 0},templateColumns:{base:"repeat(2, minmax(0, 1fr))",md:"repeat(".concat(4,", ").concat(s?"minmax(17rem, 1fr)":"minmax(0, 1fr)",")")}})})]})]})};var em=n(74015),eg=n(97205),eh=e=>{let{name:t,mode:n,label:i,icon:r}=e,{control:l}=(0,g.Gc)(),{field:a}=(0,g.bc)({name:t,control:l,rules:{required:!0}});return(0,o.jsx)(C.z,{variant:a.value===n?"gradient":"outline",onClick:()=>a.onChange(n),onBlur:a.onBlur,leftIcon:r,fontWeight:500,color:a.value===n?void 0:"var(--text-muted-600, #9094A6)",background:a.value===n?void 0:"#171717",fontSize:"sm",px:"5",flex:"1",children:i})},ep=n(47078),ex=n(87839),ef=n(17978),eb=n(13856),ev=e=>(0,o.jsx)(eb.J,{width:"0.6875rem",height:"0.8750rem",viewBox:"0 0 11 14",fill:"currentcolor",...e,children:(0,o.jsx)("path",{d:"M10.25 8.33161C10.25 11.0883 8.00733 13.3316 5.25 13.3316C2.49267 13.3316 0.25 11.0883 0.25 8.33161C0.25 6.83295 0.677997 5.76561 1.68066 4.76228C1.87733 4.56494 2.1 4.3676 2.33067 4.1636C3.27467 3.3276 4.25 2.46296 4.25 0.997629C4.25 0.874962 4.31801 0.761602 4.42601 0.703602C4.53401 0.645602 4.66534 0.651619 4.76801 0.720285C4.80801 0.746952 8.52666 3.2956 6.62 7.67426C7.06733 7.42426 7.60267 7.01426 7.93134 6.37759C8.142 5.96959 8.24933 5.50563 8.24933 4.99763C8.24933 4.8623 8.33133 4.74029 8.45667 4.68895C8.58067 4.63762 8.72533 4.66695 8.82066 4.76362C9.72933 5.68695 10.25 6.98761 10.25 8.33161Z"})}),eC=e=>(0,o.jsxs)(eb.J,{width:"1.0625rem",height:4,viewBox:"0 0 17 16",stroke:"currentcolor",...e,children:[(0,o.jsx)("path",{d:"M2.25195 8H4.05215",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M12.4556 8H14.2558",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M8.25049 14.0033V12.2031",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M8.25049 3.8002V2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M12.5096 12.2615L11.1895 10.9414",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M5.30891 5.06233L3.98877 3.74219",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M12.5096 3.74219L11.1895 5.06233",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M5.30891 10.9414L3.98877 12.2615",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),eI=e=>(0,o.jsxs)(eb.J,{width:"calc(".concat(O.cM," * 1.0625)"),height:"calc(".concat(O.cM," * 1)"),viewBox:"0 0 17 16",fill:"none",stroke:"currentcolor",...e,children:[(0,o.jsx)("path",{d:"M13.4658 9.21962C13.0877 12.8863 12.4867 13.4974 8.62763 13.4974C4.47172 13.4974 4.01625 12.5807 3.78951 9.21962C3.62462 6.77517 3.75904 6.16406 8.62764 6.16406C13.5198 6.16406 13.6969 6.97782 13.4658 9.21962Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M5.58594 4.33594H11.697",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M7.41406 2.5H9.85851",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),ej=n(97791),ey=e=>{let{name:t}=e,{control:n}=(0,g.Gc)(),{field:i}=(0,g.bc)({name:t,control:n,rules:{required:!0}}),{updatedSelectImageInput:r}=(0,G.V)();return(0,o.jsx)(o.Fragment,{children:r?(0,o.jsx)(ej.Q,{name:t,value:i.value,maxW:"7.5rem",minW:"7.5rem",height:10,py:2,px:4,children:[{mode:ei.s.TRENDING,label:"Trending",icon:(0,o.jsx)(ep.Z,{boxSize:4})},{mode:ei.s.NEW,label:"New",icon:(0,o.jsx)(ex.Z,{boxSize:4})},{mode:ei.s.TOP,label:"Top",icon:(0,o.jsx)(ef.Z,{boxSize:4})}].map(e=>{let{mode:t,label:n,icon:r}=e;return(0,o.jsx)(em.s,{onClick:()=>i.onChange(t),value:t,icon:r,fontWeight:i.value===t?500:void 0,color:i.value===t?void 0:"content.secondary",background:i.value===t?"#FFFFFF0F":void 0,_last:{borderBottomRadius:"md"},children:n},t)})}):(0,o.jsxs)(eg.h,{isAttached:!0,minWidth:"md",display:"flex",children:[(0,o.jsx)(eh,{name:t,mode:ei.s.TRENDING,label:"Trending",icon:(0,o.jsx)(ev,{})}),(0,o.jsx)(eh,{name:t,mode:ei.s.NEW,label:"New",icon:(0,o.jsx)(eC,{})}),(0,o.jsx)(eh,{name:t,mode:ei.s.TOP,label:"Top",icon:(0,o.jsx)(eI,{})})]})})},ew=e=>{let{name:t,label:n,value:i}=e,{control:r}=(0,g.Gc)(),{field:l}=(0,g.bc)({name:t,control:r,rules:{required:!0}});return(0,o.jsx)(C.z,{variant:l.value===i?"gradient":"outline",onClick:()=>l.onChange(i),fontWeight:500,color:l.value===i?void 0:"var(--text-muted-600, #9094A6)",background:l.value===i?void 0:"#171717",fontSize:"sm",px:5,py:2.5,children:n})},eE=n(8707),e_=n(17370),ek=e=>{let{name:t,includeMotion:n,...i}=e,{control:r}=(0,g.Gc)(),{field:l}=(0,g.bc)({name:t,control:r,rules:{required:!0}}),{updatedSelectImageInput:a}=(0,G.V)(),s=n?eE.IR:eE.B9;return(0,o.jsx)(o.Fragment,{children:a?(0,o.jsx)(e_.X,{borderRadius:"full",borderWidth:"px",borderColor:"border.greyBlue",bgColor:"darkblue",width:"fit-content",children:s.map(e=>{let{filter:t,tooltip:n,icon:i}=e;return(0,o.jsx)(e_.i,{onClick:()=>l.onChange(t),size:"md",fontSize:"md",fontWeight:"medium",borderRadius:"full",tooltipLabel:n,leftIcon:i,tooltipPlacement:"top",children:t},t)})}):(0,o.jsxs)(eg.h,{isAttached:!0,minWidth:60,display:"flex",...i,children:[(0,o.jsx)(ew,{name:t,value:P.W.All,label:"All"}),(0,o.jsx)(ew,{name:t,value:P.W.Upscaled,label:"Upscaled"}),n&&(0,o.jsx)(ew,{name:t,value:P.W.Motion,label:"Motion"})]})})},eS=n(25730),eL=n(98052),eO=n(58774),eR=n(76432),eT=()=>{let{updatedSelectImageInput:e}=(0,G.V)(),t=(0,eO.S)({base:e?"sm":"xs",sm:"sm",md:"md",lg:"lg",xl:"xl"},{ssr:!1});return eR.I[t]},eN=n(42545),eD=n(19100),eM=n(31926),eA=e=>{let{name:t}=e,{control:n}=(0,g.Gc)(),{field:i}=(0,g.bc)({name:t,control:n,rules:{required:!0}}),r=eT();return 1===r?null:(0,o.jsx)(l.k,{display:{base:"none",sm:"flex"},justifyContent:{base:"space-between",md:"space-between",lg:"flex-end"},alignItems:{base:"flex-start",lg:"center"},gap:3,flexDirection:{base:"row",sm:"row"},children:(0,o.jsxs)(l.k,{gap:{base:1,sm:3},alignItems:"center",children:[(0,o.jsx)(eM.Z,{color:"subdued"}),(0,o.jsx)(eS.h,{variant:"link",icon:(0,o.jsx)(eN.Z,{}),_hover:{transform:"scale(1.17)"},"aria-label":"Decrease columns",onClick:()=>i.onChange(Math.max(i.value-1,0))}),(0,o.jsxs)(eL.iR,{width:36,step:1,min:1,max:r,value:i.value,onChange:i.onChange,"aria-label":"Gallery Columns",children:[(0,o.jsx)(eL.Uj,{height:"100%",rounded:"full",children:(0,o.jsx)(eL.Ms,{})}),(0,o.jsx)(eL.gs,{})]}),(0,o.jsx)(eS.h,{variant:"link",icon:(0,o.jsx)(eD.Z,{}),_hover:{transform:"scale(1.17)"},"aria-label":"Increase columns",onClick:()=>i.onChange(Math.min(i.value+1,r))})]})})},eU=n(12125),eF=n(68193),eW=n(10883),eG=n(55160),eP=n(83674),eZ=e=>{let{name:t,isDisabled:n}=e,{updatedSelectImageInput:i}=(0,G.V)(),{control:r}=(0,g.Gc)(),{field:a}=(0,g.bc)({name:t,control:r,rules:{required:!0},disabled:n}),[s,d]=(0,m.useState)(a.value),c=i?"Search prompts or users":"Search prompts";return(0,o.jsxs)(l.k,{alignItems:{base:i?void 0:"stretch",md:"stretch"},gap:{base:i?0:3,md:3},minWidth:{base:i?void 0:96,md:96},width:{base:i?"100%":void 0,md:void 0},children:[(0,o.jsxs)(eU.B,{flex:"1",children:[(0,o.jsxs)(eF.Z,{display:{base:i?"none":"flex",md:"flex"},height:"100%",pointerEvents:"none",children:[!i&&(0,o.jsx)(eG.G4C,{fontSize:"lg",strokeWidth:"0",fill:"white"}),i&&(0,o.jsx)(eP.Z,{width:5,height:5})]}),(0,o.jsx)(eW.I,{type:"text",width:"100%",background:i?"surface.inputDefault":"background.grey",rounded:"lg",pl:{base:i?"3":"9",md:"9"},pr:"3.5",py:"1.5",height:{base:i?8:"unset",md:"unset"},placeholder:a.disabled?"Search is currently disabled":c,fontSize:"sm",fontWeight:i?500:void 0,border:i?void 0:"none",borderWidth:i?"1px":void 0,borderStyle:i?"solid":void 0,borderColor:i?"borderNew.primary":void 0,borderRight:{base:i?"none":"1px solid",md:"1px solid"},borderRightColor:{base:i?"none":"borderNew.primary",md:"borderNew.primary"},borderTopRightRadius:{base:i?0:"lg",md:"lg"},borderBottomRightRadius:{base:i?0:"lg",md:"lg"},_placeholder:{fontSize:"sm",color:i?"content.tertiary":"secondary.inactive"},_focus:{borderColor:i?"borderNew.selected":void 0},value:s,isDisabled:a.disabled,name:a.name,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"===e.key&&a.onChange(s)}})]}),(0,o.jsx)(C.z,{display:{base:i?"none":"flex",md:"flex"},variant:i?"glowBuy":"glow",width:"unset",fontWeight:500,fontSize:"sm",onClick:()=>a.onChange(s),isDisabled:a.disabled,py:i&&"0.75rem !important",px:4,children:"Search"}),(0,o.jsx)(C.z,{display:{base:i?"flex":"none",md:"none"},variant:"gradient",width:8,minWidth:8,height:8,padding:0,alignItems:"center",justifyContent:"center",borderTopRightRadius:"rounded",borderBottomRightRadius:"rounded",borderTopLeftRadius:{base:i?0:"rounded",md:"rounded"},borderBottomLeftRadius:{base:i?0:"rounded",md:"rounded"},onClick:()=>a.onChange(s),isDisabled:a.disabled,children:(0,o.jsx)(eP.Z,{width:5,height:5,color:"white"})})]})},eB=n(68499),eq=n(39456);let eH=e=>{let{galleryFilterName:t,generationTypeName:n,includeMotion:i}=e,{control:r}=(0,g.Gc)(),o=(0,g.bc)({name:t||"defaultGalleryFilter",control:r,rules:{required:!0}}).field,l=(0,g.bc)({name:n||"defaultGenerationTypeFilter",control:r,rules:{required:!0}}).field,[a,s]=(0,m.useState)(null==o?void 0:o.value),[d,c]=(0,m.useState)(l.value),u=i?eE.IR:eE.B9,h=(0,m.useCallback)(()=>{o.onChange(a),l.onChange(d)},[o,l,a,d]),p=(0,m.useCallback)(()=>{s(ei.s.TRENDING),c(P.W.All)},[]);return{modalExploreFilter:a,modalGenerationType:d,handleModalExploreFilterChange:(0,m.useCallback)(e=>{s(e)},[]),handleModalGenerationTypeChange:c,handleApplyFilters:h,handleResetFilters:p,filterOptions:u}};var ez=n(42801);let eV=e=>{let{galleryFilterName:t,generationTypeName:n,includeMotion:i,showSortFilters:r}=e,{isOpen:l,onOpen:a,onClose:s}=(0,eB.q)(),{modalExploreFilter:d,modalGenerationType:c,handleModalExploreFilterChange:u,handleModalGenerationTypeChange:m,handleApplyFilters:g,handleResetFilters:h,filterOptions:p}=eH({galleryFilterName:t,generationTypeName:n,includeMotion:i});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eS.h,{display:{base:"flex",md:"none"},borderRadius:"lg","aria-label":"Open Filters Modal",variant:"outline",bg:"darkblue",borderColor:"border.greyBlue",borderWidth:"px",onClick:a,size:"sm",icon:(0,o.jsx)(ez.Z,{w:4,h:4})}),(0,o.jsx)(eq.s,{isOpen:l,showSortFilters:r,onClose:s,galleryFilter:d,generationType:c,onGalleryFilterChange:u,onGenerationTypeChange:m,onApply:g,onReset:h,filterOptions:p,exploreFilterOptions:eE.rw})]})};var eY=e=>{let{feedName:t}=e,{isSearchEnabled:n,updatedSelectImageInput:i}=(0,G.V)();return(0,o.jsxs)(l.k,{flexDirection:{base:"row",md:"column"},flexWrap:"wrap",gap:3,pt:"6",bg:i?j.HW.BG_DARK:void 0,pb:i?2:void 0,children:[(0,o.jsxs)(l.k,{gap:{base:7,md:3},alignItems:{base:"stretch",md:"center"},justifyContent:"space-between",flexDirection:{base:i?"row":"column",md:"row"},flexWrap:"wrap",flex:{base:1,md:void 0},px:i?6:void 0,children:[(0,o.jsxs)(l.k,{w:{base:i?"100%":"fit-content",md:"fit-content"},gap:i?2:0,pb:{base:i?3:0,md:0},children:[(0,o.jsx)(eZ,{name:"".concat(t,".searchQuery"),isDisabled:!n}),i&&(0,o.jsx)(eV,{galleryFilterName:"".concat(t,".galleryMode"),generationTypeName:"".concat(t,".generationTypeFilter")})]}),(0,o.jsxs)(l.k,{gap:3.5,display:{base:i&&"none",md:i&&"flex"},children:[i&&(0,o.jsx)(ek,{name:"".concat(t,".generationTypeFilter"),flex:{base:"initial",md:void 0}}),(0,o.jsx)(ey,{name:"".concat(t,".galleryMode")})]})]}),!i&&(0,o.jsxs)(l.k,{justifyContent:"space-between",alignItems:{base:"stretch",md:"center"},gap:{base:7,md:3},flexDirection:{base:"column",md:"row"},flex:{base:1,md:"initial"},flexWrap:"wrap",children:[(0,o.jsx)(l.k,{gap:"7",justifyContent:{base:"stretch",lg:"flex-start"},flex:{base:1,md:"initial"},children:(0,o.jsx)(ek,{name:"".concat(t,".generationTypeFilter"),flex:{base:1,md:void 0}})}),(0,o.jsx)(eA,{name:"columnCount"})]})]})},eQ=n(92949),eJ=e=>{let{includeMotion:t}=e,{updatedSelectImageInput:n}=(0,G.V)();return(0,o.jsx)(l.k,{flexDirection:"column",gap:3,pt:"6",px:n?6:void 0,pb:n?2:void 0,bg:n?j.HW.BG_DARK:void 0,children:(0,o.jsxs)(l.k,{justifyContent:"space-between",alignItems:{base:"stretch",lg:"stretch"},flexDirection:{base:"column",lg:"row"},flexWrap:"wrap",gap:{base:7,lg:3},children:[(0,o.jsxs)(l.k,{gap:"7",flex:{base:1,md:void 0},alignItems:{base:"stretch",md:"center"},justifyContent:{base:"center",md:n?"space-between":"flex-start"},flexDirection:{base:"column",sm:"row"},w:n?"100%":"fit-content",children:[(0,o.jsxs)(l.k,{w:{base:n?"100%":"fit-content",md:"fit-content"},gap:n?2:0,pb:{base:n?3:0,md:0},children:[(0,o.jsx)(eZ,{name:"YOUR_GENERATIONS.searchQuery"}),n&&(0,o.jsx)(eV,{generationTypeName:"YOUR_GENERATIONS.generationTypeFilter",showSortFilters:!1})]}),(0,o.jsx)(l.k,{display:{base:n&&"none",md:n&&"flex"},children:(0,o.jsx)(ek,{name:"YOUR_GENERATIONS.generationTypeFilter",includeMotion:t})})]}),!n&&(0,o.jsx)(eA,{name:"columnCount"})]})})};let eK=e=>{let{isSelected:t,...n}=e,{updatedSelectImageInput:i}=(0,G.V)();return(0,o.jsx)(s.xu,{py:i?0:3,pb:{base:i?1:0,md:i?3:0},borderBottomWidth:i?"0.125rem":"sm",borderStyle:"solid",sx:{"--tab-underline-color":"colors.gradient.main",borderImage:t?"var(--tab-underline-color) 1":void 0},borderColor:t?void 0:"transparent",_hover:{color:"white"},transition:"color 150ms linear, border-color 300ms linear",color:i?t?"white":"content.tertiary":t?"white":"secondary.inactive",fontSize:i?{base:"xs",md:"sm"}:"md",fontStyle:"normal",fontWeight:i?500:700,cursor:"pointer",display:"inline-block",whiteSpace:"nowrap",...n})};var eX=n(36312),e$=n(97174);function e0(e){let{children:t,...n}=e,{containerRef:i,showLeftArrow:r,showRightArrow:a,scroll:d,checkArrows:c}=function(){let e=(0,m.useRef)(null),[t,n]=(0,m.useState)(!1),[i,r]=(0,m.useState)(!1),o=(0,m.useCallback)(()=>{let t=e.current;if(t){let{scrollLeft:e,scrollWidth:i,clientWidth:o}=t;n(e>0),r(!(e+o>=i-1))}},[]);(0,m.useEffect)(()=>(o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)),[o]);let l=(0,m.useCallback)(t=>{let n=e.current;if(!n)return;let i=.8*n.clientWidth;n.scrollBy({left:"left"===t?-i:i,behavior:"smooth"})},[]);return{containerRef:e,showLeftArrow:t,showRightArrow:i,scroll:l,checkArrows:o}}();return(0,o.jsx)(s.xu,{position:"relative",width:"100%",overflowX:"hidden",children:(0,o.jsxs)(s.xu,{position:"relative",width:"100%",children:[r&&(0,o.jsx)(C.z,{onClick:()=>d("left"),position:"absolute",left:"0",top:"0",bottom:"0",zIndex:10,width:"40px",height:"full",display:"flex",alignItems:"start",justifyContent:"center",bg:"linear-gradient(to right, #06080D 0%, transparent 100%)","aria-label":"Scroll left",variant:"unstyled",borderRadius:0,"data-testid":"left-scroll-button",children:(0,o.jsx)(eX.Z,{boxSize:4})}),a&&(0,o.jsx)(C.z,{onClick:()=>d("right"),position:"absolute",right:"0",top:"0",bottom:"0",zIndex:10,width:10,height:"full",display:"flex",alignItems:"start",justifyContent:"center",bg:"linear-gradient(to left, #0D121C 0%, transparent 100%)","aria-label":"Scroll right",variant:"unstyled",borderRadius:0,"data-testid":"right-scroll-button",children:(0,o.jsx)(e$.Z,{boxSize:4})}),(0,o.jsx)(s.xu,{ref:i,overflowX:"auto",width:"100%",sx:{"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},onScroll:c,children:(0,o.jsx)(l.k,{width:"max-content",minWidth:"100%",...n,children:t})})]})})}var e1=e=>{let{activeTab:t,renderTab:n,tabs:i}=e,{updatedSelectImageInput:r}=(0,G.V)();return(0,o.jsx)(e0,{mx:r?0:-7,children:(0,o.jsx)(l.k,{borderBottomColor:r?"borderNew.primary":"border.grey",borderBottomStyle:"solid",borderBottomWidth:r?"px":t!==ei.c.YOUR_UPLOADS?"px":0,flex:1,gap:r?6:7,px:r?{base:2.5,md:6}:7,width:r?"max-content":void 0,children:i.map(e=>n(e))})})},e2=n(60643),e5=(e,t)=>{let[n,i]=(0,m.useState)([]);return(0,m.useEffect)(()=>{let n=Array.from({length:t}).map(()=>[]);i(e.reduce((e,n,i)=>(e[i%t].push(n),e),n))},[e,t]),n},e3=n(68207),e6=n(16053);let e4=(0,e3.chakra)(M.E.div,{shouldForwardProp:e=>(0,F.Z)(e)||(0,e6.shouldForwardProp)(e)});var e7=e=>{let{subtitle:t,...n}=e;return(0,o.jsxs)(e4,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",p:7,gap:"3",textAlign:"center",...n,children:[(0,o.jsx)(a.x,{fontSize:"2xl",color:"white",children:"Nothing to display"}),(0,o.jsx)(a.x,{fontSize:"1rem",color:"content.tertiary",maxWidth:{base:"13.75rem",md:"fit-content"},children:t})]})},e9=n(82305),e8=n(25230),te=n(61576),tt=n(16814),tn=n(96840),ti=n(99376),tr=n(41886),to=n(21481),tl=n(79770),ta=n(24914),ts=n(42398),td=n(36787),tc=n(63075),tu=n(84347),tm=n(68993),tg=n(18807),th=n(25741),tp=e=>{let{isDisabled:t,addNewImage:n,width:i}=e,r=(0,ti.useRouter)(),[s,d]=(0,m.useState)(!1),[c,u]=(0,m.useState)(0),g=(0,_.T)(),[h,p]=(0,m.useState)(!1),{isMotionInitUploadEnabled:x,updatedSelectImageInput:f}=(0,G.V)(),b=t&&!1===x,{handleGenError:v}=(0,tl.c)(),I=(0,tr.Z)(e=>{e.state===tr.P.REQUESTING_INIT_IMAGE?(g((0,S.Zv)()),h||p(!0)):e.state===tr.P.UPLOADING?u(e.uploadPercent):e.state===tr.P.ERROR?(g((0,S.aO)()),p(!1),u(0),d(!0)):e.state===tr.P.FINISHED&&(g((0,S.aO)()),(0,tg.j)(th.NX,{imageWidth:e.dimensions.width,imageHeight:e.dimensions.height}),p(!1),n({initImageType:E.esw.Uploaded,initImageId:e.initImageId,alt:e.name,dimensions:e.dimensions,base64ImageUri:e.dataUrl,url:e.url}))}),j=async e=>{try{if(0===e.length)throw Error("no files provided to upload handler");await I(e[0])}catch(e){if((0,tu.D)(e)&&(0,tu.c)({error:e,onError:v})||(0,tm.b)(e)&&(0,tm.N)({error:e,onError:v})){p(!1);return}d(!0)}},y=()=>{r.push(tc.l.BUY)};return(0,o.jsx)(td.Z,{disabled:t,onDrop:j,openDialogOnClick:!0,height:f?"8.438rem":void 0,width:i,children:e=>{let{isDragActive:t,isDragReject:n}=e;return(0,o.jsxs)(e9.J,{isOpen:n||s,children:[(0,o.jsx)(e8.x,{children:(0,o.jsxs)(C.z,{variant:"outline",display:"flex",rounded:"lg",borderStyle:"solid",width:"100%",height:"100%",borderWidth:"px",transition:"all 0.2s ease-in-out",borderColor:t?void 0:"old.greyblue",background:"background.darkblue",_hover:{background:"old.greyblue"},px:2,py:16,justifyContent:"center",alignItems:"center",gap:"2.5",flexDir:"column",flex:1,cursor:"pointer",isDisabled:h,onClick:b?y:void 0,mb:4,children:[h?(0,o.jsxs)(l.k,{width:"2.1875rem",height:"2.1875rem",justifyContent:"center",alignItems:"center",position:"relative",children:[100!==c&&(0,o.jsx)(a.x,{fontWeight:700,fontSize:"2xs",children:c.toString()+"%"}),(0,o.jsx)(to.Z,{position:"absolute",top:"0",width:"2.1875rem",height:"2.1875rem"})]}):(0,o.jsx)(ts.Z,{width:b?8:"2.875rem",height:b?8:"2.875rem"}),(0,o.jsx)(l.k,{justifyContent:"center",alignItems:"center",flexDir:"column",gap:1,children:b?(0,o.jsx)(a.x,{variant:"gradient",fontSize:"lg",children:"Upgrade your plan to bring these uploads to Motion"}):(0,o.jsxs)(l.k,{flexDir:"column",alignItems:"center",width:"100%",children:[f&&(0,o.jsx)(ts.Z,{width:b?6:"2.875rem",height:b?6:"2.875rem"}),(0,o.jsxs)(a.x,{fontSize:"sm",whiteSpace:"normal",wordBreak:"break-word",mt:2,children:[(0,o.jsx)(a.x,{as:"span",fontWeight:"bold",children:"Upload an image"})," ",!f&&"to get started"]}),(0,o.jsx)(a.x,{color:"#979797",fontSize:"xs",fontWeight:400,whiteSpace:"normal",wordBreak:"break-word",children:"PNG, JPG or WEBP up to 5MB"})]})})]})}),(0,o.jsxs)(te.y,{background:"alert",children:[(0,o.jsx)(tt.Q,{bg:"alert"}),(0,o.jsx)(tn.b,{alignItems:"center",children:(0,o.jsxs)(l.k,{alignItems:"center",gap:2,children:[(0,o.jsx)(ta.Z,{width:5,height:5,color:"white"}),(0,o.jsx)(a.x,{children:s?"Error uploading image":"Unsupported file type or size"})]})})]})]})}})},tx=n(37047);let tf={alt:"",aspectRatio:Math.max(.75,1.75*Math.random()),initImageId:"skeleton-image",initImageType:E.esw.Generated,url:""},tb={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.8,ease:"easeInOut"}},tv={[ei.c.YOUR_UPLOADS]:"Your uploaded images will appear here",[ei.c.COMMUNITY_FEED]:"Generated images from the Leonardo.Ai community will appear here",[ei.c.YOUR_GENERATIONS]:"Your generated images will appear here",[ei.c.TEAM_FEED]:"Team generated images will appear here.",[ei.c.FOLLOWER_FEED]:"Generated images from accounts you follow will appear here",[ei.c.COLLECTIONS]:"Your collections will appear here",[ei.c.TEAM_COLLECTIONS]:"Team collections will appear here",[ei.c.PERSONAL_TEAM_COLLECTIONS]:"Team collections created by you will appear here"};var tC=e=>{let{images:t,isLoading:n,currentTab:i,isUploadsTabHidden:r,isMultipleSelection:a,isImageDimensionsRequired:s=!0,fetchNextPage:d,selectedImages:c,onImagesSelected:h,onAddNewImage:p}=e,{watch:x}=(0,g.Gc)(),f=x("columnCount"),v=(0,m.createRef)(),C=eT(),I=r&&i===ei.c.YOUR_UPLOADS||n,j=Math.min(C,i===ei.c.YOUR_UPLOADS?4:f)||1,y=e5(t,j),w=n?"wait":I?"not-allowed":"pointer";(0,tx.S)({target:v,onIntersectEnter:()=>{n||d()}});let E=e=>{let t=c||[];h(a?t.some(t=>t.initImageId===e.initImageId)?t.filter(t=>t.initImageId!==e.initImageId):[...t,e]:t.some(t=>t.initImageId===e.initImageId)?[]:[e])};return n||0!==t.length?(0,o.jsx)(e2.r,{gridTemplateColumns:"repeat(".concat(j,", minmax(0, 1fr))"),gap:{base:3,md:4},children:(0,o.jsx)(u.M,{children:y.map((e,d)=>(0,o.jsxs)(l.k,{flexDir:"column",rowGap:{base:3,md:4},children:[!n&&i===ei.c.YOUR_UPLOADS&&0===d&&(0,o.jsx)(tp,{addNewImage:p,isDisabled:r}),e.map((t,n)=>(0,o.jsx)(J,{ref:n===e.length-1?v:void 0,image:t,isDisabled:I,isMultipleSelection:a,onImageSelected:E,selectedImages:c,cursor:w,isImageDimensionsRequired:s,...tb},t.initImageId)),t.length>0&&t.length%eQ.w==0&&(0,o.jsx)(J,{image:tf,cursor:"default",isMultipleSelection:a,isImageDimensionsRequired:!1,...tb},tf.initImageId)]},"column-".concat(d)))})},i):(0,o.jsxs)(b.M,{flexDir:"column",justifyContent:"center",alignItems:"center",h:"100%",children:[(0,o.jsx)(e7,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4,ease:"easeInOut"},subtitle:tv[i]},"select-image-modal-no-results-".concat(i)),i===ei.c.YOUR_UPLOADS&&(0,o.jsx)(tp,{addNewImage:p,isDisabled:r,width:64})]})},tI=n(23006),tj=n.n(tI),ty=n(47230),tw=n.n(ty),tE=n(91850);let t_=e=>tw()(((null==e?void 0:e.generated_images)||[]).filter(e=>!!e.generation).map(e=>{var t,n,i;let r;let o=null==e?void 0:e.generation,{width:l,height:a}=o?{width:e.image_width,height:e.image_height}:{width:0,height:0};o&&(r="".concat(l," / ").concat(a));let s=e.generated_image_variation_generics,d=(null==s?void 0:s[0])?(0,tE.YJ)(s):void 0;return{belongsToUserId:null===(t=e.user)||void 0===t?void 0:t.id,initImageId:e.id,initVariationId:null==d?void 0:d.id,initImageType:E.esw.Generated,url:e.url,urlVariation:null==d?void 0:d.url,alt:null!==(i=null==o?void 0:o.prompt)&&void 0!==i?i:"Generation by ".concat((null===(n=e.user)||void 0===n?void 0:n.username)||"Leonardo User"),aspectRatio:r,dimensions:{width:l,height:a}}}),"initImageId");var tk=n(69557);let tS=e=>{let{galleryMode:t,generationTypeFilter:n,searchQuery:i,showNsfw:r}=e,o=n===P.W.Upscaled?Z._L:{},l=n===P.W.Motion?Z.N5:Z.FN,a={};a=t===ei.s.TOP?Z.Qy:t===ei.s.TRENDING?Z.Bg:Z.ar;let s=i&&i.trim().length>0?{prompt:{_ilike:"%".concat(i,"%")}}:{},d={generation:{teamId:{_is_null:!0},status:{_eq:tk.j.COMPLETE},canvasRequest:{_eq:!1},...s,...Z.G6},public:{_eq:!0}};return tj()({},r?{}:Z.Zf,d,o,l,a)};var tL=e=>{let{pageSize:t,currentTab:n,control:i}=e;(0,g.qo)({name:ei.c.COMMUNITY_FEED,control:i});let{getValues:r}=(0,g.Gc)(),o=r("COMMUNITY_FEED.searchQuery"),l=r("COMMUNITY_FEED.showNsfw"),a=r("COMMUNITY_FEED.generationTypeFilter"),s=r("COMMUNITY_FEED.galleryMode"),d=n!==ei.c.COMMUNITY_FEED,{data:c,loading:u,fetchMore:h}=(0,T.a)(E.IKL,{variables:{offset:0,limit:t,where:tS({galleryMode:s,generationTypeFilter:a,searchQuery:o,showNsfw:l}),order_by:s===ei.s.NEW?[{createdAt:E.Lqo.Desc}]:[{trendingScore:E.Lqo.Desc},{createdAt:E.Lqo.Desc}]},skip:d,fetchPolicy:"network-only"}),p=(0,m.useCallback)(()=>{h({variables:{offset:null==c?void 0:c.generated_images.length},updateQuery:(e,t)=>{let{fetchMoreResult:n}=t;return n?Object.assign({},e,{generated_images:tw()([...e.generated_images||[],...n.generated_images||[]],"id")}):e}})},[null==c?void 0:c.generated_images.length,h]);return{images:(0,m.useMemo)(()=>d?[]:t_(c),[c,d]),loading:u,fetchNextPage:p,skipped:d}};let tO=e=>{let{galleryMode:t,generationTypeFilter:n,searchQuery:i,showNsfw:r,userId:o}=e,l=n===P.W.Upscaled?Z._L:{},a=n===P.W.Motion?Z.N5:Z.FN,s={};s=t===ei.s.TOP?Z.Qy:t===ei.s.TRENDING?Z.Bg:Z.ar;let d=i&&i.trim().length>0?{prompt:{_ilike:"%".concat(i,"%")}}:{},c={public:{_eq:!0},generation:{status:{_eq:tk.j.COMPLETE},canvasRequest:{_eq:!1},...d,...Z.G6},user:{followsByFollowingid:{followerId:{_eq:o}}}};return tj()({},r?{}:Z.Zf,c,l,a,s)};var tR=e=>{let{pageSize:t,currentTab:n,control:i}=e;(0,g.qo)({name:ei.c.FOLLOWER_FEED,control:i});let{getValues:r}=(0,g.Gc)(),o=(0,es.I)(),l=r("FOLLOWER_FEED.searchQuery"),a=r("FOLLOWER_FEED.showNsfw"),s=r("FOLLOWER_FEED.generationTypeFilter"),d=r("FOLLOWER_FEED.galleryMode"),c=n!==ei.c.FOLLOWER_FEED,{data:u,loading:h,fetchMore:p}=(0,T.a)(E.IKL,{variables:{offset:0,limit:t,where:tO({generationTypeFilter:s,searchQuery:l,showNsfw:a,galleryMode:d,userId:o}),order_by:d===ei.s.NEW?[{createdAt:E.Lqo.Desc}]:[{trendingScore:E.Lqo.Desc},{createdAt:E.Lqo.Desc}]},skip:c,fetchPolicy:"network-only"}),x=(0,m.useCallback)(()=>{p({variables:{offset:null==u?void 0:u.generated_images.length},updateQuery:(e,t)=>{let{fetchMoreResult:n}=t;return n?Object.assign({},e,{generated_images:tw()([...e.generated_images||[],...n.generated_images||[]],"id")}):e}})},[null==u?void 0:u.generated_images.length,p]);return{images:(0,m.useMemo)(()=>c?[]:t_(u),[u,c]),loading:h,fetchNextPage:x,skipped:c}},tT=n(12815),tN=n(39954),tD=n(79488);let tM=e=>{let{generationTypeFilter:t,searchQuery:n,userId:i,teamAkUuid:r}=e,o=t===P.W.Upscaled?Z._L:{},l=t===P.W.Motion?Z.N5:Z.FN,a=n&&n.trim().length>0?{prompt:{_ilike:"%".concat(n,"%")}}:{},s={public:{_eq:!0},generation:{status:{_eq:tk.j.COMPLETE},canvasRequest:{_eq:!1},...tT.RL,...a}},d={generation:{...(0,tD.GU)(r)}};return tj()({},s,o,l,d)};var tA=e=>{let{pageSize:t,currentTab:n,control:i,teamAkUuid:r}=e;(0,g.qo)({name:ei.c.YOUR_GENERATIONS,control:i});let{getValues:o}=(0,g.Gc)(),[l,a]=(0,m.useState)(!0),{userSelectedTeam:s}=(0,tN.P)(),d=n!==ei.c.TEAM_FEED,c=(0,es.I)(),u=o("YOUR_GENERATIONS.searchQuery"),h=o("YOUR_GENERATIONS.generationTypeFilter"),{data:p,loading:x,fetchMore:f,refetch:b}=(0,T.a)(E.IKL,{variables:{offset:0,limit:t,where:tM({generationTypeFilter:h,searchQuery:u,userId:c,teamAkUuid:r}),order_by:[{createdAt:E.Lqo.Desc}]},skip:d});(0,m.useEffect)(()=>{l&&(a(!1),b())},[l,b]);let v=(0,m.useCallback)(()=>{f({variables:{offset:null==p?void 0:p.generated_images.length},updateQuery:(e,t)=>{let{fetchMoreResult:n}=t;return n?Object.assign({},e,{generated_images:tw()([...e.generated_images||[],...n.generated_images||[]],"id")}):e}})},[null==p?void 0:p.generated_images.length,f]);return{images:(0,m.useMemo)(()=>d?[]:t_(p),[p,d]),loading:x,fetchNextPage:v,skipped:d}};let tU=e=>{let{generationTypeFilter:t,searchQuery:n,userId:i,teamAkUuid:r,fromDate:o}=e,l=t===P.W.Upscaled?Z._L:{},a=t===P.W.Motion?Z.N5:Z.FN,s=n&&n.trim().length>0?{prompt:{_ilike:"%".concat(n,"%")}}:{},d={userId:{_eq:i},generation:{status:{_eq:tk.j.COMPLETE},canvasRequest:{_eq:!1},...tT.RL,...s}},c={...(0,tD.GU)(r)},u={createdAt:{_lt:o.current}};return tj()({},d,l,a,c,u)};var tF=e=>{let{pageSize:t,currentTab:n,control:i,teamAkUuid:r}=e;(0,g.qo)({name:ei.c.YOUR_GENERATIONS,control:i});let{getValues:o}=(0,g.Gc)(),[l,a]=(0,m.useState)(!0),s=(0,es.I)(),d=n!==ei.c.YOUR_GENERATIONS,c=o("YOUR_GENERATIONS.searchQuery"),u=o("YOUR_GENERATIONS.generationTypeFilter"),h=(0,m.useRef)(new Date().toISOString()),{data:p,loading:x,fetchMore:f,refetch:b}=(0,T.a)(E.IKL,{variables:{offset:0,limit:t,where:tU({generationTypeFilter:u,searchQuery:c,userId:s,teamAkUuid:r,fromDate:h}),order_by:[{createdAt:E.Lqo.Desc}]},skip:d});(0,m.useEffect)(()=>{l&&(a(!1),b())},[l,b]);let v=(0,m.useCallback)(()=>{f({variables:{offset:null==p?void 0:p.generated_images.length},updateQuery:(e,t)=>{let{fetchMoreResult:n}=t;return n?Object.assign({},e,{generated_images:tw()([...e.generated_images||[],...n.generated_images||[]],"id")}):e}})},[null==p?void 0:p.generated_images.length,f]);return{images:(0,m.useMemo)(()=>d?[]:t_(p),[p,d]),loading:x,fetchNextPage:v,skipped:d}},tW=e=>{let{pageSize:t,currentTab:n}=e,i=(0,es.I)(),{userSelectedTeam:r}=(0,tN.P)(),o=r(),l=n!==ei.c.YOUR_UPLOADS,{data:a,loading:s,fetchMore:d}=(0,T.a)(E.WIj,{variables:{where:{userId:{_eq:i},...(0,tD.mQ)(o.id)},limit:t},skip:l,fetchPolicy:"network-only"}),c=(0,m.useCallback)(()=>{d({variables:{offset:null==a?void 0:a.init_images.length},updateQuery:(e,t)=>{let{fetchMoreResult:n}=t;return n?Object.assign({},e,{init_images:tw()([...e.init_images||[],...n.init_images||[]],"id")}):e}})},[null==a?void 0:a.init_images.length,d]);return{images:(0,m.useMemo)(()=>l?[]:tw()(((null==a?void 0:a.init_images)||[]).map(e=>({initImageId:e.id,initImageType:E.esw.Uploaded,url:e.url,alt:""})),"initImageId"),[a,l]),loading:s,fetchNextPage:c,skipped:l}},tG=e=>{let{pageSize:t,currentTab:n,control:i,teamAkUuid:r}=e;return[tW({pageSize:t,currentTab:n}),tF({pageSize:t,currentTab:n,control:i,teamAkUuid:r}),tA({pageSize:t,currentTab:n,control:i,teamAkUuid:r}),tL({pageSize:t,currentTab:n,control:i}),tR({pageSize:t,currentTab:n,control:i})].find(e=>!1===e.skipped)||{images:[],fetchNextPage:()=>{},loading:!1}},tP=n(12162),tZ=n(49270),tB=n(20517),tq=n(67447),tH=n(3676);let tz=Array.from({length:eQ.w},(e,t)=>({alt:"Loading image...",aspectRatio:Math.max(.75,1.75*Math.random()),initImageId:"skeleton-image-"+t,initImageType:E.esw.Generated,url:""}));(i=r||(r={})).CONFIRM="confirm",i.CANCEL="cancel",i.DROPZONE="dropzone";let tV=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return new Promise((n,i)=>{let r=new Image;t&&(r.crossOrigin="anonymous"),r.onload=()=>n({width:r.naturalWidth,height:r.naturalHeight}),r.onerror=()=>i(Error("Failed to load image at ".concat(e))),r.src=e})};function tY(e){return null!==e}let tQ=e=>{let{onSelect:t,onSelectMultiple:n,onClose:i,title:r,isCommunityFeedTabHidden:h,isUploadsTabHidden:p,isMultipleSelection:x,includeMotion:b,excludeImageIds:v,isImageDimensionsRequired:C,teamId:I,teamAkUuid:y}=e,{updatedSelectImageInput:w}=(0,G.V)(),{control:_,setValue:k,watch:S}=(0,g.Gc)(),[L,O]=(0,m.useState)(p?ei.c.YOUR_GENERATIONS:ei.c.YOUR_UPLOADS),[T,N]=(0,m.useState)([]),[D,M]=(0,m.useState)(!1),[A,U]=(0,m.useState)(!1),{images:F,fetchNextPage:W,loading:P}=tG({pageSize:eQ.w,currentTab:L,control:_,teamAkUuid:y}),Z=F.filter(e=>!(null!=v?v:[]).includes(e.initImageId)),B=(0,m.useCallback)(e=>{let{currentTarget:t}=e;t&&Math.ceil(t.clientHeight+t.scrollTop)>=t.scrollHeight&&W()},[W]),q=S("selectedImage"),H=q&&q.initImageType===E.esw.Uploaded,z=x?0===(T||[]).length:null===q,V=!z&&C&&A,Y=e=>N(e),Q=e=>{O(e),(0,tg.j)(tH.QZD,{tab:e})},J=async()=>{if(q||x&&0!==T.length){if(C){let e=x?T:[q];U(!0);try{let i=e.filter(tY).map(async e=>{let t=await tV(e.url);return{...e,dimensions:t}}),r=await Promise.all(i);x?null==n||n(r):null==t||t(r[0])}catch(e){console.error("Error obtaining image dimensions:",e)}finally{U(!1)}}else{if(!q)return;x?null==n||n(T||[]):null==t||t(q)}i("confirm")}},K=[{type:ei.c.YOUR_UPLOADS,label:"Your Uploads",isVisible:!p},{type:ei.c.YOUR_GENERATIONS,label:y?"My Generations":"Your Generations",isVisible:!0},{type:ei.c.TEAM_FEED,label:"Team Feed",isVisible:!!y},{type:ei.c.COLLECTIONS,label:"Collections",isVisible:!y},{type:ei.c.PERSONAL_TEAM_COLLECTIONS,label:"Your Collections",isVisible:!!y},{type:ei.c.TEAM_COLLECTIONS,label:"Team Collections",isVisible:!!y},{type:ei.c.COMMUNITY_FEED,label:"Community Feed",isVisible:!h},{type:ei.c.FOLLOWER_FEED,label:"Follower Feed",isVisible:!0}],X=L===ei.c.COLLECTIONS||L===ei.c.TEAM_COLLECTIONS||L===ei.c.PERSONAL_TEAM_COLLECTIONS;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(tZ.x,{pt:w?{base:2.5,md:4}:void 0,px:w?0:void 0,pb:w?0:void 0,background:w?"gradient.background":void 0,...L===ei.c.YOUR_UPLOADS&&{pb:0},children:[(0,o.jsx)(l.k,{alignItems:"center",justifyContent:"space-between",flexDirection:"row",flex:1,mb:w?3:4,px:w?{base:2.5,md:6}:0,children:(0,o.jsx)(l.k,{alignItems:"center",children:(0,o.jsx)(a.x,{as:"h3",fontSize:w?{base:"sm",md:"2xl"}:"2xl",fontWeight:w?600:700,color:"white",children:r})})}),(0,o.jsx)(e1,{activeTab:L,tabs:K,renderTab:e=>{let{type:t,label:n,isVisible:i,...r}=e;return i&&(0,o.jsx)(eK,{isSelected:L===t,onClick:()=>Q(t),...r,children:n},t)}}),(L===ei.c.YOUR_GENERATIONS||L===ei.c.TEAM_FEED)&&(0,o.jsx)(eJ,{includeMotion:b}),(L===ei.c.FOLLOWER_FEED||L===ei.c.COMMUNITY_FEED)&&(0,o.jsx)(eY,{feedName:L}),X&&(0,o.jsx)(s.xu,{id:"collection-browser-breadcrumbs",pt:w?0:1,pb:w?0:4,sx:{".chakra-portal":{width:"100%",position:"absolute",pb:w?4:0}},px:w?6:0})]}),(0,o.jsx)(f.f,{sx:{scrollbarGutter:"stable"},onScroll:B,display:"flex",bg:w?j.HW.BG_DARK:void 0,pt:L===ei.c.YOUR_GENERATIONS||L===ei.c.COMMUNITY_FEED?w?"0.5rem !important":void 0:L===ei.c.COLLECTIONS?w?5:void 0:"1rem !important",px:w?{base:3,md:4}:void 0,children:(0,o.jsx)(l.k,{minHeight:"md",flexDirection:"column",flex:1,children:(0,o.jsx)(u.M,{children:X?(0,o.jsx)(eu,{currentView:L,teamId:I,onImageSelected:e=>Y([e])}):(0,o.jsx)(tC,{images:P||A?tz:Z,isLoading:P||A,currentTab:L,control:_,isUploadsTabHidden:p,fetchNextPage:W,isMultipleSelection:x,selectedImages:T,onImagesSelected:e=>Y(e),isImageDimensionsRequired:C,onAddNewImage:e=>{null==t||t(e),i("dropzone")}})})})}),(0,o.jsx)(tB.m,{background:w?"gradient.background":void 0,borderTopStyle:w?"solid":void 0,borderTopWidth:w?"px":void 0,borderTopColor:w?"borderNew.primary":void 0,py:{base:w?2.5:void 0,md:w?4:void 0},px:{base:w?3:void 0,md:w?4:void 0},children:(0,o.jsxs)(d.g,{width:{base:w?"100%":void 0,md:void 0},gap:4,children:[x&&(0,o.jsxs)(c.U,{gap:1,children:[(0,o.jsx)(a.x,{fontSize:"sm",color:"loud",fontWeight:600,children:T.length||0}),(0,o.jsxs)(a.x,{fontSize:"sm",color:"loud",children:[1===T.length?"is":"are"," selected"]})]}),(0,o.jsxs)(c.U,{justifyContent:{md:"center"},width:{base:w?"100%":void 0,md:void 0},gap:{base:w?2:void 0,md:w?6:void 0},children:[(0,o.jsx)(tq.s,{dataTrackingId:tH.KT,w:{base:w?"100%":"auto",md:80},h:{base:w?8:12,md:12},variant:w?"ghost":"outline",fontWeight:700,onClick:()=>i("cancel"),px:w?9:void 0,children:"Cancel"}),(0,o.jsx)(tq.s,{dataTrackingId:tH.d03,w:{base:w?"100%":"auto",md:80},h:{base:w?8:12,md:12},variant:"gradient",fontWeight:700,isDisabled:z,isLoading:V,loadingText:"Loading...",onClick:J,px:w?9:void 0,children:"Confirm"}),L===ei.c.YOUR_UPLOADS&&(0,o.jsx)(l.k,{position:{base:w?"inherit":"absolute",lg:"absolute"},right:2,children:(0,o.jsx)(tq.s,{dataTrackingId:tH.O0m,w:{base:8,md:w?12:"auto"},h:{base:w?8:12,md:12},px:0,variant:w?"ghost":"outline",fontWeight:700,onClick:()=>M(!0),isDisabled:null===q,justifySelf:"flex-end",children:(0,o.jsx)(tP.Z,{})})})]})]})}),D&&H&&(0,o.jsx)(R,{isOpen:D,onClose:e=>{e&&k("selectedImage",null),M(!1)},initImageId:q.initImageId})]})}},92949:function(e,t,n){n.d(t,{j:function(){return i},w:function(){return r}});let i=4,r=50},21481:function(e,t,n){var i=n(45008),r=n(57437),o=n(3146),l=n(42033);function a(){let e=(0,i._)(["\nfrom { transform: rotate(-360deg); }\nto { transform: rotate(360deg); }\n"]);return a=function(){return e},e}let s=(0,o.keyframes)(a());t.Z=e=>(0,r.jsx)(l.Z,{width:5,height:5,animation:"".concat(s," 1.2s infinite linear"),...e})},61400:function(e,t,n){var i,r;n.d(t,{F:function(){return i}}),(r=i||(i={})).IMAGE="image",r.GIF="GIF",r.MP4="MP4"},34381:function(e,t,n){n.d(t,{o:function(){return a}});var i=n(2265),r=n(82030),o=n(74449),l=n(57255);let a=()=>{let e=(0,o.T)(),{hasPermission:t}=(0,r.T)(),n=t("generationAlchemy","create");return(0,i.useCallback)(t=>e((0,l.I2)({newSettings:t,permissions:{generationAlchemy:{create:n}}})),[e,n])}},27346:function(e,t,n){n.d(t,{V:function(){return x}});var i=n(57437),r=n(75500),o=n(87461),l=n(69050),a=n(13856),s=n(96354),d=n(4360),c=n(27648),u=n(99376),m=n(26615),g=n(54944),h=n(18372);let p=e=>{let{isNonNavigating:t,href:n,onClick:r,children:l}=e;return(0,i.jsx)(o.A,{as:t?"span":c.default,onClick:t?r:void 0,href:t?void 0:n,fontSize:"sm",color:"secondary.inactive",cursor:t?"pointer":"auto",children:l})},x=e=>{var t;let{collectionId:n,isNonNavigating:o=!1,navigationTitle:c="Collections",onBreadcrumbClick:x}=e,f=(0,u.usePathname)(),{pathPrefix:b,title:v}=(0,h.x)(f),{data:C}=(0,r.a)(g.GAP,{variables:{where:{akUUID:{_eq:n}}},skip:!n,fetchPolicy:"cache-first"}),I=e=>{o&&(null==x||x(e))},j=null==C?void 0:C.collection[0],y=null==j?void 0:j.parent_collection,w=null==j?void 0:null===(t=j.parent_collection)||void 0===t?void 0:t.parent_collection;return(0,i.jsxs)(l.a,{display:"flex",spacing:{base:.5,md:1.5},separator:(0,i.jsx)(a.J,{children:(0,i.jsx)(m.lU2,{color:"secondary.inactive",size:24})}),children:[(0,i.jsx)(s.g,{children:(0,i.jsx)(p,{isNonNavigating:o,href:b,onClick:()=>I(void 0),children:o?c:v})}),w&&(0,i.jsx)(s.g,{children:(0,i.jsx)(p,{isNonNavigating:o,href:"".concat(b,"/").concat(w.akUUID),onClick:()=>I(w),children:w.collectionName})},w.akUUID),y&&(0,i.jsx)(s.g,{children:(0,i.jsx)(p,{isNonNavigating:o,href:"".concat(b,"/").concat(y.akUUID),onClick:()=>I(y),children:y.collectionName})},y.akUUID),(0,i.jsx)(s.g,{isCurrentPage:!0,children:(0,i.jsx)(d.x,{color:"#ddd",fontSize:"sm",children:null==j?void 0:j.collectionName})})]})}},76661:function(e,t,n){n.d(t,{z:function(){return I}});var i=n(57437),r=n(67084),o=n(37354),l=n(13449),a=n(70996),s=n(25730),d=n(9847),c=n(27648),u=n(2265),m=n(60643),g=n(17919),h=n(50571);let p=e=>{let{images:t,name:n,count:o=4}=e,l=t.slice(0,o),a=(0,u.useCallback)(e=>{switch(l.length){case 1:return{rowSpan:2,colSpan:2};case 2:return{rowSpan:2,colSpan:1};case 3:if(0===e)return{rowSpan:2,colSpan:1};break;case 4:if(0===e)return{rowSpan:3,colSpan:1};return{rowSpan:1,colSpan:1};default:return{rowSpan:1,colSpan:1}}},[l]);return(0,i.jsx)(m.r,{gap:1,gridTemplateColumns:"repeat(2, minmax(1.5rem, 1fr))",gridTemplateRows:4===l.length?"repeat(3, minmax(1.5rem, 1fr))":"repeat(2, minmax(1.5rem, 1fr))",h:"100%",w:"full",overflow:"hidden",position:"absolute",top:0,roundedTopLeft:"lg",roundedTopRight:"lg",children:l.map((e,t)=>{let o="thumb-".concat(t);return(0,i.jsx)(r.P,{...a(t),children:(0,i.jsx)(g.E,{src:"".concat(e+h.G3),style:{height:"100%",width:"100%",objectFit:"cover"},width:300,height:300,alt:n+o})},o)})})};var x=n(99603),f=n(12757),b=n(19100),v=n(67354),C=n(51023);let I=e=>{let{id:t,url:n,onClick:m,onMouseDown:g,onMouseOver:h,onMouseUp:I,isSelectingImages:j,isNavigating:y,isSelected:w,children:E,name:_,thumbnailUrls:k,teamId:S,parentCollectionId:L}=e,{updatedSelectImageInput:O}=(0,C.V)(),[R,T]=(0,u.useState)(!1),N={id:String(t),teamId:String(S),collectionName:_,parentCollectionId:L?String(L):void 0};return(0,i.jsx)(r.P,{zIndex:1,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:(0,i.jsx)(o.Z,{position:"relative",borderColor:w?"transparent":"border.greyBlue",borderWidth:w?0:"px",_hover:{transition:"0.1s linear background",_before:{bg:"rgba(255,255,255, 0.06)"}},_before:{content:'""',position:"absolute",zIndex:1,bg:"rgba(255,255,255, 0)",transition:"0.1s linear background",top:0,left:0,right:0,bottom:0,pointerEvents:"none",borderRadius:"0.62rem"},borderRadius:"lg",width:"100%",height:O?"17rem":72,cursor:"pointer",flexDirection:"column",justifyContent:"flex-end",bg:"gradient.background",onClick:j||y?()=>null==m?void 0:m(N):void 0,boxShadow:"0 0.25rem 0.25rem 0 rgba(0, 0, 0, 0.25)",onMouseDown:g?e=>g(N,e):void 0,onMouseOver:h?e=>h(N,e):void 0,onMouseUp:I?e=>I(N,e):void 0,children:(0,i.jsxs)(l.k,{position:"absolute",display:"flex",w:"100%",h:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column",top:0,transition:".1s",borderColor:"transparent",borderStyle:"solid",borderWidth:w?"md":"px",background:w?"linear-gradient(rgba(0, 0, 0, 0.01), rgba(0, 0, 0, 0.01)) padding-box, linear-gradient(81.02deg, #FA5560 -23.47%, #B14BF4 45.52%, #4D91FF 114.8%) border-box":"transparent",rounded:"0.625rem",children:[(null==k?void 0:k.length)?(0,i.jsx)(a.xu,{position:"relative",roundedTop:10,overflow:"hidden",borderColor:"transparent",transition:".1s",w:"100%",h:"100%",background:"gradient.background",children:j?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h,{icon:(0,i.jsx)(x.Z,{icon:w?(0,i.jsx)(f.Z,{width:7,height:7}):(0,i.jsx)(b.Z,{width:7,height:7})}),"aria-label":"Select Collection",position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:3,minW:10,rounded:"full",w:10,transition:"0s",bg:w?"gradient.main":"rgba(255, 255, 255, 0.14)",backdropFilter:w?"none":"blur(2)",pointerEvents:"none"}),(0,i.jsx)(p,{images:k,name:_})]}):(0,i.jsx)(i.Fragment,{children:n?(0,i.jsx)(d.A,{as:c.default,href:n,children:(0,i.jsx)(p,{images:k,name:_})}):(0,i.jsx)(p,{images:k,name:_})})}):(0,i.jsx)(a.xu,{content:"",display:"block",position:"relative",height:"100%",width:"100%",background:"gradient.background",roundedTop:10,children:j?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h,{icon:(0,i.jsx)(x.Z,{icon:w?(0,i.jsx)(f.Z,{width:7,height:7}):(0,i.jsx)(b.Z,{width:7,height:7})}),"aria-label":"Select Collection",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:3,minW:10,rounded:"full",w:10,transition:"0s",bg:w?"gradient.main":"rgba(255, 255, 255, 0.14)",backdropFilter:w?"none":"blur(2)",pointerEvents:"none"}),(0,i.jsx)(l.k,{justifyContent:"center",alignItems:"center",flex:1,flexDirection:"column",minH:"100%",children:(0,i.jsx)(v.Z,{opacity:R?1:.6,width:"12.5rem",height:"12.5rem",sx:{"& path":{transition:"0.1s linear",fill:R?"secondary.inactive":"#181D2F"}}})})]}):(0,i.jsxs)(l.k,{justifyContent:"center",alignItems:"center",flex:1,flexDirection:"column",minH:"100%",children:[n&&(0,i.jsx)(d.A,{as:c.default,href:n}),(0,i.jsx)(v.Z,{opacity:R?1:.6,width:{base:O?28:"12.5rem",md:"12.5rem"},height:{base:O?28:"12.5rem",md:"12.5rem"},sx:{"& path":{transition:"0.1s linear",fill:R?"secondary.inactive":"#181D2F"}}})]})}),E]})})})}},39589:function(e,t,n){n.d(t,{u:function(){return w}});var i=n(57437),r=n(70996),o=n(12125),l=n(10883),a=n(58055),s=n(20765),d=n(86333),c=n(77951),u=n(4360),m=n(35088),g=n(72760),h=n(85330),p=n(46402),x=n(74015),f=n(13449),b=n(2265),v=n(36704),C=n(42803),I=e=>(0,i.jsx)("svg",{width:"5",height:"5",viewBox:"0 0 24 24",fill:"currentColor",...e,children:(0,i.jsx)("path",{d:"M12.0197 6C10.9157 6 10.0146 5.104 10.0146 4C10.0146 2.896 10.9046 2 12.0096 2H12.0197C13.1237 2 14.0197 2.896 14.0197 4C14.0197 5.104 13.1247 6 12.0197 6ZM14.0197 12C14.0197 10.896 13.1237 10 12.0197 10H12.0096C10.9056 10 10.0146 10.896 10.0146 12C10.0146 13.104 10.9147 14 12.0197 14C13.1247 14 14.0197 13.104 14.0197 12ZM14.0197 20C14.0197 18.896 13.1237 18 12.0197 18H12.0096C10.9056 18 10.0146 18.896 10.0146 20C10.0146 21.104 10.9147 22 12.0197 22C13.1247 22 14.0197 21.104 14.0197 20Z"})}),j=n(34590),y=n(12162);let w=e=>{let{id:t,name:n,owner:w,onUpdateCollection:E,onDelete:_,isUpdating:k=!1,isTeamsCollection:S=!1,isMenuEnabled:L=!0}=e,[O,R]=(0,b.useState)(n),[T,N]=(0,b.useState)(n),[D,M]=(0,b.useState)(!1),A=(0,b.useRef)(null);function U(e){T!==e&&(E(t,e),N(e)),M(!1)}async function F(e){let{key:t,currentTarget:n}=e;"Enter"===t&&""!==n.value&&U(n.value)}return(0,b.useEffect)(()=>{n&&R(n||"")},[n]),(0,b.useEffect)(()=>{if(D){var e;null===(e=A.current)||void 0===e||e.select()}},[D]),(0,i.jsxs)(i.Fragment,{children:[D&&(0,i.jsx)(r.xu,{p:3,pl:{base:28,md:5},height:"2.875rem",children:(0,i.jsx)(o.B,{children:(0,i.jsx)(l.I,{ref:A,autoFocus:!0,type:"text",mt:"-3px",value:O,maxLength:24,onKeyDown:F,onBlur:e=>{let{currentTarget:{value:t}}=e;return U(t)},onChange:e=>{let{target:{value:t}}=e;return R(t)}})})}),!D&&(0,i.jsxs)(a.U,{borderTopWidth:"px",borderStyle:"solid",borderColor:"border.greyBlue",borderBottomLeftRadius:"lg",borderBottomRightRadius:"lg",bg:"background.darkblue",w:"100%",gap:1,p:3,pl:5,children:[(0,i.jsx)(s.u,{hasArrow:!0,placement:"left",offset:[0,30],label:S&&w,shouldWrapChildren:!0,children:S&&(0,i.jsx)(v.X,{accountName:w,accountId:t.toString(),isPersonalAccount:!1,size:"sm",width:5,height:5,avatarFontSize:"0.8rem",avatarFontWeight:"normal",showAccountName:!1})}),(0,i.jsxs)(d.v,{placement:"bottom-end",children:[(0,i.jsx)(c.j,{w:"full",children:(0,i.jsxs)(a.U,{children:[!S&&(0,i.jsx)(C.Z,{}),(0,i.jsx)(u.x,{align:"left",noOfLines:1,maxWidth:{base:44,sm:"100%"},ml:1,fontSize:"sm",children:O}),(0,i.jsx)(m.L,{}),k?(0,i.jsx)(g.$,{size:"xs"}):(0,i.jsx)(i.Fragment,{children:L&&(0,i.jsx)(I,{width:16,height:16})})]})}),L&&(0,i.jsx)(h.h,{children:(0,i.jsxs)(p.q,{bg:"darkbluealt",borderBottomWidth:"px",borderStyle:"solid",borderColor:"border.greyBlue",borderRadius:"md",p:0,children:[(0,i.jsxs)(x.s,{borderBottomWidth:"px",borderStyle:"solid",borderColor:"border.greyBlue",background:"transparent",onClick:()=>M(!0),display:"flex",alignItems:"center",_hover:{bg:"midnightBlue"},children:[(0,i.jsx)(f.k,{width:5,justifyContent:"center",children:(0,i.jsx)(j.Z,{boxSize:4})}),(0,i.jsx)(u.x,{fontSize:"sm",fontWeight:500,ml:2,children:"Rename"})]}),(0,i.jsxs)(x.s,{background:"transparent",onClick:_,display:"flex",alignItems:"center",_hover:{bg:"midnightBlue"},children:[(0,i.jsx)(f.k,{width:5,justifyContent:"center",children:(0,i.jsx)(y.Z,{boxSize:4})}),(0,i.jsx)(u.x,{fontSize:"sm",fontWeight:500,ml:2,children:"Remove"})]})]})})]})]})]})}},36704:function(e,t,n){n.d(t,{X:function(){return f}});var i=n(57437),r=n(4360),o=n(58055),l=n(35784),a=n(13449),s=n(26262),d=n(2265),c=n(46598),u=n(49175),m=n(51023),g=n(92843),h=n(43434);let p=e=>{let t=(e?parseInt(e):9).toString().slice(0,2);return["#52BB5C","#9593FF","#DC72A0","#81AEFF","#25B56E","#3DD185","#56C5F8","#EB817A","#E8D52E","#81E6AD","#40D7C8","#EB7133","#71D778","#EBA03F","#4AE0C9","#4DBEE6","#6599FF","#E8A722"][parseInt(t.charAt(0))+parseInt(t.charAt(1))]},x=e=>{let{children:t,...n}=e;return(0,i.jsx)(r.x,{fontSize:"xs",textAlign:"center",lineHeight:"0.6rem",paddingY:"0.3rem",textTransform:"capitalize",...n,children:t})},f=e=>{let{accountName:t,accountId:n,isPersonalAccount:f,showTypeOfPlan:b=!1,width:v,height:C,fontSize:I="sm",avatarFontSize:j="1.25rem",avatarFontWeight:y="medium",avatarInitialsColor:w,avatarBackground:E,showAccountName:_=!0,backgroundImageSource:k,isEditEnabled:S=!1,teamAkUUID:L,onAvatarImageSelect:O,...R}=e,{isTeamNameAndAvatarCustomizable:T}=(0,m.V)(),[N,D]=(0,d.useState)(!1),[M,A]=(0,d.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.U,{gap:_?3:0,children:[(0,i.jsx)(l.q,{...f?{background:h.HW.PINK_PURPLE_BRIGHT}:k&&T?{src:k}:n?{background:p(n)}:{background:E},name:(0,g.I8)(t||""),onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1),variant:"gradientBackground",borderRadius:"100%",borderWidth:0,onBlur:()=>D(!1),...S&&T&&{tabIndex:0,onFocus:()=>D(!0),...N&&{borderRadius:"0.5rem",borderWidth:"px",backgroundColor:"surface.hover",onKeyUp:e=>{("Enter"===e.key||"Space"===e.code)&&A(!0)}}},_focusVisible:{outline:"none",boxShadow:h.Br},borderColor:"borderNew.primary",transition:"border-radius 0.2s ease, background-color 0.2s ease",overflow:"hidden",w:v||8,h:C||8,color:w||f?"white":"black",css:{"> div, > span":{fontSize:j,fontWeight:y}},...R,children:S&&T&&(0,i.jsxs)(a.k,{position:"absolute",cursor:"pointer",width:"full",height:"full",justifyContent:"center",justifyItems:"center",alignItems:"center",onClick:()=>A(!0),children:[(0,i.jsxs)(a.k,{direction:"column",alignItems:"center",justifyContent:"center",backgroundColor:"surface.hover",opacity:N?1:0,transition:"opacity 0.2s ease",width:"full",height:"full",children:[(0,i.jsx)(u.Z,{color:"white"}),(0,i.jsx)(x,{fontWeight:500,color:"white",height:"auto",alignContent:"center",paddingBottom:0,children:"Change"})]}),(0,i.jsx)(x,{position:"absolute",bottom:0,background:"rgba(16, 21, 31, 0.90)",width:"full",fontWeight:400,color:"content.secondary",opacity:1,...N&&{opacity:0,background:"inherit"},transition:"opacity 0.15s ease",children:"Edit"})]})}),(0,i.jsxs)(s.g,{alignItems:"flex-start",gap:0,children:[_&&(0,i.jsx)(r.x,{fontSize:I,color:"white",isTruncated:!0,maxWidth:{base:64,md:32},children:t}),b&&(0,i.jsx)(r.x,{fontWeight:"400",fontSize:"xs",color:"secondary.inactive",isTruncated:!0,children:f?"Personal":"Team"})]})]}),S&&T&&(0,i.jsx)(c.Z,{title:"Add an Image",isOpen:M,onSelect:e=>null==O?void 0:O(null==e?void 0:e.url),onClose:()=>A(!1),teamId:f?void 0:n,teamAkUuid:f?void 0:L})]})}},99603:function(e,t,n){var i=n(57437);t.Z=e=>{let{icon:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("svg",{width:0,height:0,children:(0,i.jsxs)("linearGradient",{id:"gradient",x1:"-6.02",y1:"-2.73129e-06",x2:"15.8539",y2:"-3.45669",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:"0.0001",stopColor:"#FA5560"}),(0,i.jsx)("stop",{offset:"0.499028",stopColor:"#B14BF4"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#4D91FF"})]})}),t]})}},42803:function(e,t,n){var i=n(57437),r=n(13856);t.Z=e=>(0,i.jsx)(r.J,{viewBox:"0 0 15.44 13.85",...e,children:(0,i.jsx)("path",{d:"M12.75 13.9269H3.25C1.33575 13.9269 0.28125 12.8724 0.28125 10.9582V3.0415C0.28125 1.12725 1.33575 0.0727539 3.25 0.0727539H6.41667C6.57421 0.0727539 6.72544 0.135297 6.83627 0.246922L9.03713 2.44775H12.75C14.6643 2.44775 15.7188 3.50225 15.7188 5.4165V10.9582C15.7188 12.8724 14.6643 13.9269 12.75 13.9269ZM3.25 1.26025C2.00154 1.26025 1.46875 1.79305 1.46875 3.0415V10.9582C1.46875 12.2066 2.00154 12.7394 3.25 12.7394H12.75C13.9985 12.7394 14.5312 12.2066 14.5312 10.9582V5.4165C14.5312 4.16805 13.9985 3.63525 12.75 3.63525H8.79167C8.63412 3.63525 8.48289 3.57271 8.37206 3.46109L6.1712 1.26025H3.25Z",fill:"currentColor"})})},67354:function(e,t,n){var i=n(57437),r=n(13856);t.Z=e=>(0,i.jsx)(r.J,{viewBox:"0 0 200 200",...e,children:(0,i.jsx)("path",{d:"m 168.237,95.823 c -2.67,-4.5604 -7.434,-7.2836 -12.729,-7.2902 h -4.915 v -1.9159 c 0,-15.8662 -8.74,-24.6063 -24.606,-24.6063 H 88.6577 l -11.68,-11.6798 c -0.9252,-0.9252 -2.1721,-1.4436 -3.4779,-1.4436 h -19.685 c -15.8661,0 -24.6063,8.7402 -24.6063,24.6063 v 68.8715 c 0,0.026 0.0128,0.046 0.0128,0.072 0,2.559 0.6634,5.118 2.0217,7.435 2.6772,4.56 7.4404,7.283 12.7357,7.283 h 83.8653 c 8.923,0 17.159,-4.83 21.503,-12.599 l 19.047,-34.127 c 2.566,-4.6 2.514,-10.059 -0.157,-14.606 z M 53.8084,58.7297 h 17.6441 l 11.68,11.6798 c 0.9252,0.9252 2.1721,1.4436 3.4779,1.4436 H 125.98 c 10.348,0 14.764,4.416 14.764,14.7638 v 1.9159 L 71.656,88.4936 c -0.0066,0 -0.0127,0 -0.0193,0 -8.9304,0 -17.1724,4.8294 -21.5096,12.6114 L 39.0446,120.987 V 73.4935 c 0,-10.3478 4.416,-14.7638 14.7638,-14.7638 z M 159.8,105.633 140.751,139.76 c -2.599,4.659 -7.547,7.559 -12.907,7.559 H 43.9787 c -2.5525,0 -3.8187,-1.693 -4.2452,-2.421 -0.42,-0.722 -1.2734,-2.632 -0.0529,-4.823 l 19.049,-34.167 c 2.5985,-4.665 7.5461,-7.5589 12.9135,-7.5589 0.0066,0 0.0063,0 0.0129,0 l 83.852,0.0461 c 2.553,0 3.819,1.6998 4.239,2.4278 0.426,0.702 1.28,2.618 0.053,4.81 z",fill:"currentColor"})})},34590:function(e,t,n){var i=n(57437),r=n(13856);let o=e=>(0,i.jsx)(r.J,{width:5,height:5,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,i.jsx)("path",{d:"M17.75 13V16C17.75 18.418 16.418 19.75 14 19.75H4C1.582 19.75 0.25 18.418 0.25 16V6C0.25 3.582 1.582 2.25 4 2.25H7C7.414 2.25 7.75 2.586 7.75 3C7.75 3.414 7.414 3.75 7 3.75H4C2.423 3.75 1.75 4.423 1.75 6V16C1.75 17.577 2.423 18.25 4 18.25H14C15.577 18.25 16.25 17.577 16.25 16V13C16.25 12.586 16.586 12.25 17 12.25C17.414 12.25 17.75 12.586 17.75 13ZM19.75 4.056C19.749 4.643 19.52 5.194 19.104 5.608L10.141 14.531C9.99999 14.671 9.81 14.75 9.612 14.75H6C5.586 14.75 5.25 14.414 5.25 14V10.389C5.25 10.191 5.32799 9.99999 5.46899 9.85999L14.392 0.895996C14.805 0.479996 15.357 0.251 15.944 0.25C15.945 0.25 15.946 0.25 15.947 0.25C16.533 0.25 17.084 0.478005 17.499 0.893005L19.108 2.50201C19.522 2.91701 19.751 3.469 19.75 4.056ZM15.617 6.96301L13.037 4.383L6.75 10.699V13.251H9.302L15.617 6.96301ZM18.25 4.05399C18.25 3.86799 18.178 3.69301 18.047 3.56201L16.438 1.953C16.307 1.822 16.132 1.75 15.947 1.75H15.946C15.76 1.75 15.586 1.82301 15.455 1.95401L14.096 3.319L16.681 5.90399L18.046 4.54501C18.177 4.41501 18.249 4.23999 18.25 4.05399Z",fill:"currentColor"})});o.displayName="EditIcon",t.Z=o},49175:function(e,t,n){var i=n(57437),r=n(13856);let o=e=>(0,i.jsxs)(r.J,{width:6,height:6,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",...e,children:[(0,i.jsx)("path",{d:"M20.8125 10.2865C20.4071 10.2865 20.0781 10.6155 20.0781 11.0209V13.1643L16.1517 9.23876C15.5054 8.59154 14.3696 8.59154 13.7233 9.23876L9.0625 13.8987L8.31832 13.1554C7.67207 12.5082 6.53626 12.5082 5.89001 13.1554L3.92188 15.1236V7.10425C3.92188 5.5601 4.58085 4.90112 6.125 4.90112H12.9792C13.3845 4.90112 13.7135 4.57212 13.7135 4.16675C13.7135 3.76137 13.3845 3.43237 12.9792 3.43237H6.125C3.75738 3.43237 2.45312 4.73662 2.45312 7.10425V16.8959C2.45312 19.2635 3.75738 20.5678 6.125 20.5678H17.875C20.2426 20.5678 21.5469 19.2635 21.5469 16.8959V11.0209C21.5469 10.6155 21.2179 10.2865 20.8125 10.2865ZM17.875 19.099H6.125C4.68367 19.099 4.02172 18.5154 3.93849 17.1828L6.92786 14.1934C7.05222 14.07 7.15504 14.07 7.27939 14.1934L8.19892 15.1128C8.65619 15.5711 9.4679 15.5701 9.92322 15.1128L14.7602 10.2758C14.8846 10.1524 14.9874 10.1524 15.1118 10.2758L20.0762 15.2402V16.8959C20.0782 18.4401 19.4191 19.099 17.875 19.099ZM8.08333 7.83862C8.75896 7.83862 9.30729 8.38696 9.30729 9.06258C9.30729 9.73821 8.75896 10.2865 8.08333 10.2865C7.40771 10.2865 6.85938 9.73821 6.85938 9.06258C6.85938 8.38696 7.40771 7.83862 8.08333 7.83862Z",fill:"currentcolor"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8749 1.96362C16.12 1.96362 14.6926 3.39098 14.6926 5.14591C14.6926 6.90085 16.12 8.32821 17.8749 8.32821C19.0906 8.32821 20.1837 7.65033 20.7247 6.56049C20.8572 6.29403 20.748 5.97127 20.4822 5.83896C20.2153 5.70549 19.8918 5.81618 19.7601 6.08163C19.4016 6.80391 18.6801 7.25141 17.8749 7.25141C16.7144 7.25141 15.7697 6.30674 15.7697 5.1462C15.7697 3.98567 16.7144 3.04099 17.8749 3.04099C18.4764 3.04099 19.0339 3.29961 19.4238 3.72641H19.0499C18.7521 3.72641 18.5114 3.96777 18.5114 4.26495C18.5114 4.56214 18.7521 4.80349 19.0499 4.80349H20.5187C20.8165 4.80349 21.0572 4.56214 21.0572 4.26495V2.7962C21.0572 2.49902 20.8165 2.25766 20.5187 2.25766C20.2322 2.25766 19.9986 2.48094 19.9812 2.76242C19.4126 2.2599 18.6689 1.96362 17.8749 1.96362Z",fill:"currentcolor"})]});o.displayName="ImageReplaceIcon",t.Z=o},42033:function(e,t,n){var i=n(57437),r=n(13856),o=n(2265);t.Z=e=>{let t=(0,o.useId)();return(0,i.jsx)(r.J,{width:"5",height:"5",viewBox:"0 0 20 20",fill:"none",...e,children:(0,i.jsxs)("svg",{children:[(0,i.jsx)("circle",{cx:"10",cy:"10",r:"8.5",stroke:"url(#linear-gradient-1-tab-spinner-icon-".concat(t,")"),strokeWidth:"2"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"linear-gradient-1-tab-spinner-icon-".concat(t),x1:"1.2197",y1:"4.5",x2:"16.5327",y2:"2.13901",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#DB519E"}),(0,i.jsx)("stop",{offset:"0.203125",stopColor:"#B14BF4"}),(0,i.jsx)("stop",{offset:"0.416667",stopColor:"#666BD1"}),(0,i.jsx)("stop",{offset:"0.625",stopColor:"#666BD1",stopOpacity:"0"})]})})]})})}},12162:function(e,t,n){var i=n(57437),r=n(13856);t.Z=e=>(0,i.jsx)(r.J,{w:"0.875rem",h:"0.8125rem",viewBox:"0 0 14 13",...e,children:(0,i.jsx)("path",{d:"M13 2H10.6273C10.0267 2 10.0013 1.924 9.83667 1.43066L9.702 1.026C9.49733 0.412668 8.926 0 8.27934 0H5.72066C5.074 0 4.502 0.412001 4.298 1.026L4.16334 1.43066C3.99867 1.92466 3.97333 2 3.37267 2H1C0.724 2 0.5 2.224 0.5 2.5C0.5 2.776 0.724 3 1 3H1.86533L2.37667 10.666C2.47534 12.1493 3.38467 13 4.87134 13H9.12933C10.6153 13 11.5247 12.1493 11.624 10.666L12.1353 3H13C13.276 3 13.5 2.776 13.5 2.5C13.5 2.224 13.276 2 13 2ZM5.24666 1.342C5.31533 1.13733 5.50533 1 5.72066 1H8.27934C8.49467 1 8.68534 1.13733 8.75334 1.342L8.888 1.74666C8.91733 1.834 8.94667 1.91867 8.97867 2H5.02C5.052 1.918 5.08201 1.83333 5.11134 1.74666L5.24666 1.342ZM10.6253 10.5993C10.562 11.5547 10.086 12 9.12866 12H4.87067C3.91333 12 3.438 11.5553 3.374 10.5993L2.86734 3H3.372C3.45533 3 3.52467 2.99134 3.59933 2.986C3.622 2.98934 3.64267 3 3.666 3H10.3327C10.3567 3 10.3767 2.98934 10.3993 2.986C10.474 2.99134 10.5433 3 10.6267 3H11.1313L10.6253 10.5993ZM8.83333 5.83333V9.16667C8.83333 9.44267 8.60933 9.66667 8.33333 9.66667C8.05733 9.66667 7.83333 9.44267 7.83333 9.16667V5.83333C7.83333 5.55733 8.05733 5.33333 8.33333 5.33333C8.60933 5.33333 8.83333 5.55733 8.83333 5.83333ZM6.16667 5.83333V9.16667C6.16667 9.44267 5.94267 9.66667 5.66667 9.66667C5.39067 9.66667 5.16667 9.44267 5.16667 9.16667V5.83333C5.16667 5.55733 5.39067 5.33333 5.66667 5.33333C5.94267 5.33333 6.16667 5.55733 6.16667 5.83333Z",fill:"currentColor"})})},42398:function(e,t,n){var i=n(57437),r=n(28104);t.Z=e=>(0,i.jsx)("svg",{width:"calc(".concat(r.cM," * 2.875)"),height:"calc(".concat(r.cM," * 2.875)"),viewBox:"0 0 46 46",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,i.jsx)("path",{d:"M16.2341 12.5159C15.6725 11.9543 15.6725 11.0438 16.2341 10.4822L21.9841 4.73223C22.1164 4.59998 22.2757 4.49458 22.452 4.42175C22.8028 4.27608 23.1995 4.27608 23.5503 4.42175C23.7266 4.49458 23.8855 4.59998 24.0178 4.73223L29.7678 10.4822C30.3293 11.0438 30.3293 11.9543 29.7678 12.5159C29.4879 12.7957 29.1199 12.9375 28.7519 12.9375C28.3839 12.9375 28.0158 12.7976 27.736 12.5159L24.4394 9.21915V30.6667C24.4394 31.4602 23.7954 32.1042 23.0019 32.1042C22.2084 32.1042 21.5644 31.4602 21.5644 30.6667V9.22102L18.2678 12.5177C17.7043 13.0774 16.7957 13.0775 16.2341 12.5159ZM34.5 17.7292C33.7065 17.7292 33.0625 18.3732 33.0625 19.1667C33.0625 19.9602 33.7065 20.6042 34.5 20.6042C37.5226 20.6042 38.8125 21.8941 38.8125 24.9167V34.5C38.8125 37.5226 37.5226 38.8125 34.5 38.8125H11.5C8.47742 38.8125 7.1875 37.5226 7.1875 34.5V24.9167C7.1875 21.8941 8.47742 20.6042 11.5 20.6042C12.2935 20.6042 12.9375 19.9602 12.9375 19.1667C12.9375 18.3732 12.2935 17.7292 11.5 17.7292C6.8655 17.7292 4.3125 20.2822 4.3125 24.9167V34.5C4.3125 39.1345 6.8655 41.6875 11.5 41.6875H34.5C39.1345 41.6875 41.6875 39.1345 41.6875 34.5V24.9167C41.6875 20.2822 39.1345 17.7292 34.5 17.7292Z",fill:"currentColor"})})},28212:function(e,t,n){var i=n(12199),r=n(74449),o=n(39954),l=n(65898),a=n(34381),s=n(79770),d=n(54944),c=n(23721),u=n(86067),m=n(68993);t.Z=()=>{let{handleGenError:e}=(0,s.c)(),t=(0,l.Z)(),[n,{loading:g}]=(0,i.D)(d.yH5,{onError:n=>{if(!((0,m.b)(n)&&(0,m.N)({error:n,onError:e})))return t({title:"Error",description:"Failed to create collection",type:l.N.error})},update(e,t){let{data:n}=t;e.modify({fields:{collection:e=>e?[...e,n]:e}})}}),[h,{loading:p}]=(0,i.D)(d.UU4,{onError:n=>{if(!((0,m.b)(n)&&(0,m.N)({error:n,onError:e})))return t({title:"Error",description:"Failed to delete collection",type:l.N.error})}}),[x,{loading:f}]=(0,i.D)(d.owm),[b,{loading:v}]=(0,i.D)(d.ee1),[C,{loading:I}]=(0,i.D)(d.CiZ,{update(e){e.modify({fields:{generated_images(e,t){let{DELETE:n}=t;return n}}})}}),[j,{loading:y}]=(0,i.D)(d.foU),w=(0,a.o)(),E=(0,r.C)(e=>e.generation.settings),_=(0,u.I)(),{userSelectedTeam:k}=(0,o.P)(),S=k(),L={where:{teamId:{_eq:S.id},parentCollectionId:{_is_null:!0}}},O={where:{userId:{_eq:_},teamId:{_eq:S.id},parentCollectionId:{_is_null:!0}}},R={where:{userId:{_eq:_},teamId:{_is_null:!0},parentCollectionId:{_is_null:!0}}},T=S.id?[{query:d.M7g,variables:O},{query:d.M7g,variables:L}]:[{query:d.M7g,variables:R}];async function N(e,t){let n=e.map(e=>e.generated_images.map(e=>e.id)).flat(1),i=t.map(e=>n.map(t=>({collectionId:String(e.id),generatedImageId:t}))).flat(1);await b({variables:{objects:i}})}let D=async function(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"New Collection",r={collectionName:i};return S.id&&(r.teamId=S.id),e&&(r.parentCollectionId=Number(e)),null===(t=(await n({variables:{arg1:r},refetchQueries:[...T,"GetCollectionDescendants"]})).data)||void 0===t?void 0:t.createCollection};async function M(e,t){await h({variables:{arg1:{collectionIds:[Number(e)],includeImages:t,contextTeamId:S.id}},refetchQueries:[...T,"GetCollectionDescendants"],update(t){t.modify({fields:{collection:n=>n?n.filter(n=>{var i;return t.identify(n)&&(null===(i=t.identify(n))||void 0===i?void 0:i.replace("collection:",""))!==e.toString()}):n}})}}),E.collections&&w({collections:E.collections.filter(t=>String(t.id)!==String(e))})}async function A(e,t){await x({variables:{id:Number(e),collectionName:t},refetchQueries:[...T,"GetCollectionDescendants"]})}let U=async function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];await b({variables:{objects:e},refetchQueries:()=>t?[...T,"GetCollectionDescendants","GetCollectionParents","GetCollections"]:[],optimisticResponse:{__typename:"mutation_root",insert_collection_image:{__typename:"collection_image_mutation_response",affected_rows:e.length,returning:[]}},update(t){t.modify({fields:{collection_images(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...t,...e.map(e=>({__typename:"collection_images",id:e.generatedImageId,...e}))]}}})}})},F=async function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];await C({variables:{where:{_or:e}},refetchQueries:()=>t?[...T,"GetCollections","GetFeedImages","GetCollectionDescendants","GetCollectionParents"]:[],optimisticResponse:{__typename:"mutation_root",delete_collection_image:{__typename:"collection_image_mutation_response",affected_rows:e.length}},update(t){e.length?t.modify({fields:{generated_images(t,n){let{readField:i}=n;return t.filter(t=>!e.some(e=>(function(e,t,n){var i;let r=e("id",t);return(null===(i=n.id)||void 0===i?void 0:i._eq)===r})(i,t,e)))}}}):t.modify({fields:{generated_images(e,t){let{DELETE:n}=t;return n}}})}})};async function W(e,t,n){let i=[];i=Array.isArray(t)?t.map(t=>({collectionId:String(e.id),generatedImageId:t.id})):[{collectionId:String(e.id),generatedImageId:t.id}],await U(i,!0);let r=Array.isArray(t)?t.length:1;null==n||n(c.g.ADD,r,e)}async function G(e,t,n){let i=[];i=Array.isArray(t)?t.map(t=>({_and:[{collectionId:{_eq:String(e.id)},generatedImageId:{_eq:t.id}}]})):[{_and:[{collectionId:{_eq:String(e.id)},generatedImageId:{_eq:t.id}}]}],await F(i,!0);let r=Array.isArray(t)?t.length:1;null==n||n(c.g.REMOVE,r,e)}async function P(e,t,n){let i=e.id?String(e.id):null,r=t.map(e=>({_and:[{collectionId:{_eq:i},generatedImageId:{_eq:e.id}}]}));await F(r,1===e.collection_images.length);let o=t.map(e=>({collectionId:i,generatedImageId:e.id}));await U(o,0===e.collection_images.length),null==n||n(c.g.MOVE,t.length,e,0)}async function Z(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,a=n.id?String(n.id):null,s=i.length>0,d=r.length>0;if(s&&await P(n,i),d){let s=r.map(e=>Number(e.id)),d=S.id?{ids:s,parentCollectionId:a,contextTeamId:S.id}:{ids:s,parentCollectionId:a};try{await j({variables:{arg1:d},refetchQueries:()=>["GetCollections","GetCollectionDescendants"],optimisticResponse:{__typename:"mutation_root",updateCollections:{__typename:"UpdateCollectionsOutput",count:s.length}},update:e=>{s.forEach(t=>{e.modify({id:"collection:".concat(t),fields:{parentCollectionId:()=>a}})})}}),null==o||o(c.g.MOVE,i.length,n,r.length)}catch(n){if((0,m.b)(n)&&(0,m.N)({error:n,onError:e}))return;return t({title:"Error",description:"Failed to update collection",type:l.N.error})}}}return{teamId:S.id,inTeam:!!S.id,handleAddCollectionImage:W,handleRemoveCollectionImage:G,handleMoveImages:P,handleMoveCollection:Z,createCollection:D,deleteCollection:M,updateCollectionName:A,createCollectionImages:U,deleteCollectionImages:F,createCollectionImagesFromGeneration:N,isCreatingCollection:g,isUpdatingCollection:f,isDeletingCollection:p,isCreatingCollectionImages:v,isDeletingCollectionImages:I,isUpdatingCollectionsLoading:y,TEAM_COLLECTIONS_QUERY:L,PERSONAL_TEAM_COLLECTIONS_QUERY:O,PERSONAL_COLLECTIONS_QUERY:R,getTeamCollectionsQuery:e=>({where:{teamId:{_eq:e||S.id},parentCollectionId:{_is_null:!0}}}),getPersonalTeamCollectionsQuery:e=>({where:{userId:{_eq:_},teamId:{_eq:e||S.id},parentCollectionId:{_is_null:!0}}})}}},23721:function(e,t,n){n.d(t,{g:function(){return r},Z:function(){return C}});var i,r,o=n(57437),l=n(78796),a=n(99376),s=n(2265),d=n(58055),c=n(68686),u=n(27648);let m=e=>{let{children:t,url:n}=e;return(0,o.jsx)(c.r,{as:u.default,color:"white",fontWeight:500,textDecoration:"underline",href:n,children:t})};var g=n(3452),h=n(48097);let p=e=>{let{operation:t,url:n,collectionName:i,imageCountText:l,collectionCountText:a,imageCount:s,onClose:c}=e;return(0,o.jsxs)(d.U,{borderRadius:"lg",color:"white",p:3,mx:4,my:1,bg:"surface.info",alignItems:"center",children:[(0,o.jsx)(g.Z,{}),(()=>{switch(t){case r.ADD_COLLECTION:return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m,{url:n,children:i})," has been created"," ",l?"with ".concat(l):""]});case r.ADD:return(0,o.jsxs)(o.Fragment,{children:[l," added to ",(0,o.jsx)(m,{url:n,children:i})]});case r.REMOVE:return(0,o.jsxs)(o.Fragment,{children:[l," removed from ",(0,o.jsx)(m,{url:n,children:i})]});case r.MOVE:return(0,o.jsxs)(o.Fragment,{children:[a," ",s?",":""," ",l," moved to"," ",(0,o.jsx)(m,{url:n,children:i})]});default:return null}})(),(0,o.jsx)(h.Z,{ml:1,justifySelf:"end",cursor:"pointer",onClick:c})]})};var x=n(63075),f=n(86067),b=n(18372);let v=()=>document.getElementsByClassName("intercom-lightweight-app").length>0;(i=r||(r={})).ADD_COLLECTION="ADD_COLLECTION",i.ADD="ADD",i.REMOVE="REMOVE",i.MOVE="MOVE";var C=function(){let{position:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{position:"bottom-right"},t=(0,l.p)(),n=(0,s.useRef)(),i=(0,a.usePathname)(),{pathPrefix:r}=(0,b.x)(i),d=(0,f.I)(),c=()=>{n.current&&t.close(n.current)};return{showCollectionImagesToast:(i,l,a,s)=>{var u;let m=l?"".concat(l," image").concat(l>1?"s":""):"",g=s?"".concat(s," collection").concat(s>1?"s":""):"",{collectionName:h,akUUID:f}=a||{},b="".concat(r,"/").concat(f),C=d===(null==a?void 0:null===(u=a.user)||void 0===u?void 0:u.id),I=!(null==a?void 0:a.teamId);r===x.l.TEAM_LIBRARY?b="".concat(C?x.l.TEAM_FEED_YOUR_COLLECTIONS:x.l.TEAM_FEED_TEAM_COLLECTIONS,"/").concat(f):I&&(b="".concat(x.l.LIBRARY_COLLECTIONS,"/").concat(f));let j=v();n.current=t({position:e,containerStyle:j?{position:"relative",bottom:"4.5rem"}:{},render:()=>(0,o.jsx)(p,{operation:i,url:b,collectionName:h,imageCountText:m,collectionCountText:g,imageCount:l,onClose:c})})}}}},18372:function(e,t,n){n.d(t,{x:function(){return l}});var i=n(63075);let r={title:"Collections",pathPrefix:i.l.LIBRARY_COLLECTIONS},o={[i.l.TEAM_FEED_TEAM_COLLECTIONS]:{title:"Team Collections",pathPrefix:i.l.TEAM_FEED_TEAM_COLLECTIONS},[i.l.TEAM_FEED_YOUR_COLLECTIONS]:{title:"Your Collections",pathPrefix:i.l.TEAM_FEED_YOUR_COLLECTIONS},[i.l.TEAM_FEED]:{title:"Team Feed",pathPrefix:i.l.TEAM_LIBRARY},[i.l.TEAM_LIBRARY]:{title:"Team Feed",pathPrefix:i.l.TEAM_LIBRARY}};function l(e){var t;let n=Object.entries(o).find(t=>{let[n]=t;return e===n||(null==e?void 0:e.startsWith(n))});return null!==(t=null==n?void 0:n[1])&&void 0!==t?t:r}},68404:function(e,t,n){n.d(t,{LR:function(){return m},Nc:function(){return c},Nv:function(){return o},W_:function(){return u},Xw:function(){return a},eE:function(){return s},mx:function(){return l},u5:function(){return d}});var i=n(61400),r=n(54944);let o=e=>e.imageToImage||e.imagePromptStrength||e.generation_controlnets.length>0,l=e=>{if(e)return e.motionGifUrl||e.motionGIFURL||void 0},a=e=>{if(e)return e.motionMp4Url||e.motionMP4URL||void 0},s=e=>{var t;return!!e&&!!(null!==(t=e.motion)&&void 0!==t?t:l(e)||a(e))},d=(e,t)=>{let n;if(e){switch(t){case i.F.IMAGE:"url"in e&&(n=e.url);break;case i.F.GIF:n=l(e);break;case i.F.MP4:n=a(e)}return n||void 0}},c=e=>{var t,n;return!!e&&!!(!e.motionGifUrl&&((null===(t=e.motionMp4Url)||void 0===t?void 0:t.startsWith("https"))||"motionMP4URL"in e&&(null===(n=e.motionMP4URL)||void 0===n?void 0:n.startsWith("https"))))},u=e=>e.trim().length>0,m=e=>!!e&&e!==r.T7i.Disabled},84347:function(e,t,n){n.d(t,{D:function(){return l},c:function(){return r}});var i=n(35992);let r=e=>{var t,n,r;let{error:o,onError:l}=e,a=null==o?void 0:null===(r=o.graphQLErrors)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:null===(t=n.extensions)||void 0===t?void 0:t.errorCode;return!!(a&&[i.ErrorCode.W001,i.ErrorCode.M003,i.ErrorCode.M004].includes(a))&&(l(o),!0)};function o(e){var t,n,i;return"object"==typeof e&&null!==e&&"object"==typeof(t=e.extensions)&&null!==t&&"string"==typeof t.errorCode&&"object"==typeof(n=t.additionalContext)&&null!==n&&(void 0===n.suspensionEndingAt||"string"==typeof n.suspensionEndingAt)&&(void 0===n.altDescription||"string"==typeof n.altDescription)&&(void 0===n.moderationReview||"object"==typeof(i=n.moderationReview)&&null!==i&&"string"==typeof i.generationRequest&&"string"==typeof i.moderatedPrompt&&void 0!==i.moderationMetadata&&"string"==typeof i.userId)}function l(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&Array.isArray(e.graphQLErrors)&&e.graphQLErrors.every(o)}}}]);